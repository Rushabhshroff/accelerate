{"version":3,"sources":["../node_modules/@ionic/core/dist/esm-es5 lazy /^/.*/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object","components/BackButton.tsx","components/Header.tsx","components/HorizontalCalender.tsx","Database.ts","data/Model.ts","data/models/WorkoutTemplate.ts","utils/Sound.ts","utils/RestTimer.tsx","pages/Settings/hook.tsx","data/models/Exercise.ts","utils/Units.ts","utils/Time.ts","data/models/Workout.ts","utils/index.ts","utils/WorkoutManager.ts","hooks/useWorkout.ts","modals/Alert.tsx","components/Exercise/ExerciseTimerText.tsx","components/WorkoutInProgressBar.tsx","svg/Workout.tsx","components/Loading.tsx","pages/Main/index.tsx","components/PopoverButton.tsx","components/Exercise/ExerciseItemThumb.tsx","modals/Loader.tsx","components/Exercise/ExerciseList.tsx","modals/ExercisesSelectModal.tsx","components/Picker.tsx","components/Exercise/ExerciseItem.tsx","utils/hooks.ts","components/ProgressCircle.tsx","pages/RestTimer.tsx","components/TimerButton.tsx","svg/Exercise.tsx","modals/Toast.tsx","pages/WorkoutPage/index.tsx","pages/Settings/index.tsx","pages/WorkoutTemplate/index.tsx","pages/WorkoutInfoPage/index.tsx","pages/WorkoutPage/EditWorkoutPage.tsx","components/Exercise/ExerciseInfo.tsx","modals/ExerciseInfoModal.tsx","components/Workout/WorkoutTemplateInfo.tsx","pages/Wokout/WorkoutTemplateInfoPage.tsx","components/Charts/GraphHolder.tsx","components/Charts/LineChart.tsx","components/Exercise/ExerciseCharts.tsx","svg/NoData.tsx","components/Exercise/ExerciseHistory.tsx","components/Exercise/ExerciseRecords.tsx","pages/Exercise/ExerciseInfoTabs.tsx","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","polyfill.ts","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","BackButton","props","router","useIonRouter","OnClickDefault","canGoBack","goBack","push","backRoute","performDefault","onClick","OnClick","icon","arrowBack","Header","classes","noborder","className","join","slot","backButton","onBack","backIcon","style","titleStyle","title","children","HorizontalCalender","scrollRef","selectedElemRef","offsetDate","state","selectedDate","moment","selectedMonth","clone","date","setTimeout","day","Number","format","elemWidth","window","innerWidth","scrollTo","this","month","days","daysInMonth","subtract","dates","i","add","setState","onSelectDate","hide","lines","onIonChange","setMonth","detail","value","toString","displayFormat","pickerFormat","margin","fontSize","chevronDown","ref","getDates","selected","isSame","selectDate","React","PureComponent","CalenderDate","Database","PouchDB","plugin","PouchDbFind","cordovaSqlitePlugin","isPlatform","adapter","InitDatabase","a","createIndex","index","fields","model","type","db","obj","forceId","_id","_rev","_deleted","v1","assign","put","res","rev","save","request","selector","find","options","get","post","ob","Model","WorkoutTemplate","exercises","name","temp","note","SetExercises","wrkot","ex","Sounds","Sound","aud","Audio","play","RestTimer","startTime","endTime","running","Math","round","timeleft","difference","Timers","timers","events","emit","catch","err","console","log","unshift","pop","Save","Start","now","Date","interval","setInterval","Done","time","Settings","current","restFinishSound","vibrateOnRestFinish","navigator","vibrate","End","clearInterval","EventEmitter","DefaultSettings","weightUnit","distanceUnit","sizeUnit","soundEffects","screenAwake","theme","mode","primaryColor","Reducer","action","x","create","doc","r","ok","useSettings","useReducer","InitSettings","init","Load","unit","weight","metric","imperial","distance","size","ExerciseCategories","BodyParts","ExerciseMap","reps","ExerciseData","data","forEach","exerciseData","Exercise","category","bodyPart","exerciseName","instructions","mediaType","sort","b","localeCompare","getAll","exs","concat","docs","Unit","system","qty","Invert","currentUnit","invertedUnit","convert","from","to","toExponential","Convert","twoDigits","oneTwoDigits","Time","durationFormValue","seconds","minutes","hours","hmsString","String","hms","match","TypeError","hoursNumber","minutesNumber","secondsNumber","floor","otherTime","Workout","templateId","findById","workoutId","d","WorkoutExercise","conv","milliseconds","hour","minute","convertMS","endTimestamp","startTimestamp","start","setHours","end","$gte","$lte","template","workout","set","length","undefined","timestamp","$gt","limit","sets","total","item","highest","reduce","filter","s","isSetEmpty","exercise","exerciseId","$exists","history","maxDistance","maxWeight","maxDuration","maxReps","totalDistance","totalWeight","totalReps","totalDuration","text","toHHMMSS","maximums","records","enables","maxSets","max","h","key","series","WorkoutManager","__save","cancel","some","filterOutEmptySets","WorkoutReducer","ExerciseReducer","k","useWorkout","SetWorkout","useEffect","OnChange","on","off","AlertBox","show","message","buttons","inputs","isOpen","onDidDismiss","bind","header","Component","ExerciseTimerText","useState","SetTime","WorkoutInProgressBar","routerLink","routerDirection","color","button","marginLeft","WorkoutSvg","c","getComputedStyle","document","body","getPropertyValue","data-name","xmlns","width","height","viewBox","transform","fill","opacity","cx","cy","rx","ry","y","points","stroke","strokeMiterlimit","Loading","WorkoutSegment","templates","SetTemplates","pathname","useLocation","mounted","SectionHeader","prps","display","visible","Show","handler","textAlign","t","WorkoutTemplateItem","OnDuplicate","Duplicate","OnDelete","new_templs","delete","HistorySegment","SetSelectedDate","workouts","SetWorkouts","loading","SetLoading","Empty","padding","findForDate","toDate","finally","w","WorkoutTab","segment","SetSegment","barbellOutline","settings","template_org","UpdateTemplate","flexDirection","WorkoutHistoryItem","StatItem","p","Total","timer","timeString","replace","barbell","walk","toText","bestSet","PopoverContext","createContext","PopoverButton","showPopover","event","popoverState","setShowPopover","Provider","buttonProps","persist","iconProps","ellipsisVertical","PopoverItem","useContext","ExerciseItemThumbnail","thumbnail","src","toLocaleLowerCase","backgroundColor","borderRadius","toUpperCase","Loader","Headerize","sortedList","letter","list","ExerciseListContext","selectable","selectionMode","selectedExercises","SetSelectedExercises","ExerciseListItem","checked","ExerciseItemThumb","OnIonChange","ExerciseListHeader","ExerciseList","searching","SetSearching","bodypartFilter","SetBodyPartFilter","categoriesFilter","SetCategoriesFilter","search","SetSearch","OnSelectedExerciseListChange","ApplyFilters","OnExerciseDataChange","tr","includes","toLowerCase","SearchBar","defaultValue","query","asModal","OnRequestDismiss","searchOutline","ExerciseListFilter","selectedBodyParts","selectedCategories","CreateExerciseModal","innerHeight","rowCount","rowHeight","rowRenderer","isSelected","onSelect","val","f","close","flexWrap","Add","marginTop","placeholder","okText","cancelText","vertical","horizontal","CreateExercise","CanSave","checkmark","ExerciseSelectModal","onDone","PickerBox","columns","ExerciseItemContext","ExerciseNote","note_og","SetNote","paddingLeft","side","trash","ExerciseSet","og_set","recentSet","btnClass","SetBtnClass","SetValue","done","Shake","prev","useRef","usePrev","warmup","setNumber","padStart","formatToTime","onInputChange","flag","warmUpRestTimer","restTime","onDelete","Popover","SetExercise","warmupset","OnAddNote","OnReplaceExercise","OnRemoveExercise","HandlerResetTimer","AddWarmUpSet","getTimerOptions","arr","utc","short","getSelectedTimerIndex","findIndex","selectedIndex","main","HandleWeightUnitPicker","HandleDistanceUnitPicker","getSelectedTimerValue","ExerciseItem","og_exercise","SetPrev","recent","OnRequestRemove","DeleteSet","GetPrevSetForIndex","notes","ProgressCircle","defaultProps","percent","leftTransformerDegree","rightTransformerDegree","borderWidth","radius","bgcolor","left","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","top","innerColor","textStyle","useRestTimer","SetTimeLeft","Timer","getCustomOptions","RestTimerModal","Hide","percentRemaining","slice","Subtract","expand","StartCustom","TimerButton","zIndex","timerOutline","ExerciseSvg","Toast","duration","WorkoutPage","getName","getDaySlotFromTime","savable","canSave","finish","createOutline","label","OnRemoveExecise","UnitsLocalization","SetSettings","GeneralSettings","RestTimerSettings","OtherServices","ContactSupport","Legal","SegmentHeader","SegmentItem","last","SettingsPage","version","buildNumber","WorkoutTemplatePage","WorkoutTemplateReducer","useWorkoutTemplate","params","WorkoutInfoPage","iworkout","CreateWorkoutTemplate","parseWorkout","shareOutline","shareSocial","fontWeight","WorkoutSetToText","startFrom","EditWorkoutPage","removedExercises","SetRemovedExercises","ExerciseInfo","getMedia","imageUrl","videoUrl","media","textDecoration","ExerciseInfoModal","WorkoutTemplateInfo","OnDeleted","fromTemplate","OnStartExercise","iEx","noInfo","informationCircle","WorkoutTemplateInfoPage","SetTemplate","GraphHolder","LineCharts","chart","toolbar","noData","align","verticalAlign","offsetX","offsetY","markers","yaxis","xaxis","ExerciseCharts","graphs","OnBack","LineChart","NoDataSvg","ExerciseHistory","flex","ExerciseRecords","ExerciseInfoTabs","SetHistory","noAbout","exact","path","render","tab","href","reload","statsChart","clipboard","App","InitializedApp","LoadAll","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","prototype","valueOf","substr","ReactDOM","StrictMode","getElementById","URL","process","origin","addEventListener","fetch","headers","response","contentType","status","indexOf","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"sh+IAAA,IAAIA,EAAM,CACT,8BAA+B,CAC9B,IACA,GAED,uBAAwB,CACvB,IACA,GAED,uBAAwB,CACvB,IACA,GAED,0BAA2B,CAC1B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,wBAAyB,CACxB,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,sBAAuB,CACtB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,qBAAsB,CACrB,IACA,IAED,mCAAoC,CACnC,IACA,IAED,uBAAwB,CACvB,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,wBAAyB,CACxB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,uBAAwB,CACvB,IACA,GAED,uBAAwB,CACvB,IACA,IAED,yBAA0B,CACzB,IACA,GAED,8BAA+B,CAC9B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,sBAAuB,CACtB,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,gCAAiC,CAChC,IACA,KAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAMX,EAAIE,GAAMU,EAAKD,EAAI,GAC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","file":"static/js/main.32e8ad01.chunk.js","sourcesContent":["var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t217,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t218,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t219,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t220,\n\t\t17\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t221,\n\t\t18\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t222,\n\t\t43\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t223,\n\t\t19\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t224,\n\t\t20\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t225,\n\t\t21\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t226,\n\t\t22\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t227,\n\t\t44\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t228,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t229,\n\t\t23\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t230,\n\t\t45\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t231,\n\t\t46\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t232,\n\t\t24\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t233,\n\t\t25\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t234,\n\t\t26\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t235,\n\t\t27\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t236,\n\t\t28\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t237,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t238,\n\t\t14\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t239,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t240,\n\t\t29\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t241,\n\t\t30\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t242,\n\t\t31\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t243,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t244,\n\t\t16\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t245,\n\t\t47\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t246,\n\t\t32\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t247,\n\t\t33\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t248,\n\t\t34\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t249,\n\t\t35\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t250,\n\t\t48\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t251,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t252,\n\t\t49\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t253,\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t254,\n\t\t15\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t255,\n\t\t37\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t256,\n\t\t38\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t257,\n\t\t39\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t258,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t259,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 119;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t260,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 121;\nmodule.exports = webpackAsyncContext;","import { IonButton, IonIcon, useIonRouter } from '@ionic/react'\r\nimport React from 'react'\r\nimport { arrowBack } from 'ionicons/icons'\r\n\r\ninterface BackButtonProps {\r\n    icon?: any,\r\n    OnClick?: (e: { performDefault: () => void }) => void,\r\n    backRoute?:string\r\n}\r\nconst BackButton: React.FC<BackButtonProps> = (props) => {\r\n    const router = useIonRouter()\r\n    const OnClickDefault = () => {\r\n        router.canGoBack() ? router.goBack() : router.push(props.backRoute || '/main', 'root', 'replace')\r\n    }\r\n    const e = {\r\n        performDefault: OnClickDefault\r\n    }\r\n    return (\r\n        <IonButton onClick={() => props.OnClick ? props.OnClick(e) : OnClickDefault()}>\r\n            <IonIcon icon={props.icon || arrowBack} />\r\n        </IonButton>\r\n    )\r\n}\r\n\r\nexport default BackButton","import { IonBackButton, IonButtons, IonHeader, IonMenuButton, IonTitle, IonToolbar } from '@ionic/react'\r\nimport React, { CSSProperties } from 'react'\r\nimport BackButton from './BackButton'\r\n\r\ninterface HeaderProps {\r\n    title?: string,\r\n    noborder?: boolean,\r\n    backButton?: boolean,\r\n    backIcon?: any,\r\n    onBack?:(e:any)=>void,\r\n    titleStyle?:CSSProperties,\r\n    backRoute?:string\r\n}\r\n\r\nconst Header: React.FC<HeaderProps> = (props) => {\r\n    const classes: string[] = []\r\n    if (props.noborder) {\r\n        classes.push('ion-no-border')\r\n    }\r\n    return (\r\n        <IonHeader className={classes.join(' ')}>\r\n            <IonToolbar>\r\n                <IonButtons slot='start'>\r\n                    {props.backButton ? <BackButton OnClick={props.onBack} icon={props.backIcon} /> : <IonMenuButton />}\r\n                </IonButtons>\r\n                <IonTitle style={props.titleStyle}>{props.title}</IonTitle>\r\n                {props.children}\r\n            </IonToolbar>\r\n\r\n        </IonHeader>\r\n    )\r\n}\r\n\r\nexport default Header","import { IonButton, IonDatetime, IonIcon, IonItem, IonText } from '@ionic/react'\r\nimport { chevronDown } from 'ionicons/icons'\r\nimport React, { useEffect, useRef } from 'react'\r\nimport moment, { Moment } from 'moment'\r\nimport './HorizontalCalender.scss'\r\ntype HorizontalCalenderProps = {\r\n    selectedDate?: Moment,\r\n    onSelectDate?: (date: Moment) => void,\r\n    hide?: boolean\r\n}\r\nexport default class HorizontalCalender extends React.PureComponent<HorizontalCalenderProps>{\r\n    scrollRef: HTMLDivElement | null = null\r\n    selectedElemRef: HTMLDivElement | null = null\r\n    offsetDate: Moment | null = null\r\n    state = {\r\n        selectedDate: this.props.selectedDate || moment(),\r\n        selectedMonth: (this.props.selectedDate || moment()).clone().date(1),\r\n    }\r\n    componentDidMount() {\r\n        setTimeout(() => {\r\n            if (this.offsetDate) {\r\n                let day = Number(this.offsetDate.format('DD')) - 1\r\n                let elemWidth = window.innerWidth / 7;\r\n                this.scrollRef?.scrollTo(elemWidth * (day - 1), 0)\r\n            }\r\n        }, 500)\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.offsetDate) {\r\n            let day = Number(this.offsetDate.format('DD')) - 1\r\n            let elemWidth = window.innerWidth / 7;\r\n            this.scrollRef?.scrollTo(elemWidth * (day - 1), 0)\r\n        }\r\n    }\r\n    getDates() {\r\n        let month = moment(this.state.selectedMonth);\r\n        let days = month.daysInMonth()\r\n        month.subtract(1, 'day');\r\n        let dates: Moment[] = []\r\n        for (let i = 0; i < days; i++) {\r\n            dates.push(month.add(1, 'day').clone())\r\n        }\r\n        return dates\r\n    }\r\n    setMonth(month: Moment) {\r\n        this.setState({\r\n            selectedMonth: month\r\n        })\r\n    }\r\n    selectDate(date: Moment) {\r\n        this.setState({\r\n            selectedDate: date\r\n        }, () => {\r\n            if (this.props.onSelectDate) {\r\n                this.props.onSelectDate(date)\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                <div className={`calender-header${this.props.hide ? ' hide' : ''}`}>\r\n                    <IonItem lines='none'>\r\n                        <IonDatetime onIonChange={(e) => {\r\n                            this.setMonth(moment(e.detail.value || this.state.selectedMonth))\r\n                        }} value={this.state.selectedMonth.toString()} displayFormat='MMMM YYYY' pickerFormat='MMMM YYYY' />\r\n                        <IonIcon style={{ margin: 5, fontSize: 16 }} icon={chevronDown} />\r\n                    </IonItem>\r\n                </div>\r\n                <div ref={(ref) => this.scrollRef = ref} className={`horizontal-calender-container${this.props.hide ? ' hide' : ''}`}>\r\n                    {this.getDates().map((date) => {\r\n                        let selected = date.isSame(this.state.selectedDate, 'day')\r\n                        if (selected) {\r\n                            this.offsetDate = date\r\n                        }\r\n                        return (\r\n                            <div onClick={() => this.selectDate(date)} key={date.toString()} ref={(ref) => this.selectedElemRef = ref} className={`calender-item calender-date${selected ? ' selected' : ''}`}>\r\n                                <CalenderDate date={date} />\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\ninterface CalenderDateProps {\r\n    date: Moment,\r\n}\r\nconst CalenderDate: React.FC<CalenderDateProps> = (props) => {\r\n    return (\r\n        <>\r\n            <IonText>{props.date.format('DD')}</IonText>\r\n            <IonText>{props.date.format('MMM')}</IonText>\r\n        </>\r\n    )\r\n}","import PouchDB from 'pouchdb'\r\nimport PouchDbFind from 'pouchdb-find'\r\nimport cordovaSqlitePlugin from 'pouchdb-adapter-cordova-sqlite';\r\nimport { isPlatform } from '@ionic/react';\r\nexport default function Database<T>() {\r\n    PouchDB.plugin(PouchDbFind);\r\n    PouchDB.plugin(cordovaSqlitePlugin);\r\n    if (!isPlatform('mobile') || isPlatform('mobileweb')) {\r\n        return new PouchDB<T>('exercises.db');\r\n    } else {\r\n        return new PouchDB<T>('exercises.db', { adapter: 'cordova-sqlite' });\r\n    }\r\n}\r\n\r\nexport async function InitDatabase() {\r\n    await Database().createIndex({ index: { fields: ['type'] } })\r\n    await Database().createIndex({ index: { fields: ['timestamp'] } })\r\n}","import Database from \"../Database\"\r\nimport {v1} from 'uuid'\r\nfunction model<T = any, X = unknown>(type: string) {\r\n    interface IModel {\r\n        new(obj?: T,forceId?:boolean): Model & T\r\n        find(request: PouchDB.Find.FindRequest<T>): Promise<PouchDB.Find.FindResponse<T>>,\r\n        findById(id: string, options?: PouchDB.Core.GetOptions): Promise<T & PouchDB.Core.IdMeta & PouchDB.Core.GetMeta>\r\n        create(obj: T): Promise<Model & T>,\r\n        getAll(): Promise<PouchDB.Find.FindResponse<T>>\r\n    }\r\n    let db = Database<T>()\r\n    class Model {\r\n        _id!: string\r\n        _rev!: string\r\n        _deleted!:boolean\r\n        type: string\r\n        constructor(obj?: T,forceId?:boolean) {\r\n            this.type = type\r\n            this._id = v1()\r\n            if (obj) {\r\n                return Object.assign(this, obj)\r\n            }\r\n            if(forceId){\r\n                this._id = v1();\r\n            }\r\n        }\r\n        static find(request: PouchDB.Find.FindRequest<T>) {\r\n            request.selector.type = type\r\n            return db.find(request).then((res) => {\r\n                return res\r\n            })\r\n        }\r\n        static findById(id: string, options?: PouchDB.Core.GetOptions) {\r\n            return db.get(id);\r\n        }\r\n        async save() {\r\n            let res = await db.put<this & T>(this as this & T)\r\n            this._rev = res.rev\r\n        }\r\n        static async create(obj: T) {\r\n            let res = await db.post(obj as Model & T);\r\n            let ob = new Model(obj);\r\n            ob._rev = res.rev;\r\n            ob._id = res.id;\r\n            return ob as Model & T\r\n        }\r\n        static getAll() {\r\n            return this.find({selector: {}})\r\n        }\r\n        delete(){\r\n            this._deleted = true;\r\n            return this.save();\r\n        }\r\n    }\r\n    //@ts-ignore\r\n    return Model as Model & X & IModel\r\n}\r\n\r\nexport default model;\r\n\r\n","import model from \"../Model\";\r\nimport { IWorkoutExercise, Workout, WorkoutExercise } from \"./Workout\";\r\n\r\nexport type IWorkoutTemplate = {\r\n    name: string,\r\n    note?: string,\r\n    exercises: IWorkoutExercise[]\r\n}\r\n\r\nclass WorkoutTemplate extends model<IWorkoutTemplate>('workout_template') {\r\n    static async parseWorkout(wrkot: Workout) {\r\n        let exercises = await wrkot.exercises()\r\n        let ex = new WorkoutTemplate({\r\n            name: wrkot.name,\r\n            note: wrkot.note,\r\n            exercises: []\r\n        })\r\n        ex.SetExercises(exercises);\r\n        return ex;\r\n    }\r\n    SetExercises(exercises: IWorkoutExercise[]) {\r\n        this.exercises = exercises.map((e: any) => {\r\n            delete e._id;\r\n            delete e._rev;\r\n            return e as IWorkoutExercise;\r\n        })\r\n    }\r\n    Duplicate(name?: string) {\r\n        let temp = new WorkoutTemplate({ name: name || this.name, note: this.note, exercises: [] });\r\n        temp.SetExercises(this.exercises);\r\n        return temp;\r\n    }\r\n}\r\n\r\nexport default WorkoutTemplate;","export type Sounds = keyof typeof Sounds\r\n\r\nexport const Sounds = {\r\n    \"boxing_bell\": \"boxing_bell.mp3\",\r\n    \"delightful\": \"delightful.mp3\",\r\n    \"melody\": \"melody_chime.mp3\",\r\n    \"radar\": \"radar.mp3\",\r\n    \"short_bell\": \"short_bell.pm3\",\r\n    \"tritone\": \"tritone_revised.mp3\",\r\n}\r\nexport default class Sound {\r\n    static play(aud: Sounds) {\r\n        let audio = new window.Audio(`/assets/sounds/${Sounds[aud]}`);\r\n        audio.play()\r\n    }\r\n}","import EventEmitter from \"events\";\r\nimport { useReducer } from \"react\";\r\nimport Database from \"../Database\";\r\nimport { Settings } from \"../pages/Settings/hook\";\r\nimport Sound from \"./Sound\";\r\n\r\nexport default class RestTimer {\r\n    static events: EventEmitter = new EventEmitter()\r\n    static Timers = [\r\n        1 * 60 * 1000,\r\n        2 * 60 * 1000,\r\n        3 * 60 * 1000,\r\n        4 * 60 * 1000\r\n    ]\r\n    static startTime: number\r\n    static endTime: number\r\n    static timeleft: number = 0;\r\n    static _rev: string;\r\n    static get running() {\r\n        return RestTimer.startTime && RestTimer.endTime\r\n    };\r\n    static interval: NodeJS.Timeout\r\n    static difference() {\r\n        if (RestTimer.startTime && RestTimer.endTime) {\r\n            let diff = RestTimer.endTime - RestTimer.startTime;\r\n            return diff;\r\n        } else {\r\n            return 0\r\n        }\r\n    }\r\n    static percentRemaining() {\r\n        if (RestTimer.running) {\r\n            let percent = Math.round((RestTimer.timeleft / RestTimer.difference()) * 100)\r\n            return percent;\r\n        } else {\r\n            return undefined;\r\n        }\r\n    }\r\n    static Load() {\r\n        Database<any>().get('timers').then((res) => {\r\n            RestTimer.Timers = res.timers\r\n            RestTimer._rev = res._rev\r\n            RestTimer.events.emit('change');\r\n        }).catch((err) => {\r\n\r\n        })\r\n    }\r\n    static Save() {\r\n        console.log(RestTimer.Timers);\r\n        return Database<any>().put({\r\n            _id: 'timers',\r\n            _rev: RestTimer._rev,\r\n            timers: RestTimer.Timers\r\n        })\r\n    }\r\n    static StartCustom(endTime: number) {\r\n        RestTimer.Timers.unshift(endTime);\r\n        RestTimer.Timers.pop();\r\n        RestTimer.Save();\r\n        return RestTimer.Start(endTime);\r\n    }\r\n    static Start(endTime: number) {\r\n        let now = Date.now()\r\n        RestTimer.endTime = now + endTime;\r\n        RestTimer.startTime = now\r\n        RestTimer.timeleft = RestTimer.endTime - Date.now();\r\n        RestTimer.events.emit('change', RestTimer.timeleft);\r\n        RestTimer.interval = setInterval(() => {\r\n            RestTimer.timeleft = RestTimer.endTime - Date.now();\r\n            RestTimer.events.emit('change', RestTimer.timeleft);\r\n            if (RestTimer.timeleft <= 0) {\r\n                RestTimer.Done();\r\n            }\r\n        }, 1000)\r\n    }\r\n    static Add(time: number) {\r\n        if (RestTimer.endTime) {\r\n            console.log(RestTimer.endTime);\r\n            RestTimer.endTime += time;\r\n            console.log(RestTimer.endTime);\r\n        }\r\n    }\r\n    static Subtract(time: number) {\r\n        if (RestTimer.endTime) {\r\n            RestTimer.endTime -= time;\r\n        }\r\n    }\r\n    static Done() {\r\n        if (Settings.current.restFinishSound) {\r\n            Sound.play(Settings.current.restFinishSound)\r\n        }\r\n        if (Settings.current.vibrateOnRestFinish) {\r\n            if (window.navigator && window.navigator.vibrate) {\r\n                window.navigator.vibrate(500)\r\n            }\r\n        }\r\n        RestTimer.End()\r\n    }\r\n    static End() {\r\n        RestTimer.startTime = 0;\r\n        RestTimer.endTime = 0\r\n        RestTimer.timeleft = 0;\r\n        if (RestTimer.interval) {\r\n            clearInterval(RestTimer.interval)\r\n        }\r\n        RestTimer.events.emit('change', RestTimer.timeleft);\r\n    }\r\n}","import { useReducer } from \"react\";\r\nimport Database from \"../../Database\";\r\nimport RestTimer from \"../../utils/RestTimer\";\r\nimport { Sounds } from \"../../utils/Sound\";\r\n\r\nconst DefaultSettings: Settings = {\r\n    _id: 'settings',\r\n    weightUnit: 'metric',\r\n    distanceUnit: 'metric',\r\n    sizeUnit: 'metric',\r\n    soundEffects: true,\r\n    screenAwake: true,\r\n    theme: {\r\n        mode: 'light',\r\n        primaryColor: '#FC5350'\r\n    },\r\n    vibrateOnRestFinish: true,\r\n    restFinishSound: \"delightful\"\r\n}\r\nexport interface Settings {\r\n    _id: 'settings',\r\n    _rev?: string,\r\n    weightUnit: 'metric' | 'imperial',\r\n    distanceUnit: 'metric' | 'imperial',\r\n    sizeUnit: 'metric' | 'imperial',\r\n    soundEffects: boolean,\r\n    screenAwake: boolean,\r\n    theme: {\r\n        mode: 'light' | 'dark',\r\n        primaryColor: string\r\n    },\r\n    vibrateOnRestFinish: boolean,\r\n    restFinishSound: Sounds\r\n}\r\nconst Reducer = (state: Settings, action: Partial<Settings>) => {\r\n    let x = Object.create(state);\r\n    Object.assign(Settings.current, action) as Settings;\r\n    Settings.save();\r\n    return Object.assign(x, action) as Settings;\r\n}\r\nexport class Settings {\r\n    static current: Settings = DefaultSettings\r\n    static init() {\r\n        Database<Settings>().get('settings').then((doc) => {\r\n            console.log(doc)\r\n            Settings.current = doc || DefaultSettings;\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        })\r\n    }\r\n    static save() {\r\n        console.log(Settings.current)\r\n        return Database<Settings>().put(Settings.current).then(r => {\r\n            console.log(r)\r\n            Settings.current._rev = r.rev\r\n            return r.ok\r\n        }).catch((err)=>{\r\n            return false\r\n        });\r\n    }\r\n    static unit = {\r\n        weight: {\r\n            metric: 'kg',\r\n            imperial: 'lbs'\r\n        },\r\n        distance: {\r\n            metric: 'm',\r\n            imperial: 'ft'\r\n        },\r\n        size: {\r\n            metric: 'cm',\r\n            imperial: 'in'\r\n        }\r\n    }\r\n}\r\nexport default function useSettings() {\r\n    return useReducer(Reducer, Settings.current);\r\n}\r\nexport function InitSettings() {\r\n    Settings.init()\r\n    RestTimer.Load();\r\n}","import exerciseData from '../../dataset.json'\r\nimport model from '../Model'\r\nimport {EventEmitter} from 'events'\r\nexport interface IExercise {\r\n    _id: string,\r\n    exerciseName: string,\r\n    category: ExerciseCategory,\r\n    bodyPart: BodyPart,\r\n    instructions?: string[],\r\n    mediaType?: 'image' | 'video' | '',\r\n    thumbnail?: string,\r\n    videoUrl?: string,\r\n    imageUrl?: string\r\n}\r\n\r\nexport type ExerciseCategory = 'barbell' | 'dumbbell' | 'machine' | 'weighted-bodyweight' | 'assisted-body' | 'reps-only' | 'cardio' | 'duration'\r\nexport type BodyPart = 'none' | 'core' | 'arms' | 'back' | 'chest' | 'legs' | 'shoulders' | 'other' | 'olympic' | 'full-body' | 'cardio'\r\nexport const ExerciseCategories = {\r\n    'barbell': 'Barbell',\r\n    'dumbbell': 'Dumbbell',\r\n    'machine': 'Machine/Other',\r\n    'weighted-bodyweight': 'Weighted Body Weight',\r\n    'assisted-body': 'Assisted Body',\r\n    'reps-only': 'Repetitons Only',\r\n    'cardio': 'Cardio',\r\n    'duration': \"Duration\"\r\n}\r\n\r\nexport const BodyParts = {\r\n    'none': 'None',\r\n    'core': 'Core',\r\n    'arms': 'Arms',\r\n    'chest': 'Chest',\r\n    'legs': 'Legs',\r\n    'back': \"Back\",\r\n    'shoulders': 'Shoulders',\r\n    'other': 'Others',\r\n    'olympic': 'Olympic',\r\n    'full-body': 'Full Body',\r\n    'cardio': 'Cardio'\r\n}\r\nexport const ExerciseMap: {\r\n    [key: string]: {\r\n        weight?: true,\r\n        reps?: true,\r\n        time?: true,\r\n        distance?: true\r\n    }\r\n} = {\r\n    'barbell': {\r\n        weight: true,\r\n        reps: true\r\n    },\r\n    'dumbbell': {\r\n        weight: true,\r\n        reps: true\r\n    },\r\n    'machine': {\r\n        weight: true,\r\n        reps: true\r\n    },\r\n    'weighted-bodyweight': {\r\n        weight: true,\r\n        reps: true\r\n    },\r\n    'assisted-body': {\r\n        weight: true,\r\n        reps: true\r\n    },\r\n    'reps-only': {\r\n        reps: true\r\n    },\r\n    'cardio': {\r\n        distance: true,\r\n        time: true\r\n    },\r\n    'duration': {\r\n        time: true\r\n    }\r\n}\r\n\r\nexport class ExerciseData {\r\n    static events = new EventEmitter();\r\n    static get map() {\r\n        let ob: { [key: string]: IExercise | undefined } = {}\r\n        ExerciseData.data.forEach((ex) => {\r\n            ob[ex._id] = ex as IExercise\r\n        })\r\n        return ob;\r\n    }\r\n    static data = exerciseData;\r\n}\r\n\r\nexport default class Exercise extends model<IExercise>('exercise') {\r\n    static async Add(name: string, category: string, bodyPart: string) {\r\n        let ex = new Exercise();\r\n        ex.exerciseName = name\r\n        ex.category = category as ExerciseCategory;\r\n        ex.bodyPart = bodyPart as BodyPart;\r\n        ex.instructions = [];\r\n        ex.mediaType = ''\r\n        await ex.save()\r\n        //@ts-ignore\r\n        ExerciseData.data.push(ex);\r\n        ExerciseData.data = ExerciseData.data.sort((a, b) => a.exerciseName.localeCompare(b.exerciseName))\r\n        ExerciseData.events.emit('change')\r\n    }\r\n    static async LoadAll() {\r\n        let exs = await Exercise.getAll();\r\n        //@ts-ignore\r\n        ExerciseData.data = ExerciseData.data.concat(exs.docs).sort((a, b) => a.exerciseName.localeCompare(b.exerciseName));\r\n        ExerciseData.events.emit('change')\r\n    }\r\n}","import convert from 'convert-units'\r\nimport { Settings } from '../pages/Settings/hook'\r\ntype Unit = 'kg' | 'lb' | 'km' | 'mi' | 'cm' | 'in'\r\nexport function Unit(system: 'metric' | 'imperial' | undefined, qty: 'weight' | 'distance' | 'size'): Unit {\r\n    return {\r\n        weight: {\r\n            metric: 'kg',\r\n            imperial: 'lb'\r\n        },\r\n        distance: {\r\n            metric: 'km',\r\n            imperial: 'mi'\r\n        },\r\n        size: {\r\n            metric: 'cm',\r\n            imperial: 'in'\r\n        }\r\n    }[qty][system || 'metric'] as Unit\r\n}\r\n\r\nexport function Invert(system: 'metric' | 'imperial', qty: 'weight' | 'distance' | 'size', value: number) {\r\n    let currentUnit = Unit(system, qty);\r\n    let invertedUnit = Unit(system === 'imperial' ? 'metric' : 'imperial', qty);\r\n    return Number(convert(value).from(currentUnit).to(invertedUnit).toExponential(2));\r\n}\r\n\r\nexport function Convert(from: 'metric' | 'imperial', to: 'metric' | 'imperial', unit: 'weight' | 'distance' | 'size', value: number) {\r\n    if (from !== to) {\r\n        return Number(convert(value).from(Unit(from, unit)).to(Unit(to, unit)).toExponential(2))\r\n    } else {\r\n        return value;\r\n    }\r\n}","var twoDigits = function (oneTwoDigits: any) {\r\n    if (oneTwoDigits < 10) { oneTwoDigits = \"0\" + oneTwoDigits };\r\n    return oneTwoDigits;\r\n}\r\n\r\nexport default class Time {\r\n    seconds: number = 0\r\n    minutes: number = 0\r\n    hours: number = 0\r\n    constructor(durationFormValue?: string | number) {\r\n        if (!durationFormValue) {\r\n            return;\r\n        }\r\n        var hmsString = String(durationFormValue);\r\n        var hms = hmsString.match(/^(?:(?:(\\d+)\\:)?(\\d+)\\:)?(\\d+)$/);\r\n        if (hms === null) {\r\n            throw new TypeError(\"Parameter \" + hmsString +\r\n                \" must have the format ((int+:)?int+:)?int+\");\r\n        }\r\n        var hoursNumber = +hms[1] || 0;\r\n        var minutesNumber = +hms[2] || 0;\r\n        var secondsNumber = +hms[3] || 0;\r\n        this.seconds = twoDigits(secondsNumber % 60);\r\n        minutesNumber += Math.floor(secondsNumber / 60);\r\n        this.minutes = twoDigits(minutesNumber % 60);\r\n        hoursNumber += Math.floor(minutesNumber / 60);\r\n        this.hours = twoDigits(hoursNumber);\r\n    }\r\n    equals(otherTime: any) {\r\n        return (this.hours === otherTime.hours) &&\r\n            (this.minutes === otherTime.minutes) &&\r\n            (this.seconds === otherTime.seconds);\r\n    };\r\n    toString() {\r\n        return this.hours + \":\" + this.minutes + \":\" + this.seconds;\r\n    }\r\n    milliseconds() {\r\n        return this.hours * 60 * 60 * 1000 + this.minutes * 60 * 1000 + this.seconds * 1000\r\n    }\r\n}","import Database from \"../../Database\";\r\nimport { Settings } from \"../../pages/Settings/hook\";\r\nimport model from \"../Model\";\r\nimport { BodyPart, ExerciseCategory, ExerciseMap, IExercise } from \"./Exercise\";\r\nimport { Convert, Unit } from \"../../utils/Units\";\r\nimport { convertMS } from \"../../utils\";\r\nimport WorkoutTemplate from \"./WorkoutTemplate\";\r\nimport Time from \"../../utils/Time\";\r\nexport interface IWorkout {\r\n    name: string,\r\n    startTimestamp: number,\r\n    endTimestamp: number,\r\n    note?: string,\r\n    templateId?: string\r\n}\r\n\r\nexport interface IWorkoutSet {\r\n    _id: string,\r\n    warmup?: boolean,\r\n    reps?: number,\r\n    time?: string,\r\n    distance?: number,\r\n    weight?: number,\r\n    timestamp?: number\r\n}\r\ntype Unit = 'metric' | 'imperial'\r\nexport interface IWorkoutExercise {\r\n    exerciseId: string,\r\n    workoutId: string,\r\n    exerciseName: string,\r\n    bodyPart: BodyPart,\r\n    category: ExerciseCategory,\r\n    sets: IWorkoutSet[]\r\n    warmupset: IWorkoutSet[]\r\n    note?: { _id: string, text: string }[],\r\n    restTime?: number,\r\n    warmUpRestTimer?: number,\r\n    weightUnit?: 'metric' | 'imperial',\r\n    distanceUnit?: 'metric' | 'imperial',\r\n    sizeUnit?: 'metric' | 'imperial'\r\n    timestamp: number\r\n}\r\n\r\nexport class Workout extends model<IWorkout>('workout') {\r\n    static findForDate(date: Date) {\r\n        let start = new Date(date).setHours(0, 0, 0, 0);\r\n        let end = new Date(date).setHours(23, 59, 59, 999);\r\n        return Workout.find({\r\n            selector: {\r\n                startTimestamp: {\r\n                    $gte: start\r\n                },\r\n                endTimestamp: {\r\n                    $lte: end\r\n                }\r\n            }\r\n        })\r\n    }\r\n    static fromTemplate(template: WorkoutTemplate) {\r\n        let workout = new Workout();\r\n        workout.name = template.name\r\n        workout.note = template.note;\r\n        return workout;\r\n    }\r\n    async template() {\r\n        if (this.templateId) {\r\n            return WorkoutTemplate.findById(this.templateId)\r\n        }\r\n    }\r\n    exercises() {\r\n        return Database<IWorkoutExercise>().find({\r\n            selector: {\r\n                type: 'workout_exercise',\r\n                workoutId: this._id\r\n            }\r\n        }).then((res) => {\r\n            return res.docs.map((d) => new WorkoutExercise(d))\r\n        })\r\n    }\r\n    timeString() {\r\n        let diff = this.endTimestamp - this.startTimestamp\r\n        let conv = convertMS(diff)\r\n        return `${conv.hour}h ${conv.minute}m ${conv.seconds}S`\r\n    }\r\n    delete() {\r\n        this._deleted = true;\r\n        return this.save()\r\n    }\r\n}\r\n\r\nexport class WorkoutExercise extends model<IWorkoutExercise>('workout_exercise') {\r\n    constructor(ob?: IWorkoutExercise, forceId?: boolean) {\r\n        super(ob, forceId);\r\n        this.weightUnit = ob?.weightUnit || Settings.current.weightUnit;\r\n        this.distanceUnit = ob?.distanceUnit || Settings.current.distanceUnit;\r\n        this.sizeUnit = ob?.sizeUnit || Settings.current.sizeUnit;\r\n    }\r\n    static isSetEmpty(set: IWorkoutSet) {\r\n        return !set.weight && !set.distance && !set.time\r\n    }\r\n    WorkoutSetToText(set: IWorkoutSet) {\r\n        if (set.weight) {\r\n            return `${set.weight} ${Unit(this.weightUnit, 'weight')} x ${set.reps}`\r\n        } else if (set.distance) {\r\n            return `${set.distance} ${Unit(this.distanceUnit, 'distance')} | ${set.time}`\r\n        }\r\n    }\r\n    workout() {\r\n        return Database<IWorkout>().find({\r\n            selector: {\r\n                type: 'workout',\r\n                _id: this.workoutId\r\n            }\r\n        }).then((res) => res.docs && res.docs.length > 0 ? new Workout(res.docs[0]) : undefined);\r\n    }\r\n    static history(exercise: IExercise) {\r\n        return Database<IWorkoutExercise>().find({\r\n            selector: {\r\n                exerciseId: exercise._id,\r\n                timestamp: { $exists: true }\r\n            },\r\n            sort: [{ timestamp: 'desc' }]\r\n        }).then((res) => res.docs.map((d) => new WorkoutExercise(d)))\r\n    }\r\n    static records(exercise: IExercise, history: WorkoutExercise[]) {\r\n        interface Record { value: number | string, unit?: Unit, text: string, timestamp?: number, type?: 'distance' | 'weight' }\r\n        let maxDistance: Record | undefined = undefined\r\n        let maxWeight: Record | undefined = undefined\r\n        let maxDuration: Record | undefined = undefined;\r\n        let maxReps: Record | undefined = undefined;\r\n        let totalDistance: Record | undefined = undefined;\r\n        let totalWeight: Record | undefined = undefined;\r\n        let totalReps: Record | undefined = undefined;\r\n        let totalDuration: Record | undefined = undefined;\r\n        for (let exercise of history) {\r\n            for (let set of exercise.sets) {\r\n                if (set.distance) {\r\n                    if (maxDistance) {\r\n                        maxDistance = maxDistance.value > set.distance ? maxDistance : {\r\n                            value: Convert(exercise.distanceUnit as Unit, Settings.current.distanceUnit, 'distance', set.distance),\r\n                            text: 'Max Distance',\r\n                            timestamp: set.timestamp,\r\n                            unit: Settings.current.distanceUnit,\r\n                            type: 'distance'\r\n                        }\r\n                    } else {\r\n                        maxDistance = {\r\n                            value: Convert(exercise.distanceUnit as Unit, Settings.current.distanceUnit, 'distance', set.distance),\r\n                            text: 'Max Distance',\r\n                            timestamp: set.timestamp,\r\n                            unit: Settings.current.distanceUnit,\r\n                            type: 'distance'\r\n                        }\r\n                    }\r\n                    if (!totalDistance) {\r\n                        totalDistance = {\r\n                            value: set.distance,\r\n                            text: 'Total Distance',\r\n                            type: 'distance',\r\n                            unit: Settings.current.distanceUnit\r\n                        }\r\n                    } else {\r\n                        //@ts-ignore\r\n                        totalDistance.value += Convert(exercise.distanceUnit as Unit, Settings.current.distanceUnit, 'distance', set.distance)\r\n                    }\r\n                }\r\n                if (set.weight) {\r\n                    if (maxWeight) {\r\n                        maxWeight = maxWeight.value > set.weight ? maxWeight : {\r\n                            value: Convert(exercise.weightUnit as Unit, Settings.current.weightUnit, 'distance', set.weight),\r\n                            text: 'Max Weight',\r\n                            timestamp: set.timestamp,\r\n                            unit: Settings.current.weightUnit,\r\n                            type: 'weight'\r\n                        }\r\n                    } else {\r\n                        maxWeight = {\r\n                            value: Convert(exercise.weightUnit as Unit, Settings.current.weightUnit, 'distance', set.weight),\r\n                            text: 'Max Weight',\r\n                            timestamp: set.timestamp,\r\n                            unit: Settings.current.weightUnit,\r\n                            type: 'weight'\r\n                        }\r\n                    }\r\n                    if (!totalWeight) {\r\n                        totalWeight = {\r\n                            value: set.weight,\r\n                            text: 'Total Weight',\r\n                            type: 'weight',\r\n                            unit: Settings.current.weightUnit\r\n                        }\r\n                    } else {\r\n                        //@ts-ignore\r\n                        totalWeight.value += Convert(exercise.weightUnit as Unit, Settings.current.weightUnit, 'distance', set.weight)\r\n                    }\r\n                }\r\n                if (set.reps) {\r\n                    if (maxReps) {\r\n                        maxReps = maxReps.value > set.reps ? maxReps : {\r\n                            value: set.reps,\r\n                            text: 'Max Reps',\r\n                            timestamp: set.timestamp\r\n                        }\r\n                    } else {\r\n                        maxReps = {\r\n                            value: set.reps,\r\n                            text: 'Max Reps',\r\n                            timestamp: set.timestamp\r\n                        }\r\n                    }\r\n                    if (!totalReps) {\r\n                        totalReps = {\r\n                            value: set.reps,\r\n                            text: 'Total Reps'\r\n                        }\r\n                    } else {\r\n                        //@ts-ignore\r\n                        totalReps.value += set.reps\r\n                    }\r\n                }\r\n                if (set.time) {\r\n                    let time = new Time(set.time).milliseconds()\r\n                    if (maxDuration) {\r\n                        maxDuration = maxDuration.value > time ? maxReps : {\r\n                            value: time,\r\n                            text: 'Max Duration',\r\n                            timestamp: set.timestamp\r\n                        }\r\n                    } else {\r\n                        maxDuration = {\r\n                            value: time,\r\n                            text: 'Max Duration',\r\n                            timestamp: set.timestamp\r\n                        }\r\n                    }\r\n                    if (!totalDuration) {\r\n                        totalDuration = {\r\n                            value: time,\r\n                            text: 'Total Duration'\r\n                        }\r\n                    } else {\r\n                        //@ts-ignore\r\n                        totalDuration.value += time\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (totalDuration) {\r\n            //@ts-ignore\r\n            totalDuration.value = Math.round(totalDuration.value / 1000).toHHMMSS()\r\n        }\r\n        return {\r\n            maximums: [maxDistance, maxWeight, maxReps, maxDuration].filter((x) => x !== undefined),\r\n            total: [totalDistance, totalWeight, totalReps, totalDuration].filter((x) => x !== undefined)\r\n        }\r\n    }\r\n    static graphs(exercise: IExercise, history: WorkoutExercise[]) {\r\n        interface Record {\r\n            key: string,\r\n            title: string,\r\n            series: { name: string, data: [number, number][] }[]\r\n        }\r\n        let records: { [key: string]: Record } = {}\r\n        let enables = ExerciseMap[exercise.category];\r\n        let maxSets = Math.max(...history.map((h) => h.sets.length));\r\n        if (enables.weight) {\r\n            records['weight'] = {\r\n                key: 'weight',\r\n                title: `Weight (${Unit(Settings.current.weightUnit, 'weight')})`,\r\n                series: []\r\n            }\r\n        }\r\n        if (enables.distance) {\r\n            records['distance'] = {\r\n                key: 'distance',\r\n                title: `Distance (${Unit(Settings.current.weightUnit, 'distance')})`,\r\n                series: []\r\n            }\r\n        }\r\n        if (enables.reps) {\r\n            records['reps'] = {\r\n                key: 'reps',\r\n                title: 'Reps',\r\n                series: []\r\n            }\r\n        }\r\n        if (enables.time) {\r\n            records['time'] = {\r\n                key: 'time',\r\n                title: 'Time',\r\n                series: []\r\n            }\r\n        }\r\n        for (let ex of history) {\r\n            for (let i = 0; i < maxSets; i++) {\r\n                for (let key in enables) {\r\n\r\n                    if (records[key].series.length <= i) {\r\n                        records[key].series.push({ name: `Set ${i + 1}`, data: [] })\r\n                    }\r\n                    if (i < ex.sets.length) {\r\n                        let value: any = undefined\r\n                        if (key === 'weight') {\r\n                            value = Convert(ex.weightUnit || Settings.current.weightUnit, Settings.current.weightUnit, key, ex.sets[i][key] || 0)\r\n                        }\r\n                        if (key === 'distance') {\r\n                            value = Convert(ex.distanceUnit || Settings.current.distanceUnit, Settings.current.distanceUnit, key, ex.sets[i][key] || 0)\r\n                        }\r\n                        //@ts-ignore\r\n                        records[key].series[i].data.push([ex.timestamp, value || ex.sets[i][key]])\r\n                    } else {\r\n                        records[key].series[i].data.push([ex.timestamp, 0])\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return records;\r\n    }\r\n    recent() {\r\n        return WorkoutExercise.find({\r\n            selector: {\r\n                timestamp: { $gt: true },\r\n                exerciseName: this.exerciseName\r\n            },\r\n            sort: [{\r\n                timestamp: 'desc'\r\n            }],\r\n            limit: 1\r\n        }).then((res) => {\r\n            return res.docs && res.docs.length > 0 ? new WorkoutExercise(res.docs[0]) : undefined\r\n        })\r\n    }\r\n    toText() {\r\n        return `${this.sets.length} X ${this.exerciseName}`\r\n    }\r\n    total() {\r\n        let total = {\r\n            weight: {\r\n                value: 0,\r\n                unit: this.weightUnit || Settings.current.weightUnit\r\n            },\r\n            distance: {\r\n                value: 0,\r\n                unit: this.distanceUnit || Settings.current.distanceUnit\r\n            }\r\n\r\n        }\r\n        this.sets.forEach((item) => {\r\n            total.distance.value += (item.distance || 0);\r\n            total.weight.value += (item.weight || 0) * (item.reps || 0)\r\n        })\r\n        return total;\r\n    }\r\n    bestSet() {\r\n        if (this.sets.length <= 0) {\r\n            return;\r\n        }\r\n        let highest = this.sets.reduce((a, b) => {\r\n            if (a.weight && b.weight) {\r\n                return (a.weight * (a.reps || 0)) > (b.weight * (b.reps || 0)) ? a : b\r\n            } else if (a.distance && b.distance) {\r\n                return a.distance > b.distance ? a : b\r\n            } else {\r\n                return a;\r\n            }\r\n        })\r\n        if (highest.weight) {\r\n            return `${highest.weight} ${Unit(this.weightUnit, 'weight')} x ${highest.reps}`\r\n        }\r\n        if (highest.distance) {\r\n            return `${highest.distance} ${Unit(this.distanceUnit, 'distance')}`\r\n        }\r\n    }\r\n    filterOutEmptySets() {\r\n        this.sets = this.sets.filter((s) => !WorkoutExercise.isSetEmpty(s));\r\n    }\r\n    delete() {\r\n        this._deleted = true;\r\n        return this.save()\r\n    }\r\n}","import moment from 'moment'\r\nexport function getDaySlotFromTime() {\r\n    let hours = moment().hours()\r\n    if (hours > 12 && hours <= 18) {\r\n        return 'Afternoon'\r\n    }\r\n    if (hours > 18 && hours <= 20) {\r\n        return 'Evening'\r\n    }\r\n    if (hours > 20 && hours <= 24) {\r\n        return 'Night'\r\n    }\r\n    if (hours > 0 && hours <= 4) {\r\n        return 'Late Night'\r\n    }\r\n    if (hours > 4 && hours <= 6) {\r\n        return 'Early Morning'\r\n    }\r\n    if (hours > 6 && hours <= 12) {\r\n        return 'Morning'\r\n    }\r\n}\r\n\r\nexport function ValueObjectToString(obj: { unit: any, value: any }, format: 'U V' | 'V U' = 'V U') {\r\n    if (format === 'V U') {\r\n        return `${obj.value} ${obj.unit}`\r\n    } else {\r\n        return `${obj.unit} ${obj.value}`\r\n    }\r\n}\r\n\r\nexport const RandomColor = () => '#' + Math.random().toString(16).substr(2, 6);\r\n\r\nexport function convertMS(milliseconds: number) {\r\n    var day, hour, minute, seconds;\r\n    seconds = Math.floor(milliseconds / 1000);\r\n    minute = Math.floor(seconds / 60);\r\n    seconds = seconds % 60;\r\n    hour = Math.floor(minute / 60);\r\n    minute = minute % 60;\r\n    day = Math.floor(hour / 24);\r\n    hour = hour % 24;\r\n    return {\r\n        day: day,\r\n        hour: hour,\r\n        minute: minute,\r\n        seconds: seconds\r\n    };\r\n}\r\n\r\nexport function ThemeColor(color: 'primary' | 'secondary' | 'tertiary' | 'success' | 'warning' | 'danger' | 'dark' | 'medium' | 'light') {\r\n    let getColor = (variant: string) => getComputedStyle(document.body).getPropertyValue(`--ion-color-${color}${variant ? '-' + variant : ''}`);\r\n    return {\r\n        value: getColor(''),\r\n        variant: getColor\r\n    }\r\n}","import EventEmitter from \"events\";\r\nimport { IWorkoutExercise, Workout, WorkoutExercise } from \"../data/models/Workout\";\r\n\r\nexport default class WorkoutManager {\r\n    static events: EventEmitter = new EventEmitter()\r\n    static workout: Workout | undefined = undefined\r\n    static exercises: WorkoutExercise[] | undefined = undefined\r\n    static startFrom(workout: Workout, exercises: IWorkoutExercise[]) {\r\n        if (WorkoutManager.workout === undefined) {\r\n            WorkoutManager.workout = new Workout();\r\n            WorkoutManager.workout.name = workout.name;\r\n            WorkoutManager.workout.note = workout.note;\r\n            WorkoutManager.exercises = exercises.map((ex) => {\r\n                //@ts-ignore\r\n                delete ex._id\r\n                //@ts-ignore\r\n                delete ex._rev\r\n                //@ts-ignore\r\n                delete ex.timestamp\r\n                for (let s of ex.sets) {\r\n                    delete s.timestamp\r\n                }\r\n                return new WorkoutExercise(ex,true);\r\n            })\r\n            WorkoutManager.workout.startTimestamp = Date.now()\r\n            WorkoutManager.events.emit('change', WorkoutManager.workout)\r\n        }\r\n        return WorkoutManager.workout;\r\n    }\r\n    static start() {\r\n        if (WorkoutManager.workout === undefined) {\r\n            WorkoutManager.workout = new Workout()\r\n            WorkoutManager.exercises = []\r\n            WorkoutManager.workout.startTimestamp = Date.now()\r\n            WorkoutManager.events.emit('change', WorkoutManager.workout)\r\n        }\r\n        return WorkoutManager.workout\r\n    }\r\n    static async finish() {\r\n        if (WorkoutManager.workout) {\r\n            WorkoutManager.workout.endTimestamp = Date.now()\r\n            await WorkoutManager.__save();\r\n        }\r\n        WorkoutManager.events.emit('change', WorkoutManager.workout)\r\n        WorkoutManager.cancel();\r\n    }\r\n    static canSave() {\r\n        if (!WorkoutManager.exercises || WorkoutManager.exercises?.length <= 0) {\r\n            return \"Please add some exercises & sets before finishing the workout.\"\r\n        }\r\n        if (!WorkoutManager.exercises.some((e) => e.sets.some((s) => !WorkoutExercise.isSetEmpty(s)))) {\r\n            return \"Please complete some sets before finishing the workout.\"\r\n        }\r\n        return true;\r\n    }\r\n    private static async __save() {\r\n        if (WorkoutManager.workout && WorkoutManager.exercises) {\r\n            await WorkoutManager.workout.save()\r\n            for (let ex of WorkoutManager.exercises) {\r\n                ex.filterOutEmptySets();\r\n                ex.timestamp = WorkoutManager.workout.endTimestamp\r\n                await ex.save()\r\n            }\r\n        }\r\n    }\r\n    static cancel() {\r\n        WorkoutManager.workout = undefined;\r\n        WorkoutManager.exercises = undefined;\r\n        WorkoutManager.events.emit('change', WorkoutManager.workout)\r\n    }\r\n}","import { useEffect, useReducer, useState } from \"react\";\r\nimport { Workout, WorkoutExercise } from \"../data/models/Workout\";\r\nimport WorkoutManager from \"../utils/WorkoutManager\";\r\n\r\nfunction WorkoutReducer(state: Workout | undefined, action: Partial<Workout> | undefined) {\r\n    if (!action || !WorkoutManager.workout) {\r\n        return undefined;\r\n    }\r\n    Object.assign(WorkoutManager.workout, action);\r\n    return {\r\n        ...state,\r\n        ...action\r\n    } as Workout\r\n}\r\n\r\nfunction ExerciseReducer(state: WorkoutExercise[] | undefined, action: { data: WorkoutExercise[] | undefined, action: 'add' | 'delete' }) {\r\n\r\n    if (!action.data) {\r\n        return undefined;\r\n    } else {\r\n        let x: WorkoutExercise[] | undefined = [];\r\n        if (action.action === 'add') {\r\n            x = state?.concat(action.data)\r\n        } else {\r\n            x = state?.filter((k) => !action.data?.some((d) => d._id === k._id));\r\n        }\r\n        WorkoutManager.exercises = x;\r\n        return x;\r\n    }\r\n}\r\nexport default function useWorkout() {\r\n    const [workout, SetWorkout] = useReducer(WorkoutReducer, WorkoutManager.workout)\r\n    const [exercises, SetExercises] = useReducer(ExerciseReducer, WorkoutManager.exercises)\r\n    useEffect(() => {\r\n        const OnChange = (workout?: Workout) => {\r\n            SetWorkout(workout);\r\n        }\r\n        WorkoutManager.events.on('change', OnChange)\r\n        return () => {\r\n            WorkoutManager.events.off('change', OnChange);\r\n        }\r\n    }, [])\r\n    return { workout, SetWorkout, exercises, SetExercises }\r\n}","import { IonAlert } from '@ionic/react'\r\nimport React from 'react'\r\n\r\ninterface AlertBoxProps {\r\n\r\n}\r\n\r\nexport default class AlertBox extends React.Component<AlertBoxProps>{\r\n    static ref: AlertBox | null = null;\r\n    state = {\r\n        show: false,\r\n        title: '',\r\n        message: '',\r\n        buttons: [],\r\n        inputs: []\r\n    }\r\n    static Show(title: string, message?: string, buttons?: any[], inputs?: any[]) {\r\n        AlertBox.ref?.show(title, message, buttons, inputs);\r\n    }\r\n    show(title: string, message?: string, buttons?: any[], inputs?: any[]) {\r\n        this.setState({\r\n            show: true,\r\n            title, message, buttons, inputs\r\n        })\r\n    }\r\n    hide() {\r\n        this.setState({\r\n            title: '',\r\n            message: '',\r\n            buttons: [],\r\n            inputs: [],\r\n            show: false\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <IonAlert\r\n                isOpen={this.state.show}\r\n                buttons={this.state.buttons}\r\n                inputs={this.state.inputs}\r\n                message={this.state.message}\r\n                onDidDismiss={this.hide.bind(this)}\r\n                header={this.state.title}\r\n            />\r\n        )\r\n    }\r\n}","import { IonText } from '@ionic/react'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Settings } from '../../pages/Settings/hook'\r\nimport WorkoutManager from '../../utils/WorkoutManager'\r\nimport moment from 'moment'\r\nimport Time from '../../utils/Time'\r\nconst ExerciseTimerText: React.FC<any> = (props) => {\r\n    const [time, SetTime] = useState(WorkoutManager.workout ? Date.now() - WorkoutManager.workout.startTimestamp : 0)\r\n    useEffect(() => {\r\n        let interval = setInterval(() => {\r\n            if (WorkoutManager.workout) {\r\n                SetTime(Date.now() - WorkoutManager.workout.startTimestamp)\r\n            }\r\n        }, 1000)\r\n        return () => {\r\n            clearInterval(interval)\r\n        }\r\n    }, [])\r\n    return (\r\n        <IonText {...props}>{(time / 1000).toHHMMSS()}</IonText>\r\n    )\r\n}\r\n\r\nexport default ExerciseTimerText","import { IonButton, IonButtons, IonItem, IonText, useIonRouter } from '@ionic/react'\r\nimport React from 'react'\r\nimport useWorkout from '../hooks/useWorkout'\r\nimport ExerciseTimerText from './Exercise/ExerciseTimerText';\r\n\r\nexport default function WorkoutInProgressBar() {\r\n    const { workout, SetWorkout } = useWorkout();\r\n    if (!workout) {\r\n        return null\r\n    }\r\n    return (\r\n        <IonItem  routerLink='/workout-page' routerDirection='forward' color='primary' button lines='none'>\r\n            <IonText>Workout in progress </IonText>\r\n            <ExerciseTimerText style={{ marginLeft: 10 }} />\r\n            <IonButtons slot='end'>\r\n                <IonButton>\r\n                    <IonText>Resume</IonText>\r\n                </IonButton>\r\n            </IonButtons>\r\n        </IonItem>\r\n    )\r\n}","import React from 'react'\r\n\r\ninterface Props extends React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> {\r\n    color?: string\r\n}\r\nexport default function WorkoutSvg(props: Props) {\r\n    let c = getComputedStyle(document.body).getPropertyValue(`--ion-color-${props.color || 'primary'}`);\r\n    return (\r\n        <div {...props}>\r\n            <svg id=\"cbb27dff-01cf-4d21-b827-02c6f7b52fd7\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 1020 668.18\">\r\n                <title>healthy_habit</title><path d=\"M109.75,328.95c-7.68,23.25,14.9,44.16,32.66,61A239.26,239.26,0,0,1,198.71,472c7.72,18.73,13.09,38.88,11.65,59.09-4.08,57.32-58.06,95.51-101.19,133.48C103.06,670,96.95,675.68,93.39,683c-11.43,23.49,8,50.56,29.4,65.54C199,801.86,309,786,382.92,729.55c38.28-29.24,71.18-69,117.57-82,29.66-8.27,61.14-4.35,91.83-1.8a977.73,977.73,0,0,0,138.34,1.64c16.18-1,33.1-2.56,46.65-11.45,34.31-22.48,28.52-75.78,53.28-108.48,17.8-23.5,48.21-32.56,74.68-45.55a233.64,233.64,0,0,0,97.83-90.78c21.25-36.17,32.26-77.29,43-117.83,8.1-30.46,16.23-62.36,9.37-93.13s-33.94-59.5-65.34-56.8c-24.11,2.07-43.29,21.12-66.51,27.94C868,167.69,814,110.8,756.3,116.29c-36.33,3.45-65.63,31-87.78,60s-40.9,61.65-70.15,83.49c-45.5,34-107.84,35.2-163.54,24.19s-109.14-32.68-165.46-39.9c-33.18-4.25-58.61,15.52-88.49,26.39C153.46,280.44,119.91,298.2,109.75,328.95Z\" transform=\"translate(-90 -115.91)\" fill={c} opacity=\"0.1\" /><ellipse cx=\"137.95\" cy=\"646.08\" rx=\"72.74\" ry=\"22.1\" fill={c} opacity=\"0.1\" />\r\n                <ellipse cx=\"825.73\" cy=\"363.42\" rx=\"194.27\" ry=\"12.89\" fill={c} opacity=\"0.1\" />\r\n                <g opacity=\"0.5\"><path d=\"M708.28,68.4h0a10.16,10.16,0,0,1,10.16,10.16v282.5a0,0,0,0,1,0,0H698.12a0,0,0,0,1,0,0V78.55A10.16,10.16,0,0,1,708.28,68.4Z\" fill={c} />\r\n                    <path d=\"M931.21,68.4h0a10.16,10.16,0,0,1,10.16,10.16v282.5a0,0,0,0,1,0,0H921a0,0,0,0,1,0,0V78.55A10.16,10.16,0,0,1,931.21,68.4Z\" fill={c} /><rect x=\"899.59\" y=\"56.37\" width=\"20.32\" height=\"361.84\" rx=\"10.16\" ry=\"10.16\" transform=\"translate(1057.04 -788.36) rotate(90)\" fill={c} />\r\n                    <rect x=\"676.16\" y=\"83.22\" width=\"15.92\" height=\"76.32\" rx=\"7.96\" ry=\"7.96\" fill={c} /><rect x=\"660.24\" y=\"90.36\" width=\"15.92\" height=\"62.05\" rx=\"7.96\" ry=\"7.96\" fill={c} /><rect x=\"1037.4\" y=\"199.13\" width=\"15.92\" height=\"76.32\" rx=\"7.96\" ry=\"7.96\" transform=\"translate(2000.73 358.67) rotate(-180)\" fill={c} /><rect x=\"1053.33\" y=\"206.27\" width=\"15.92\" height=\"62.05\" rx=\"7.96\" ry=\"7.96\" transform=\"translate(2032.58 358.67) rotate(180)\" fill={c} /></g><g opacity=\"0.5\"><path d=\"M799.46,186.64H841a17,17,0,0,1,17,17V275a0,0,0,0,1,0,0h-75.5a0,0,0,0,1,0,0V203.64A17,17,0,0,1,799.46,186.64Z\" fill={c} /><rect x=\"814.68\" y=\"268.59\" width=\"11.05\" height=\"36.83\" fill={c} /><rect x=\"792.58\" y=\"310.02\" width=\"11.05\" height=\"36.83\" fill={c} /><rect x=\"838.62\" y=\"310.02\" width=\"11.05\" height=\"36.83\" fill={c} /><rect x=\"782.46\" y=\"302.65\" width=\"75.5\" height=\"10.13\" fill={c} /></g><ellipse cx=\"473.09\" cy=\"577.95\" rx=\"414.32\" ry=\"30.38\" fill={c} opacity=\"0.1\" /><path d=\"M670.36,585.67s28.54,12.89,42.35,12.89c0,0,14.73,3.68,23,7.37s40.51,5.52,40.51,5.52,37.75,13.81,42.35,20.26,18.41-23,18.41-23l-7.37-18.41-139-26.7Z\" transform=\"translate(-90 -115.91)\" fill=\"#ffb9b9\" /><path d=\"M670.36,585.67s28.54,12.89,42.35,12.89c0,0,14.73,3.68,23,7.37s40.51,5.52,40.51,5.52,37.75,13.81,42.35,20.26,18.41-23,18.41-23l-7.37-18.41-139-26.7Z\" transform=\"translate(-90 -115.91)\" opacity=\"0.05\" /><path d=\"M811.23,626.19s17.49,23,10.13,36.83-4.6,13.81,0,14.73,30.38,6.45,33.15-13.81,8.29-65.37,8.29-65.37L825,594.88S835.17,628.95,811.23,626.19Z\" transform=\"translate(-90 -115.91)\" fill=\"#737a9d\" /><path d=\"M593.94,555.29l79.18,36.83s24.86-19.34,23-29.46l-92.07-22.1Z\" transform=\"translate(-90 -115.91)\" fill=\"#4c4c78\" /><path d=\"M593.94,555.29l79.18,36.83s24.86-19.34,23-29.46l-92.07-22.1Z\" transform=\"translate(-90 -115.91)\" opacity=\"0.1\" /><path d=\"M926.32,603.17,918,623.42,898.7,628a123.29,123.29,0,0,0-17.29-12.08c-10.39-6-24.06-11.87-37-10.94,0,0-51.56-8.29-54.32-12,0,0-33.15-7.37-40.51-6.45-3.55.44-11.18-2.11-18.12-4.88-7.45-3-14.11-6.17-14.11-6.17l23.94-37.75a64.34,64.34,0,0,0,8.6,3c9.15,2.68,25.62,6.16,49.41,6.16,38.67,0,92.07,39.59,92.07,39.59s.53.18,1.44.45c4,1.21,15.4,4.06,20.66-.45C919.87,581.07,926.32,603.17,926.32,603.17Z\" transform=\"translate(-90 -115.91)\" fill=\"#ffb9b9\" /><path d=\"M926.32,603.17,918,623.42,898.7,628a123.29,123.29,0,0,0-17.29-12.08c28.08,2.11,11.31-28.89,11.31-28.89h.06c4,1.21,15.4,4.06,20.66-.45C919.87,581.07,926.32,603.17,926.32,603.17Z\" transform=\"translate(-90 -115.91)\" opacity=\"0.1\" /><path d=\"M881.52,616.7s22.27,31.23,12.9,48.82-5.86,17.58,0,18.76,38.69,8.21,42.2-17.58c2.7-19.83.33-57.89-.91-74.41a7.89,7.89,0,0,0-8.58-7.26l-32.57,3S912,620.22,881.52,616.7Z\" transform=\"translate(-90 -115.91)\" fill=\"#737a9d\" /><polygon points=\"262.71 531.45 263.63 576.57 273.76 583.93 308.75 583.93 315.19 574.73 315.19 531.45 305.06 522.24 271.92 522.24 262.71 531.45\" fill={c} /><path d=\"M358.23,648.28s6.45,41.43,0,45.12l-4.6-.92-.92-44.19Z\" transform=\"translate(-90 -115.91)\" fill=\"#fff\" opacity=\"0.2\" /><path d=\"M433.73,644.6l7.37-7.37h35l7.37,7.37s9.21,26.7,1.84,44.19L477,697.08H442l-8.29-7.37Z\" transform=\"translate(-90 -115.91)\" fill={c} /><polygon points=\"262.71 531.45 263.63 576.57 273.76 583.93 308.75 583.93 315.19 574.73 315.19 531.45 305.06 522.24 271.92 522.24 262.71 531.45\" opacity=\"0.1\" /><path d=\"M433.73,644.6l7.37-7.37h35l7.37,7.37s9.21,26.7,1.84,44.19L477,697.08H442l-8.29-7.37Z\" transform=\"translate(-90 -115.91)\" opacity=\"0.1\" /><path d=\"M442,646.44s7.37,32.23,0,43.27h-8.29V644.6Z\" transform=\"translate(-90 -115.91)\" fill=\"#fff\" opacity=\"0.2\" /><path d=\"M405.19,491.76s3.68,35.91,3.68,40.51-1.84,35,3.68,64.45S408.87,663,408.87,663h30.38l12.89-99.44-9.21-52.48-3.68-16.57Z\" transform=\"translate(-90 -115.91)\" fill=\"#ffb9b9\" /><path d=\"M405.19,491.76s3.68,35.91,3.68,40.51-1.84,35,3.68,64.45S408.87,663,408.87,663h30.38l12.89-99.44-9.21-52.48-3.68-16.57Z\" transform=\"translate(-90 -115.91)\" opacity=\"0.05\" /><path d=\"M399.67,400.61s-40.51.92-8.29,68.13c0,0,8.29,27.62,8.29,32.23s41.43,4.6,46,0-7.37-42.35-7.37-59.85S426.37,395.09,399.67,400.61Z\" transform=\"translate(-90 -115.91)\" fill=\"#cbcdda\" /><path d=\"M399.67,400.61s-40.51.92-8.29,68.13c0,0,8.29,27.62,8.29,32.23s41.43,4.6,46,0-7.37-42.35-7.37-59.85S426.37,395.09,399.67,400.61Z\" transform=\"translate(-90 -115.91)\" opacity=\"0.05\" /><path d=\"M350.87,361s35,37.75,64.45,10.13l-3.68,97.6s-47.88-58-81-53.4Z\" transform=\"translate(-90 -115.91)\" fill=\"#ffb9b9\" /><path d=\"M749.85,540.84c-1.4,10.79-5.8,33.51-18.43,40.87-7.45-3-14.11-6.17-14.11-6.17l23.94-37.75A64.34,64.34,0,0,0,749.85,540.84Z\" transform=\"translate(-90 -115.91)\" opacity=\"0.1\" /><path d=\"M747.7,535s-2.76,45.12-24.86,48.8L589.36,559.72a40.29,40.29,0,0,1-17.74-8c-5.39-4.24-12-10-15.91-15.28-2.12-2.88-3.4-5.63-3.19-7.9.92-10.13,41.43-34.07,27.62-76.42a25.24,25.24,0,0,1,6.48-3.72c11.53-4.79,38.07-8.31,76.38,31.34C663,479.79,733.89,536.88,747.7,535Z\" transform=\"translate(-90 -115.91)\" fill=\"#4c4c78\" /><polygon points=\"296.78 535.13 297.7 580.25 307.82 587.62 342.81 587.62 349.26 578.41 349.26 535.13 339.13 525.93 305.98 525.93 296.78 535.13\" fill={c} /><path d=\"M392.3,652s6.45,41.43,0,45.12l-4.6-.92L386.78,652Z\" transform=\"translate(-90 -115.91)\" fill=\"#fff\" opacity=\"0.2\" /><path d=\"M488.06,647.36l7.37-7.37h35l7.37,7.37s9.21,26.7,1.84,44.19l-8.29,8.29h-35l-8.29-7.37Z\" transform=\"translate(-90 -115.91)\" fill={c} />\r\n                    <path d=\"M496.34,649.2s7.37,32.23,0,43.27h-8.29V647.36Z\" transform=\"translate(-90 -115.91)\" fill=\"#fff\" opacity=\"0.2\" /><path d=\"M439,664.86h49.81c3.9,0,7.06,3.5,7.06,7.83h0c0,4.32-3.16,7.83-7.06,7.83H439c-4.23,0-7.51-4.09-7-8.74h0C432.41,667.83,435.43,664.86,439,664.86Z\" transform=\"translate(-90 -115.91)\" fill={c} /><path d=\"M582.89,521.22c-9.85,6.9-20.23,11.42-27.19,15.27-2.12-2.88-3.4-5.63-3.19-7.9.92-10.13,41.43-34.07,27.62-76.42a25.24,25.24,0,0,1,6.48-3.72,28.12,28.12,0,0,0,6.41-.88S601.3,508.33,582.89,521.22Z\" transform=\"translate(-90 -115.91)\" opacity=\"0.1\" /><path d=\"M376.19,432.37s13.81,13.81,27.16,22.56c12.32,8.07-9.67-73.2-9.67-73.2s13.64-11,21.65-17.53A27.44,27.44,0,0,1,434.41,358c18.43,1.19,52.19,8.94,79.43,46.3,39.59,54.32,75.5,43.27,75.5,43.27s8.29,60.77-10.13,73.66-38.67,17.49-35,24.86-16.57-35.91-62.61-43.27-96.68-39.59-95.75-55.24C385.86,447.57,372.51,437,376.19,432.37Z\" transform=\"translate(-90 -115.91)\" fill=\"#cbcdda\" /><path d=\"M366.52,385a46.27,46.27,0,0,0-.7-7.94c-12.06-6-10.35-14.16-10.35-14.16l-20.26,54.32c7.41-1,15.56,1.08,23.74,5C369.72,413.71,366.52,399.69,366.52,385Z\" transform=\"translate(-90 -115.91)\" opacity=\"0.1\" /><circle cx=\"236.01\" cy=\"268.13\" r=\"46.04\" fill=\"#ffb9b9\" /><path d=\"M284.18,394.42c-.85,2.73-2.16,5.54-4.63,7-3,1.78-7.14.9-9.81-1.4s-4.11-5.74-4.86-9.18a30.82,30.82,0,0,1,.5-15.05c1.2-4.15,3.27-8,4.14-12.25.93-4.52.46-9.25,1.5-13.75,1.41-6.1,5.43-11.21,9.35-16.1a16.62,16.62,0,0,1,10.83-7.2l19.27-5.81A65.11,65.11,0,0,1,321.69,318a38.87,38.87,0,0,1,14.59,1.28A33.61,33.61,0,0,1,346.86,324a39.13,39.13,0,0,1,8.35,8.45c10.19,13.32,16,35.11,26.51,48.22-4.15,1.28-8.3-3-12.45-1.7a2.92,2.92,0,0,1-1.87.15,3.07,3.07,0,0,1-1.37-1.52,31.87,31.87,0,0,0-16.29-13.94c-5.1-1.93-12-1.92-14.79,2.76-1.89,3.16-1.13,7.15-.63,10.8s.41,8-2.48,10.25a10.72,10.72,0,0,1-5.38,1.82,59.28,59.28,0,0,1-26.66-2.61c-3-1-6.05-4.13-9.22-3.13C286.3,384.9,285.31,390.79,284.18,394.42Z\" transform=\"translate(-90 -115.91)\" opacity=\"0.1\" /><path d=\"M283.17,393.41c-.85,2.73-2.16,5.54-4.63,7-3,1.78-7.14.9-9.81-1.4s-4.11-5.74-4.86-9.18a30.82,30.82,0,0,1,.5-15.05c1.2-4.15,3.27-8,4.14-12.25.93-4.52.46-9.25,1.5-13.75,1.41-6.1,5.43-11.21,9.35-16.1a16.62,16.62,0,0,1,10.83-7.2l19.27-5.81A65.11,65.11,0,0,1,320.68,317a38.87,38.87,0,0,1,14.59,1.28A33.61,33.61,0,0,1,345.85,323a39.13,39.13,0,0,1,8.35,8.45c10.19,13.32,16,35.11,26.51,48.22-4.15,1.28-8.3-3-12.45-1.7a2.92,2.92,0,0,1-1.87.15A3.07,3.07,0,0,1,365,376.6a31.87,31.87,0,0,0-16.29-13.94c-5.1-1.93-12-1.92-14.79,2.76-1.89,3.16-1.13,7.15-.63,10.8s.41,8-2.48,10.25a10.72,10.72,0,0,1-5.38,1.82,59.28,59.28,0,0,1-26.66-2.61c-3-1-6.05-4.13-9.22-3.13C285.29,383.89,284.3,389.78,283.17,393.41Z\" transform=\"translate(-90 -115.91)\" fill=\"#b96b6b\" /><g opacity=\"0.1\"><path d=\"M396.8,379.22l-3.12,2.52s12.89,47.63,13.4,66.34C413.66,446.3,401,395.34,396.8,379.22Z\" transform=\"translate(-90 -115.91)\" /><path d=\"M581,513.86c-18.41,12.89-38.67,17.49-35,24.86s-16.57-35.91-62.61-43.27c-43.19-6.91-90.43-35.7-95.35-52.16-6.9-5.9-11.92-10.91-11.92-10.91-3.68,4.6,9.67,15.19,9.67,15.19-.92,15.65,49.72,47.88,95.75,55.24s66.29,50.64,62.61,43.27,16.57-12,35-24.86c5.27-3.69,8.35-11.3,10.07-20.29C587.44,506.62,584.8,511.23,581,513.86Z\" transform=\"translate(-90 -115.91)\" /></g><path d=\"M488.06,602.25c-2.76,3.68-4.6,41.43-4.6,41.43s11,54.32-23,48.8-4.6-44.19-4.6-44.19l-4.6-53.4c-17.49-46-13.81-79.18-13.81-79.18l-3.27-30.07-1.34-12.28,39.59-9.21c-1.08,1.44-.62,10.42.35,20.85,1.51,16.34,4.25,36.23,4.25,36.23C485.29,530.43,490.82,598.56,488.06,602.25Z\" transform=\"translate(-90 -115.91)\" fill=\"#ffb9b9\" /><path d=\"M431.89,381.28s-40.51.92-8.29,68.13c0,0,8.29,27.62,8.29,32.23s41.43,4.6,46,0-7.37-42.35-7.37-59.85S458.59,375.75,431.89,381.28Z\" transform=\"translate(-90 -115.91)\" opacity=\"0.1\" /><path d=\"M472.75,485c-8.6,2.35-29.68,2.56-38.61.64l-1.34-12.28,39.59-9.21C471.33,465.58,471.79,474.56,472.75,485Z\" transform=\"translate(-90 -115.91)\" opacity=\"0.1\" /><path d=\"M430.05,381.28s-40.51.92-8.29,68.13c0,0,8.29,27.62,8.29,32.23s41.43,4.6,46,0-7.37-42.35-7.37-59.85S456.75,375.75,430.05,381.28Z\" transform=\"translate(-90 -115.91)\" fill=\"#cbcdda\" />\r\n                <g opacity=\"0.5\">\r\n                    <polygon points=\"75.04 409.5 45.72 410.1 40.94 416.68 40.94 439.42 46.92 443.61 75.04 443.61 81.03 437.03 81.03 415.49 75.04 409.5\" fill={c} /><path d=\"M164.45,529s-26.93,4.19-29.32,0l.6-3,28.72-.6Z\" transform=\"translate(-90 -115.91)\" fill=\"#fff\" opacity=\"0.2\" /><path d=\"M167.44,591.23l4.79,4.79v22.74l-4.79,4.79s-17.35,6-28.72,1.2l-5.39-5.39V596.62l4.79-5.39Z\" transform=\"translate(-90 -115.91)\" fill={c} /><path d=\"M166.24,596.62s-20.94,4.79-28.12,0v-5.39h29.32Z\" transform=\"translate(-90 -115.91)\" fill=\"#fff\" opacity=\"0.2\" /><path d=\"M156.07,559.36v32.37a4.86,4.86,0,0,1-5.09,4.59h0a4.86,4.86,0,0,1-5.09-4.59V559.36c0-2.75,2.66-4.88,5.68-4.56h0A4.79,4.79,0,0,1,156.07,559.36Z\" transform=\"translate(-90 -115.91)\" fill={c} /><polygon points=\"122 410.42 92.68 411.02 87.89 417.6 87.89 440.34 93.88 444.53 122 444.53 127.98 437.95 127.98 416.41 122 410.42\" fill={c} /><path d=\"M211.4,529.93s-26.93,4.19-29.32,0l.6-3,28.72-.6Z\" transform=\"translate(-90 -115.91)\" fill=\"#fff\" opacity=\"0.2\" /><path d=\"M214.39,592.16l4.79,4.79v22.74l-4.79,4.79s-17.35,6-28.72,1.2l-5.39-5.39V597.54l4.79-5.39Z\" transform=\"translate(-90 -115.91)\" fill={c} /><path d=\"M213.2,597.54s-20.94,4.79-28.12,0v-5.39h29.32Z\" transform=\"translate(-90 -115.91)\" fill=\"#fff\" opacity=\"0.2\" /><path d=\"M203,560.28v32.37a4.86,4.86,0,0,1-5.09,4.59h0a4.86,4.86,0,0,1-5.09-4.59V560.28c0-2.75,2.66-4.88,5.68-4.56h0A4.79,4.79,0,0,1,203,560.28Z\" transform=\"translate(-90 -115.91)\" fill={c} /><polygon points=\"181.78 427.74 157.64 428.23 153.7 433.65 153.7 452.37 158.63 455.81 181.78 455.81 186.7 450.39 186.7 432.66 181.78 427.74\" fill={c} /><path d=\"M271.28,546.6s-22.17,3.45-24.14,0l.49-2.46,23.64-.49Z\" transform=\"translate(-90 -115.91)\" fill=\"#fff\" opacity=\"0.2\" /><path d=\"M273.75,597.83l3.94,3.94v18.72l-3.94,3.94s-14.28,4.93-23.64,1L245.67,621V602.26l3.94-4.43Z\" transform=\"translate(-90 -115.91)\" fill={c} /><path d=\"M272.76,602.26s-17.24,3.94-23.15,0v-4.43h24.14Z\" transform=\"translate(-90 -115.91)\" fill=\"#fff\" opacity=\"0.2\" /><path d=\"M264.39,571.59v26.65A4,4,0,0,1,260.2,602h0a4,4,0,0,1-4.19-3.78V571.59a4.05,4.05,0,0,1,4.68-3.75h0A3.94,3.94,0,0,1,264.39,571.59Z\" transform=\"translate(-90 -115.91)\" fill={c} /><polygon points=\"220.43 428.49 196.29 428.99 192.35 434.4 192.35 453.12 197.28 456.57 220.43 456.57 225.36 451.15 225.36 433.42 220.43 428.49\" fill={c} /><path d=\"M309.94,547.36s-22.17,3.45-24.14,0l.49-2.46,23.64-.49Z\" transform=\"translate(-90 -115.91)\" fill=\"#fff\" opacity=\"0.2\" /><path d=\"M312.4,598.59l3.94,3.94v18.72l-3.94,3.94s-14.28,4.93-23.64,1l-4.43-4.43V603l3.94-4.43Z\" transform=\"translate(-90 -115.91)\" fill={c} /><path d=\"M311.42,603s-17.24,3.94-23.15,0v-4.43H312.4Z\" transform=\"translate(-90 -115.91)\" fill=\"#fff\" opacity=\"0.2\" /><path d=\"M303,572.35V599a4,4,0,0,1-4.19,3.78h0a4,4,0,0,1-4.19-3.78V572.35a4.05,4.05,0,0,1,4.68-3.75h0A3.94,3.94,0,0,1,303,572.35Z\" transform=\"translate(-90 -115.91)\" fill={c} /></g><g opacity=\"0.8\"><path d=\"M207.18,705s-14.17-4.8-21,7.69a22.78,22.78,0,0,0,.3,21.93c4.48,8.1,13.71,18.61,31.2,17.68,14.84-.79,19.77-12.12,21.11-22.65a23.27,23.27,0,0,0-30.9-24.91Z\" transform=\"translate(-90 -115.91)\" fill={c} /><path d=\"M189.49,735.73a22.78,22.78,0,0,1-.3-21.93c6.82-12.49,21-7.69,21-7.69l.73-.26a23.06,23.06,0,0,1,16.65.37,23.06,23.06,0,0,0-19.66-1.88l-.73.26s-14.17-4.8-21,7.69a22.78,22.78,0,0,0,.3,21.93c3,5.33,8,11.7,16,15.17A35.13,35.13,0,0,1,189.49,735.73Z\" transform=\"translate(-90 -115.91)\" fill=\"#fff\" opacity=\"0.1\" /><path d=\"M199.86,711s5.25,4.13,18,0\" transform=\"translate(-90 -115.91)\" opacity=\"0.2\" /><path d=\"M198.74,681s9,24.4,8.26,30.78l7.13-.75s-12-21.39-9-30Z\" transform=\"translate(-90 -115.91)\" fill={c} /><path d=\"M198.74,681s9,24.4,8.26,30.78l7.13-.75s-12-21.39-9-30Z\" transform=\"translate(-90 -115.91)\" opacity=\"0.2\" /><path d=\"M235.5,683s-14.18-7.25-20.52-1.26-7.32,21.3-7.32,21.3S230.78,706.23,235.5,683Z\" transform=\"translate(-90 -115.91)\" fill={c} /><path d=\"M235.5,683s-14.18-7.25-20.52-1.26-7.32,21.3-7.32,21.3S230.78,706.23,235.5,683Z\" transform=\"translate(-90 -115.91)\" fill=\"#fff\" opacity=\"0.1\" /><path d=\"M207.66,703s3.72-17.77,27.84-20\" transform=\"translate(-90 -115.91)\" fill=\"none\" stroke={c} strokeMiterlimit={10} /></g><path d=\"M267,727.09s-14.17-4.8-21,7.69a22.78,22.78,0,0,0,.3,21.93c4.48,8.1,13.71,18.61,31.2,17.68,14.84-.79,19.77-12.12,21.11-22.65a23.27,23.27,0,0,0-30.9-24.91Z\" transform=\"translate(-90 -115.91)\" fill={c} /><path d=\"M249.34,757.83a22.78,22.78,0,0,1-.3-21.93c6.82-12.49,21-7.69,21-7.69l.73-.26a23.06,23.06,0,0,1,16.65.37,23.06,23.06,0,0,0-19.66-1.88l-.73.26s-14.17-4.8-21,7.69a22.78,22.78,0,0,0,.3,21.93c3,5.33,8,11.7,16,15.17A35.13,35.13,0,0,1,249.34,757.83Z\" transform=\"translate(-90 -115.91)\" fill=\"#fff\" opacity=\"0.1\" /><path d=\"M259.71,733.09s5.25,4.13,18,0\" transform=\"translate(-90 -115.91)\" opacity=\"0.2\" /><path d=\"M258.58,703.07s9,24.4,8.26,30.78l7.13-.75s-12-21.39-9-30Z\" transform=\"translate(-90 -115.91)\" fill={c} /><path d=\"M258.58,703.07s9,24.4,8.26,30.78l7.13-.75s-12-21.39-9-30Z\" transform=\"translate(-90 -115.91)\" opacity=\"0.2\" /><path d=\"M295.35,705.1s-14.18-7.25-20.52-1.26-7.32,21.3-7.32,21.3S290.63,728.32,295.35,705.1Z\" transform=\"translate(-90 -115.91)\" fill={c} /><path d=\"M295.35,705.1s-14.18-7.25-20.52-1.26-7.32,21.3-7.32,21.3S290.63,728.32,295.35,705.1Z\" transform=\"translate(-90 -115.91)\" fill=\"#fff\" opacity=\"0.1\" /><path d=\"M267.51,725.14s3.72-17.77,27.84-20\" transform=\"translate(-90 -115.91)\" fill=\"none\" stroke={c} strokeMiterlimit={10} />\r\n                <path d=\"M153,669.17s1.39-1.55-1.22-2.17v-2.55h1.57a13.46,13.46,0,0,0-10.66-13.16v-3.09h.41v-4H133v4h.29v3.13a13.46,13.46,0,0,0-10.48,13.12h1.4v2.45s-3.32,1.57,0,4.37,2.8,4.89,2.8,4.89-1.4,5.24-4.19,5.94v48.75a10.83,10.83,0,0,0,10.83,10.83h8.56A10.83,10.83,0,0,0,153,730.86V682.1s-4.89-3.67-4-5.94A55,55,0,0,1,153,669.17Z\" transform=\"translate(-90 -115.91)\" fill={c} /></svg>\r\n        </div >\r\n    )\r\n}","import { IonSpinner } from '@ionic/react'\r\nimport React from 'react'\r\n\r\nexport default function Loading() {\r\n    return (\r\n        <div style={{ height: '100%' }} className='centering-box'>\r\n            <IonSpinner color='primary' />\r\n        </div>\r\n    )\r\n}","import { IonButton, IonButtons, IonCard, IonCardContent, IonCardHeader, IonCardTitle, IonCol, IonContent, IonIcon, IonItem, IonLabel, IonPage, IonRow, IonSegment, IonSegmentButton, IonText, LocationHistory, useIonRouter } from '@ionic/react'\r\nimport React, { useEffect, useReducer, useState } from 'react'\r\nimport Header from '../../components/Header'\r\nimport HorizontalCalender from '../../components/HorizontalCalender'\r\nimport moment from 'moment'\r\nimport { add, barbell, barbellOutline, play, settings, timer, walk } from 'ionicons/icons'\r\nimport \"./Workout.scss\"\r\nimport WorkoutTemplate from '../../data/models/WorkoutTemplate'\r\nimport useWorkout from '../../hooks/useWorkout'\r\nimport AlertBox from '../../modals/Alert'\r\nimport WorkoutManager from '../../utils/WorkoutManager'\r\nimport WorkoutInProgressBar from '../../components/WorkoutInProgressBar'\r\nimport { Workout, WorkoutExercise } from '../../data/models/Workout'\r\nimport { Settings } from '../Settings/hook'\r\nimport { Convert, Unit } from '../../utils/Units'\r\nimport WorkoutSvg from '../../svg/Workout'\r\nimport Loading from '../../components/Loading'\r\nimport { useLocation } from 'react-router'\r\nimport PopoverButton, { PopoverItem } from '../../components/PopoverButton'\r\ninterface WorkoutProps {\r\n\r\n}\r\n\r\nconst WorkoutTab: React.FC<WorkoutProps> = (props) => {\r\n\r\n    const [segment, SetSegment] = useState('workout')\r\n    return (\r\n        <IonPage>\r\n            <Header noborder title='Workout' >\r\n                <IonButtons slot='end'>\r\n                    <IonButton routerLink='/exercise-list'>\r\n                        <IonIcon style={{ fontSize: 20 }} icon={barbellOutline} />\r\n                    </IonButton>\r\n                    <IonButton routerLink='/settings'>\r\n                        <IonIcon style={{ fontSize: 20 }} icon={settings} />\r\n                    </IonButton>\r\n                </IonButtons>\r\n            </Header>\r\n            <div style={{ padding: '5px 15px' }}>\r\n                <IonSegment mode='ios' value={segment} onIonChange={(e) => SetSegment(e.detail.value || 'workout')}>\r\n                    <IonSegmentButton value='workout'>\r\n                        <IonLabel>Workout</IonLabel>\r\n                    </IonSegmentButton>\r\n                    <IonSegmentButton value='history'>\r\n                        <IonLabel>History</IonLabel>\r\n                    </IonSegmentButton>\r\n                </IonSegment>\r\n            </div>\r\n\r\n            <WorkoutSegment visible={segment === 'workout'} />\r\n            <HistorySegment visible={segment === 'history'} />\r\n            <WorkoutInProgressBar />\r\n        </IonPage>\r\n    )\r\n}\r\n\r\ninterface WorkoutSegmentProps {\r\n    visible?: boolean,\r\n}\r\nfunction WorkoutSegment(props: WorkoutSegmentProps) {\r\n    const { workout, SetWorkout } = useWorkout();\r\n    const [templates, SetTemplates] = useState<WorkoutTemplate[]>([])\r\n    const router = useIonRouter()\r\n    const { pathname } = useLocation()\r\n    var mounted = false;\r\n    const SectionHeader: React.FC<{ title: string }> = (prps) => {\r\n        return (\r\n            <IonItem lines='none'>\r\n                <IonText style={{ fontSize: '12px' }}>{prps.title}</IonText>\r\n                {prps.children}\r\n            </IonItem>\r\n        )\r\n    }\r\n    const StartWorkout = () => {\r\n        if (workout) {\r\n            AlertBox.Show('Workout in progress', 'You are currently performing a workout. Would you like to discard it?',\r\n                [\r\n                    {\r\n                        text: 'CANCEL',\r\n                        type: 'cancel,'\r\n                    },\r\n                    {\r\n                        text: 'YES, DISCARD',\r\n                        handler: () => {\r\n                            WorkoutManager.cancel()\r\n                            WorkoutManager.start()\r\n                            router.push('/workout-page', 'forward')\r\n                        }\r\n                    }\r\n                ]\r\n            )\r\n        } else {\r\n            WorkoutManager.start();\r\n            router.push('/workout-page')\r\n        }\r\n    }\r\n    const OnDeleteTemplate = (template: WorkoutTemplate) => {\r\n        AlertBox.Show('Delete Template?', \"Are you sure you want to delete this template?\", [\r\n            {\r\n                text: 'Cancel',\r\n                type: 'cancel'\r\n            }, {\r\n                text: 'Yes Delete',\r\n                handler: async () => {\r\n                    let new_templs = templates.filter((t) => t._id !== template._id);\r\n                    await template.delete()\r\n                    SetTemplates(new_templs);\r\n                }\r\n            }\r\n        ])\r\n    }\r\n    const OnDuplicateTemplate = (template: WorkoutTemplate) => {\r\n        AlertBox.Show('Duplicate Template', 'Enter name for the template', [\r\n            { type: 'cancel', text: 'Cancel' }, {\r\n                text: 'Duplicate', handler: async (data: any) => {\r\n                    let temp = template.Duplicate(data.name);\r\n                    let x = [...templates, temp];\r\n                    SetTemplates(x);\r\n                    await temp.save()\r\n                }\r\n            }\r\n        ], [\r\n            { name: \"name\", type: 'text', value: template.name }\r\n        ])\r\n    }\r\n    useEffect(() => {\r\n        mounted = true\r\n        WorkoutTemplate.getAll().then((res) => {\r\n            if (mounted) {\r\n                SetTemplates(res.docs.map((d) => new WorkoutTemplate(d)))\r\n            }\r\n        })\r\n        return () => {\r\n            mounted = false;\r\n        }\r\n    }, [pathname])\r\n    return (\r\n        <>\r\n            <IonContent style={{ display: props.visible ? 'block' : 'none' }}>\r\n                <SectionHeader title='Quick Start' />\r\n                <div style={{ margin: '10px 0' }} className='centering-box'>\r\n                    <IonButton onClick={StartWorkout}>\r\n                        <IonIcon style={{ margin: '0 10px' }} icon={play} />\r\n                        <IonLabel>Start an empty workout</IonLabel>\r\n                    </IonButton>\r\n                </div>\r\n                <SectionHeader title='Workout Templates' >\r\n                    <IonButtons slot='end'>\r\n                        <IonButton onClick={() => {\r\n                            router.push('/create-workout-template')\r\n                        }\r\n                        }>\r\n                            <IonIcon icon={add} />\r\n                        </IonButton>\r\n                    </IonButtons>\r\n                </SectionHeader>\r\n                {templates.length <= 0 ? <IonItem lines='none'>\r\n                    <IonText style={{ fontSize: '14px', textAlign: 'center', width: '100%' }}>\r\n                        You do not have any custom templates yet.\r\n                        <br />\r\n                        Tap the '+' to create your first template.\r\n                    </IonText>\r\n                </IonItem> : <>\r\n                    {templates.map((t) => {\r\n                        return <WorkoutTemplateItem\r\n                            OnDuplicate={() => OnDuplicateTemplate(t)}\r\n                            OnDelete={() => OnDeleteTemplate(t)}\r\n                            key={t._id}\r\n                            template={t}\r\n                        />\r\n                    })}\r\n                </>\r\n                }\r\n\r\n\r\n            </IonContent>\r\n        </>\r\n    )\r\n}\r\n\r\ninterface HistorySegmentProps {\r\n    visible?: boolean\r\n}\r\nfunction HistorySegment(props: HistorySegmentProps) {\r\n    const [selectedDate, SetSelectedDate] = useState(moment())\r\n    const [workouts, SetWorkouts] = useState<Workout[]>([])\r\n\r\n    const [loading, SetLoading] = useState(false);\r\n    const { pathname } = useLocation()\r\n    const Empty = () => {\r\n        if (loading) {\r\n            return (\r\n                <Loading />\r\n            )\r\n        }\r\n        return (\r\n            <div style={{ height: '100%' }} className='centering-box'>\r\n                <WorkoutSvg style={{ width: '80%', height: 200, padding: 10 }} />\r\n                <IonLabel>No Workouts</IonLabel>\r\n            </div>\r\n        )\r\n    }\r\n    useEffect(() => {\r\n        SetLoading(true);\r\n        Workout.findForDate(selectedDate.toDate()).then((res) => {\r\n            SetWorkouts(\r\n                res.docs.map((d) => {\r\n                    return new Workout(d)\r\n                })\r\n            )\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        }).finally(() => {\r\n            SetLoading(false)\r\n        })\r\n\r\n    }, [selectedDate, props.visible, pathname])\r\n    return (\r\n        <>\r\n            <HorizontalCalender hide={!props.visible} onSelectDate={SetSelectedDate} selectedDate={selectedDate} />\r\n            <IonContent className={`${props.visible ? '' : ' hide'}`}>\r\n                {workouts.length <= 0 ? <Empty /> : <>\r\n                    {workouts.map((w) => {\r\n                        return (\r\n                            <WorkoutHistoryItem key={w._id} workout={w} />\r\n                        )\r\n                    })}\r\n                </>}\r\n            </IonContent>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default WorkoutTab\r\n\r\ninterface WorkoutTemplateItemProps {\r\n    template: WorkoutTemplate,\r\n    OnDelete: () => void,\r\n    OnDuplicate: () => void\r\n}\r\nfunction WorkoutTemplateItem(props: WorkoutTemplateItemProps) {\r\n    let template_org = props.template\r\n    const WorkoutTemplateReducer = (state: WorkoutTemplate, action: Partial<WorkoutTemplate>) => {\r\n        Object.assign(template_org, action);\r\n        return new WorkoutTemplate({\r\n            ...state,\r\n            ...action\r\n        })\r\n    }\r\n    const [template, UpdateTemplate] = useReducer(WorkoutTemplateReducer, props.template);\r\n    useEffect(() => {\r\n        UpdateTemplate(props.template);\r\n    }, [props.template])\r\n    const OnRename = () => {\r\n        AlertBox.Show('Change Exercise Name', \"Enter new name for the workout below\", [\r\n            {\r\n                text: 'Cancel',\r\n                type: 'cancel'\r\n            }, {\r\n                text: 'Update',\r\n                handler: async (data: any) => {\r\n                    if (data.name && data.name.length > 0) {\r\n                        UpdateTemplate({ name: data.name })\r\n                        await template.save()\r\n                    }\r\n                }\r\n            }\r\n        ],\r\n            [\r\n                {\r\n                    name: 'name',\r\n                    type: 'text',\r\n                    placeholder: 'Enter name',\r\n                    value: template.name,\r\n                    label: 'Exercise Name'\r\n                }\r\n            ])\r\n    }\r\n    return (\r\n        <IonCard routerLink={`/wokout-template/${template._id}`} button className='card'>\r\n            <IonItem lines='none'>\r\n                <IonCardTitle>{props.template.name}</IonCardTitle>\r\n                {/*<IonButtons slot='end'>\r\n                    <PopoverButton>\r\n                        <PopoverItem routerLink={`/workout-template/edit/${template._id}`}>Edit</PopoverItem>\r\n                        <PopoverItem onClick={OnRename}>Rename</PopoverItem>\r\n                        <PopoverItem>Share</PopoverItem>\r\n                        <PopoverItem onClick={props.OnDuplicate}>Duplicate</PopoverItem>\r\n                        <PopoverItem onClick={props.OnDelete}>Delete</PopoverItem>\r\n                    </PopoverButton>\r\n    </IonButtons>*/}\r\n            </IonItem>\r\n            <IonCardContent style={{ display: 'flex', flexDirection: 'column' }}>\r\n                {template.exercises.map((ex, i) => {\r\n                    return (\r\n                        <IonText key={i}>{ex.sets.length} x {ex.exerciseName}</IonText>\r\n                    )\r\n                })}\r\n            </IonCardContent>\r\n        </IonCard>\r\n    )\r\n}\r\n\r\ninterface WorkoutHistoryItemProps {\r\n    workout: Workout\r\n}\r\n\r\nconst WorkoutHistoryItem: React.FC<WorkoutHistoryItemProps> = (props) => {\r\n    let workout = props.workout\r\n    const [exercises, SetExercises] = useState<WorkoutExercise[]>([])\r\n    const { pathname } = useLocation()\r\n    const StatItem = (p: { icon: any, value?: string }) => {\r\n        return (\r\n            <IonCol className='history-item-stat' size='3'>\r\n                <IonIcon icon={p.icon} />\r\n                <IonLabel>{p.value}</IonLabel>\r\n            </IonCol>\r\n        )\r\n    }\r\n    useEffect(() => {\r\n        workout.exercises().then((ex) => {\r\n            SetExercises(ex)\r\n        })\r\n    }, [pathname])\r\n    const Total = () => {\r\n        if (exercises.length <= 0) {\r\n            return undefined;\r\n        }\r\n        let total = exercises.map((t) => {\r\n            return t.total()\r\n        }).reduce((a, b) => {\r\n            a.distance.value += Convert(b.distance.unit, a.distance.unit, 'weight', b.distance.value)\r\n            a.weight.value += Convert(b.weight.unit, a.weight.unit, 'distance', b.weight.value)\r\n            return a;\r\n        })\r\n        total.distance.value = Convert(total.distance.unit, Settings.current.distanceUnit, 'distance', total.distance.value);\r\n        total.weight.value = Convert(total.weight.unit, Settings.current.weightUnit, 'weight', total.weight.value);\r\n        total.distance.unit = Settings.current.distanceUnit\r\n        total.weight.unit = Settings.current.weightUnit\r\n        return total\r\n    }\r\n    let total = Total()\r\n    return (\r\n        <IonCard routerDirection='forward' routerLink={`/workout/${workout._id}`} className='card '>\r\n            <IonCardHeader style={{ padding: '16px 16px 0px 16px' }}>\r\n                <IonCardTitle>{workout.name}</IonCardTitle>\r\n                <IonRow>\r\n                    <StatItem icon={timer} value={`${workout.timeString().replace(/0?0h|0?0m|0?0s/g, '')}`} />\r\n                    <StatItem icon={barbell} value={`${total?.weight.value} ${Unit(total?.weight.unit, 'weight')}`} />\r\n                    <StatItem icon={walk} value={`${total?.distance.value} ${Unit(total?.distance.unit, 'distance')}`} />\r\n                </IonRow>\r\n            </IonCardHeader>\r\n            <IonCardContent className='col-table' style={{ display: 'flex', flexDirection: 'column', padding: 0 }}>\r\n                <IonItem className='title' lines='full'>\r\n                    <IonCol size='8'>\r\n                        Exercise\r\n                            </IonCol>\r\n                    <IonCol size='4'>\r\n                        Best Set\r\n                            </IonCol>\r\n                </IonItem>\r\n                {exercises.map((ex) => {\r\n                    return (\r\n                        <IonItem key={ex._id} className='item' lines='none'>\r\n                            <IonCol size='8'>\r\n                                {ex.toText()}\r\n                            </IonCol>\r\n                            <IonCol size='4'>\r\n                                {ex.bestSet()}\r\n                            </IonCol>\r\n                        </IonItem>\r\n                    )\r\n                })}\r\n            </IonCardContent>\r\n        </IonCard>\r\n    )\r\n}","import { IonButton, IonIcon, IonItem, IonPopover } from '@ionic/react'\r\nimport { ellipsisVertical } from 'ionicons/icons';\r\nimport React, { useState } from 'react'\r\n\r\ninterface PopoverButtonProps {\r\n    icon?: any,\r\n    iconProps?: any,\r\n    buttonProps?: any\r\n}\r\n//@ts-ignore\r\nconst PopoverContext = React.createContext<{\r\n    popoverState: { showPopover: boolean, event: undefined },\r\n    setShowPopover: (params: { showPopover: boolean, event: undefined }) => void\r\n}>()\r\nconst PopoverButton: React.FC<PopoverButtonProps> = (props) => {\r\n    const [popoverState, setShowPopover] = useState({ showPopover: false, event: undefined });\r\n    return (\r\n        <PopoverContext.Provider value={{ popoverState, setShowPopover }}>\r\n            <IonPopover\r\n                event={popoverState.event}\r\n                isOpen={popoverState.showPopover}\r\n                onDidDismiss={() => setShowPopover({ showPopover: false, event: undefined })}\r\n            >\r\n                {props.children}\r\n            </IonPopover>\r\n            <IonButton {...props.buttonProps} onClick={\r\n                (e: any) => {\r\n                    e.persist();\r\n                    setShowPopover({ showPopover: true, event: e })\r\n                }}>\r\n                <IonIcon {...props.iconProps} icon={props.icon || ellipsisVertical} />\r\n            </IonButton>\r\n        </PopoverContext.Provider>\r\n    )\r\n}\r\n\r\nexport default PopoverButton\r\n\r\n\r\nexport const PopoverItem: React.FC<any> = (props) => {\r\n    const { popoverState, setShowPopover } = React.useContext(PopoverContext)\r\n    const onClick = () => {\r\n        setShowPopover({ showPopover: false, event: undefined })\r\n        if (props.onClick) {\r\n            props.onClick()\r\n        }\r\n    }\r\n    return (\r\n        <IonItem  {...props} onClick={onClick} button lines='none' >\r\n            {props.children}\r\n        </IonItem>\r\n    )\r\n}","import { IonAvatar, IonText } from '@ionic/react'\r\nimport React from 'react'\r\nimport { IExercise } from '../../data/models/Exercise'\r\n\r\n\r\ninterface ExerciseItemThumbnailProps {\r\n    exercise: IExercise\r\n}\r\nconst ExerciseItemThumbnail: React.FC<ExerciseItemThumbnailProps> = (props) => {\r\n    let exercise = props.exercise\r\n    return (\r\n        <IonAvatar style={{ \"--border-radius\": \"0%\" }} slot='start'>\r\n            {exercise.thumbnail ? <img src={`/assets/workouts/${exercise.thumbnail.toLocaleLowerCase()}`} /> :\r\n                <div\r\n                    className='centering-box'\r\n                    style={{\r\n                        backgroundColor: 'var(--ion-color-light)',\r\n                        borderRadius: '50%',\r\n                        height: '100%'\r\n                    }}>\r\n                    <IonText>{exercise.exerciseName[0].toUpperCase()}</IonText>\r\n                </div>\r\n            }\r\n        </IonAvatar>\r\n    )\r\n}\r\n\r\nexport default ExerciseItemThumbnail;","import { IonSpinner } from '@ionic/react'\r\nimport React from 'react'\r\n\r\ninterface LoaderProps {\r\n\r\n}\r\n\r\nexport default class Loader extends React.Component<LoaderProps>{\r\n    static ref: Loader | null = null\r\n    static show() {\r\n        Loader.ref?.show()\r\n    }\r\n    static hide() {\r\n        Loader.ref?.hide()\r\n    }\r\n    state = {\r\n        show: false\r\n    }\r\n    show() {\r\n        this.setState({ show: true })\r\n    }\r\n    hide() {\r\n        this.setState({ show: false })\r\n    }\r\n    render() {\r\n        if (this.state.show) {\r\n            return (\r\n                <div className='backdrop'>\r\n                    <IonSpinner color='primary' />\r\n                </div>\r\n            )\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n}","import { IonAvatar, IonButton, IonButtons, IonCheckbox, IonChip, IonContent, IonFab, IonFabButton, IonHeader, IonIcon, IonImg, IonInput, IonItem, IonModal, IonPage, IonRow, IonSearchbar, IonSelect, IonSelectOption, IonText, IonTitle, IonToolbar, useIonRouter, useIonViewWillEnter } from '@ionic/react'\r\nimport { arrowBack, checkmark, close, filter, key, searchOutline } from 'ionicons/icons'\r\nimport React, { useEffect, useState } from 'react'\r\nimport BackButton from '../BackButton'\r\nimport PopoverButton, { PopoverItem } from '../PopoverButton'\r\nimport { List } from 'react-virtualized'\r\nimport Exercise, { BodyParts, ExerciseCategories, ExerciseData, IExercise } from '../../data/models/Exercise'\r\nimport ExerciseItemThumbnail from './ExerciseItemThumb'\r\nimport Header from '../Header'\r\nimport AlertBox from '../../modals/Alert'\r\nimport Loader from '../../modals/Loader'\r\ninterface ExerciseListProps {\r\n    asModal?: boolean,\r\n    OnRequestDismiss?: () => void,\r\n    selectable?: boolean,\r\n    selectionMode?: 'single' | 'multi',\r\n    OnSelectedExerciseListChange?: (exercises: IExercise[]) => void,\r\n    selectedExercises?: IExercise[],\r\n    show?: boolean\r\n}\r\n\r\nconst Headerize = (sortedList: IExercise[]) => {\r\n    let letter = \"\";\r\n    let list: (IExercise & { header: false } | { title: string, header: boolean })[] = []\r\n    for (let item of sortedList) {\r\n        if (letter !== item.exerciseName[0]) {\r\n            letter = item.exerciseName[0];\r\n            list.push({ title: letter, header: true })\r\n        }\r\n        list.push({ ...item, header: false });\r\n    }\r\n    return list;\r\n}\r\ninterface ExerciseListContextProps {\r\n    selectable?: boolean,\r\n    selectionMode?: 'single' | 'multi'\r\n    selectedExercises: IExercise[],\r\n    SetSelectedExercises: (exercises: IExercise[]) => void\r\n}\r\nconst ExerciseListContext = React.createContext<ExerciseListContextProps>({\r\n    selectable: false,\r\n    selectionMode: \"multi\",\r\n    selectedExercises: [],\r\n    SetSelectedExercises: (exercises: IExercise[]) => { }\r\n})\r\nconst useContext = () => React.useContext(ExerciseListContext);\r\nconst ExerciseList: React.FC<ExerciseListProps> = (props) => {\r\n    const [exercises, SetExercises] = useState(Headerize(ExerciseData.data as IExercise[]));\r\n    const [selectedExercises, SetSelectedExercises] = useState<IExercise[]>([]);\r\n    const [searching, SetSearching] = useState(false)\r\n    const [bodypartFilter, SetBodyPartFilter] = useState<string[]>([])\r\n    const [categoriesFilter, SetCategoriesFilter] = useState<string[]>([])\r\n    const [search, SetSearch] = useState('')\r\n    useEffect(() => {\r\n        if (props.OnSelectedExerciseListChange) {\r\n            props.OnSelectedExerciseListChange(selectedExercises)\r\n        }\r\n    }, [selectedExercises])\r\n    useEffect(() => {\r\n        ApplyFilters()\r\n    }, [search, bodypartFilter, categoriesFilter, ExerciseData.data])\r\n    useEffect(() => {\r\n        const OnExerciseDataChange = () => {\r\n            ApplyFilters()\r\n        }\r\n        ExerciseData.events.on('change', OnExerciseDataChange)\r\n        return () => {\r\n            ExerciseData.events.off('change', OnExerciseDataChange)\r\n        }\r\n    }, [])\r\n    const OnBack = (e: any) => {\r\n        if (searching) {\r\n            SetSearching(false);\r\n            SetSearch(\"\")\r\n            return;\r\n        }\r\n        if (props.asModal && props.OnRequestDismiss) {\r\n            props.OnRequestDismiss()\r\n        } else {\r\n            e.performDefault()\r\n        }\r\n    }\r\n    const OnSearch = (query: string) => {\r\n        if (query === \"\") {\r\n            SetExercises(Headerize(ExerciseData.data as IExercise[]))\r\n        } else {\r\n            ApplyFilters()\r\n        }\r\n        SetSearch(query)\r\n    }\r\n    const ApplyFilters = () => {\r\n        let x = ExerciseData.data.filter((ex) => {\r\n            let tr = true;\r\n            if (bodypartFilter.length > 0) {\r\n                tr = tr && bodypartFilter.includes(ex.bodyPart)\r\n            }\r\n            if (categoriesFilter.length > 0) {\r\n                tr = tr && categoriesFilter.includes(ex.category);\r\n            }\r\n            if (search !== '') {\r\n                tr = tr && ex.exerciseName.toLowerCase().includes(search.toLowerCase())\r\n            }\r\n            return tr;\r\n        })\r\n        SetExercises(Headerize(x as IExercise[]));\r\n    }\r\n    const RowRenderer = (x: {\r\n        key: any, // Unique key within array of rows\r\n        index: any, // Index of row within collection\r\n        style: any, // Style object to be applied to row (to position it)\r\n    }) => {\r\n        let { style, index, key } = x;\r\n        let exercise = exercises[index]\r\n        if (exercise.header) {\r\n            return (\r\n                <ExerciseListHeader key={key} style={style} title={exercise.title} />\r\n            )\r\n        } else {\r\n            return (\r\n                <ExerciseListItem key={key} style={style} exercise={exercise as IExercise} />\r\n            );\r\n        }\r\n    }\r\n    const SearchBar = <IonSearchbar defaultValue={search} onIonChange={e => OnSearch(e.detail.value || '')} mode='ios' />\r\n    return (\r\n        <ExerciseListContext.Provider value={{ selectable: props.selectable, selectionMode: props.selectionMode || 'multi', selectedExercises, SetSelectedExercises }}>\r\n            <IonPage>\r\n                <IonHeader className='ion-no-border'>\r\n                    <IonToolbar>\r\n                        <IonButtons slot='start'>\r\n                            <BackButton OnClick={OnBack} />\r\n                        </IonButtons>\r\n                        {searching ? SearchBar : null}\r\n                        <IonButtons slot='end'>\r\n                            {searching ? null : <IonButton onClick={() => SetSearching(true)}><IonIcon icon={searchOutline} /></IonButton>}\r\n                            <IonButton onClick={() => {\r\n                                ExerciseListFilter.ref?.show({\r\n                                    selectedBodyParts: bodypartFilter,\r\n                                    selectedCategories: categoriesFilter\r\n                                }).then((res) => {\r\n                                    SetBodyPartFilter(res.selectedBodyParts);\r\n                                    SetCategoriesFilter(res.selectedCategories)\r\n                                })\r\n                            }}><IonIcon icon={filter} /></IonButton>\r\n                            {searching ? null : <PopoverButton>\r\n                                <PopoverItem onClick={() => CreateExerciseModal.ref?.show()} button lines='none'>Create Exercise</PopoverItem>\r\n                            </PopoverButton>}\r\n                        </IonButtons>\r\n                        {searching ? null : <IonTitle>Exercises</IonTitle>}\r\n                    </IonToolbar>\r\n                </IonHeader>\r\n                <IonRow>\r\n\r\n                </IonRow>\r\n                <IonContent>\r\n\r\n                    <List\r\n                        width={window.innerWidth}\r\n                        height={window.innerHeight}\r\n                        rowCount={exercises.length}\r\n                        rowHeight={56}\r\n                        rowRenderer={RowRenderer}\r\n                    />\r\n                    {props.children}\r\n                </IonContent>\r\n            </IonPage>\r\n            <ExerciseListFilter ref={ref => ExerciseListFilter.ref = ref} />\r\n            <CreateExerciseModal ref={ref => CreateExerciseModal.ref = ref} />\r\n        </ExerciseListContext.Provider>\r\n    )\r\n}\r\n\r\ninterface ExerciseListItemProps {\r\n    exercise: IExercise,\r\n    style: CSSStyleSheet\r\n}\r\nconst ExerciseListItem: React.FC<ExerciseListItemProps> = (props) => {\r\n    const router = useIonRouter()\r\n    const exercise = props.exercise\r\n    const { selectable, SetSelectedExercises, selectedExercises, selectionMode } = useContext()\r\n    const checked = selectedExercises.some((e) => e._id === exercise._id)\r\n    const OnIonChange = (add: boolean) => {\r\n        if (add) {\r\n            let x: IExercise[] = [];\r\n            if (selectionMode === 'multi') {\r\n                x = [...selectedExercises, exercise]\r\n            } else {\r\n                x = [exercise]\r\n            }\r\n            SetSelectedExercises(x);\r\n        } else {\r\n            SetSelectedExercises(selectedExercises.filter(e => e._id !== exercise._id))\r\n        }\r\n    }\r\n    const OnItemClick = () => {\r\n        if (!selectable) {\r\n            router.push(`/exercise-info/${exercise._id}`)\r\n        }\r\n    }\r\n    return (\r\n        <IonItem onClick={!selectable ? OnItemClick : undefined} style={props.style} button={!selectable} lines='none'>\r\n            <ExerciseItemThumbnail exercise={exercise} />\r\n            <div style={{ display: 'flex', flexDirection: \"column\" }}>\r\n                <IonText style={{ fontSize: 12 }}>{exercise.exerciseName}</IonText>\r\n                <IonText style={{ fontSize: 12 }} className='light-text'>{BodyParts[exercise.bodyPart]}</IonText>\r\n            </div>\r\n            {selectable ? <IonCheckbox onIonChange={e => OnIonChange(e.detail.checked)} checked={checked} slot='end' /> : null}\r\n        </IonItem>\r\n    )\r\n}\r\n\r\ninterface ExerciseListHeaderProps {\r\n    style: any,\r\n    title: string\r\n}\r\nconst ExerciseListHeader: React.FC<ExerciseListHeaderProps> = (props) => {\r\n    return (\r\n        <IonItem style={props.style} color='light' lines='none'>\r\n            <IonText>{props.title}</IonText>\r\n        </IonItem>\r\n    )\r\n}\r\nexport default ExerciseList\r\n\r\nclass ExerciseListFilter extends React.Component {\r\n    static ref: ExerciseListFilter | null = null;\r\n    state: {\r\n        show: boolean,\r\n        selectedBodyParts: string[],\r\n        selectedCategories: string[],\r\n        resolve: (res: { selectedBodyParts: string[], selectedCategories: string[] }) => void\r\n    } = {\r\n            show: false,\r\n            selectedBodyParts: [],\r\n            selectedCategories: [],\r\n            resolve: () => { }\r\n        }\r\n    show(options: { selectedBodyParts?: string[], selectedCategories?: string[] }) {\r\n        return new Promise<{ selectedBodyParts: string[], selectedCategories: string[] }>((resolve) => {\r\n            let { selectedBodyParts, selectedCategories } = options\r\n            this.setState({\r\n                show: true,\r\n                selectedBodyParts: selectedBodyParts || [],\r\n                selectedCategories: selectedCategories || [],\r\n                resolve: resolve\r\n            })\r\n        })\r\n    }\r\n    hide() {\r\n        if (this.state.resolve) {\r\n            this.state.resolve({\r\n                selectedBodyParts: this.state.selectedBodyParts,\r\n                selectedCategories: this.state.selectedCategories\r\n            })\r\n        }\r\n        this.setState({\r\n            show: false,\r\n            selectedBodyParts: [],\r\n            selectedCategories: []\r\n        })\r\n    }\r\n    isSelected = (key: string, type: 'bodypart' | 'category') => {\r\n        if (type === 'bodypart') {\r\n            return this.state.selectedBodyParts.includes(key);\r\n        } else {\r\n            return this.state.selectedCategories.includes(key)\r\n        }\r\n    }\r\n    onSelect = (key: string, type: 'bodypart' | 'category', val: boolean) => {\r\n        if (val) {\r\n            if (type === 'bodypart') {\r\n                this.setState({\r\n                    selectedBodyParts: this.state.selectedBodyParts.filter((f) => f != key)\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    selectedCategories: this.state.selectedCategories.filter((f) => f != key)\r\n                })\r\n            }\r\n        } else {\r\n            if (type === 'bodypart') {\r\n                this.setState({\r\n                    selectedBodyParts: [...this.state.selectedBodyParts, key]\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    selectedCategories: [...this.state.selectedCategories, key]\r\n                })\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <IonModal isOpen={this.state.show}>\r\n                <Header backIcon={close} title=\"Exercise Filter\" backButton noborder onBack={() => {\r\n                    this.hide()\r\n                }} />\r\n                <IonContent>\r\n                    <IonItem lines='none'>\r\n                        Filter by Body Parts\r\n                    </IonItem>\r\n                    <div style={{ flexDirection: 'row', flexWrap: 'wrap' }} className='centering-box'>\r\n                        {Object.keys(BodyParts).map((k) => {\r\n                            const selected = this.isSelected(k, 'bodypart')\r\n                            return (\r\n                                <IonChip onClick={() => {\r\n                                    this.onSelect(k, 'bodypart', selected)\r\n                                }} color={selected ? 'primary' : undefined} key={k}>\r\n                                    {\r\n                                        //@ts-ignore\r\n                                        BodyParts[k]\r\n                                    }\r\n                                </IonChip>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                    <IonItem lines='none'>\r\n                        Filter by Categories\r\n                    </IonItem>\r\n                    <div style={{ flexDirection: 'row', flexWrap: 'wrap' }} className='centering-box'>\r\n                        {Object.keys(ExerciseCategories).map((k) => {\r\n                            const selected = this.isSelected(k, 'category')\r\n                            return (\r\n                                <IonChip onClick={() => {\r\n                                    this.onSelect(k, 'category', selected)\r\n                                }} color={selected ? 'primary' : undefined} key={k}>\r\n                                    {\r\n                                        //@ts-ignore\r\n                                        ExerciseCategories[k]\r\n                                    }\r\n                                </IonChip>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </IonContent>\r\n            </IonModal>\r\n        )\r\n    }\r\n}\r\n\r\nclass CreateExerciseModal extends React.Component {\r\n    static ref: CreateExerciseModal | null = null\r\n    state = {\r\n        show: false,\r\n        exerciseName: '',\r\n        category: '',\r\n        bodyPart: ''\r\n    }\r\n    show() {\r\n        this.setState({\r\n            show: true\r\n        })\r\n    }\r\n    CanSave() {\r\n        let { exerciseName, category, bodyPart } = this.state\r\n        return exerciseName !== \"\" && category !== \"\" && bodyPart !== \"\"\r\n    }\r\n    async CreateExercise() {\r\n        let { exerciseName, category, bodyPart } = this.state\r\n        try {\r\n            Loader.show()\r\n            await Exercise.Add(exerciseName, category, bodyPart)\r\n            this.hide()\r\n        } finally {\r\n            Loader.hide()\r\n        }\r\n    }\r\n    hide() {\r\n        this.setState({\r\n            show: false\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <IonModal isOpen={this.state.show}>\r\n                <Header onBack={this.hide.bind(this)} title=\"Create Exercise\" noborder backButton backIcon={close}>\r\n\r\n                </Header>\r\n                <IonContent >\r\n                    <IonItem style={{ marginTop: 16, '--padding-start': '16px' }} lines='none'>\r\n                        <IonInput style={{ '--padding-start': '16px' }} onIonChange={e => this.setState({ exerciseName: e.detail.value })} value={this.state.exerciseName} mode='ios' placeholder='Enter Exercise Name' />\r\n                    </IonItem>\r\n                    <IonItem style={{ '--padding-start': '16px' }} lines='none'>\r\n                        <IonSelect value={this.state.category} onIonChange={e => this.setState({ category: e.detail.value })} placeholder='Select Category' style={{ width: '100%' }} okText=\"Okay\" cancelText=\"Dismiss\">\r\n                            {Object.keys(ExerciseCategories).map((ex) => {\r\n                                return (\r\n                                    //@ts-ignore\r\n                                    <IonSelectOption value={ex}>{ExerciseCategories[ex]}</IonSelectOption>\r\n                                )\r\n                            })}\r\n                        </IonSelect>\r\n                    </IonItem>\r\n                    <IonItem style={{ '--padding-start': '16px' }} lines='none'>\r\n                        <IonSelect value={this.state.bodyPart} onIonChange={e => this.setState({ bodyPart: e.detail.value })} placeholder='Select Body Part' style={{ width: '100%' }} okText=\"Okay\" cancelText=\"Dismiss\">\r\n                            {Object.keys(BodyParts).map((ex) => {\r\n                                return (\r\n                                    //@ts-ignore\r\n                                    <IonSelectOption value={ex}>{BodyParts[ex]}</IonSelectOption>\r\n                                )\r\n                            })}\r\n                        </IonSelect>\r\n                    </IonItem>\r\n                    <IonFab slot='fixed' vertical='bottom' horizontal='end'>\r\n                        <IonFabButton onClick={this.CreateExercise.bind(this)} className={`${this.CanSave() ? '' : 'hidden'}`}>\r\n                            <IonIcon icon={checkmark} />\r\n                        </IonFabButton>\r\n                    </IonFab>\r\n                </IonContent>\r\n            </IonModal>\r\n        )\r\n    }\r\n}","import { IonFab, IonFabButton, IonIcon, IonModal } from '@ionic/react'\r\nimport { checkmark } from 'ionicons/icons'\r\n\r\nimport React from 'react'\r\nimport ExerciseList from '../components/Exercise/ExerciseList'\r\nimport { IExercise } from '../data/models/Exercise'\r\ninterface State {\r\n    show: boolean,\r\n    selectedExercises: IExercise[],\r\n    resolve?: (exercises: IExercise[]) => void,\r\n    mode: 'multi' | 'single'\r\n}\r\nexport default class ExerciseSelectModal extends React.Component {\r\n    static ref: ExerciseSelectModal | null = null\r\n    state: State = {\r\n        show: false,\r\n        selectedExercises: [],\r\n        mode: 'multi',\r\n    }\r\n    show(mode: 'multi' | 'single' = 'multi') {\r\n        return new Promise<IExercise[]>((resolve) => {\r\n            this.setState({\r\n                show: true,\r\n                mode: mode,\r\n                resolve: resolve\r\n            })\r\n        })\r\n    }\r\n    hide() {\r\n        this.setState({\r\n            show: false,\r\n            selectedExercises: [],\r\n            searching: false,\r\n            resolve: undefined,\r\n            mode: 'multi'\r\n        })\r\n    }\r\n    onDone() {\r\n        if (this.state.resolve) {\r\n            this.state.resolve(this.state.selectedExercises)\r\n        }\r\n        this.hide()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <IonModal isOpen={this.state.show}>\r\n                {this.state.show?<ExerciseList selectedExercises={this.state.selectedExercises} asModal OnRequestDismiss={this.hide.bind(this)} OnSelectedExerciseListChange={(ex) => this.setState({ selectedExercises: ex })} selectable={true} selectionMode={this.state.mode} >\r\n                    <IonFab slot='fixed' vertical='bottom' horizontal='end'>\r\n                        <IonFabButton onClick={this.onDone.bind(this)} className={`${this.state.selectedExercises.length > 0 ? '' : 'hidden'}`}>\r\n                            <IonIcon icon={checkmark} />\r\n                        </IonFabButton>\r\n                    </IonFab>\r\n                </ExerciseList>:null}\r\n            </IonModal>\r\n        )\r\n    }\r\n}\r\n/**\r\n *\r\n */","import { IonAlert, IonPicker } from '@ionic/react'\r\nimport React from 'react'\r\n\r\n\r\nexport default class PickerBox extends React.Component<any>{\r\n    static ref: PickerBox | null = null;\r\n    state = {\r\n        show: false,\r\n        buttons: [],\r\n        columns: []\r\n    }\r\n    static Show(options: { buttons: any[], columns: any[] }) {\r\n        PickerBox.ref?.show(options);\r\n    }\r\n    show(options: { buttons: any[], columns: any[] }) {\r\n        this.setState({\r\n            buttons: options.buttons,\r\n            columns: options.columns,\r\n            show: true,\r\n        })\r\n    }\r\n    hide() {\r\n        this.setState({\r\n            buttons: [],\r\n            inputs: [],\r\n            show: false\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <IonPicker\r\n                isOpen={this.state.show}\r\n                buttons={this.state.buttons}\r\n                onDidDismiss={this.hide.bind(this)}\r\n                columns={this.state.columns}\r\n            />\r\n        )\r\n    }\r\n}","import { IonButton, IonButtons, IonCol, IonIcon, IonInput, IonItem, IonItemDivider, IonItemOption, IonItemOptions, IonItemSliding, IonLabel, IonNav, IonPopover, IonRow, IonText } from '@ionic/react'\r\nimport React, { useEffect, useReducer, useState } from 'react'\r\nimport './ExerciseItem.scss'\r\nimport { checkmark, ellipsisVertical, lockClosed, trash } from 'ionicons/icons'\r\nimport { IWorkoutSet, WorkoutExercise } from '../../data/models/Workout'\r\nimport { IExercise, ExerciseMap } from '../../data/models/Exercise'\r\nimport short from 'shortid'\r\nimport AlertBox from '../../modals/Alert'\r\nimport ExerciseSelectModal from '../../modals/ExercisesSelectModal'\r\nimport { buildQueries } from '@testing-library/react'\r\nimport PickerBox from '../Picker'\r\nimport { Invert, Unit } from '../../utils/Units'\r\nimport EventEmitter from 'events'\r\nimport { usePrev } from '../../utils/hooks'\r\nimport moment from 'moment'\r\nimport RestTimer from '../../utils/RestTimer'\r\nimport Time from '../../utils/Time'\r\ninterface ExerciseItemProps {\r\n    exercise: WorkoutExercise,\r\n    OnRequestRemove?: () => void\r\n}\r\n\r\ninterface ContextProps {\r\n    exercise: WorkoutExercise,\r\n    SetExercise: (exercise: Partial<WorkoutExercise>) => void,\r\n}\r\n\r\n//@ts-ignore\r\nconst ExerciseItemContext = React.createContext<ContextProps>()\r\n\r\nconst ExerciseItem: React.FC<ExerciseItemProps> = (props) => {\r\n    let og_exercise = props.exercise\r\n\r\n    const ExerciseReducer = (state: WorkoutExercise, action: Partial<WorkoutExercise>) => {\r\n        Object.assign(og_exercise, action)\r\n        return new WorkoutExercise({\r\n            ...state,\r\n            ...action\r\n        })\r\n    }\r\n    const [exercise, SetExercise] = useReducer(ExerciseReducer, og_exercise);\r\n    const [prev, SetPrev] = useState<WorkoutExercise | undefined>(undefined)\r\n    let exerciseInfo!: IExercise;\r\n    let enables = ExerciseMap[exercise.category]\r\n    useEffect(() => {\r\n        if (exercise.sets.length <= 0) {\r\n            SetExercise({ sets: [{ _id: short() }] })\r\n        }\r\n        exercise.recent().then((val) => SetPrev(val));\r\n    }, [])\r\n    useEffect(() => {\r\n        if (exercise.sets.length <= 0) {\r\n            if (props.OnRequestRemove) {\r\n                props.OnRequestRemove()\r\n            }\r\n        }\r\n    }, [exercise])\r\n    const AddSet = () => {\r\n        let sets = [...exercise.sets];\r\n        sets.push({ _id: short() })\r\n        SetExercise({ sets: sets });\r\n    }\r\n    const DeleteSet = (_id: string, warmup?: boolean) => {\r\n        AlertBox.Show('Delete Set?', \"Are you sure you want to delete this set?\", [\r\n            {\r\n                text: 'cancel',\r\n                type: 'cancel'\r\n            }, {\r\n                text: 'Yes, Delete',\r\n                handler: () => {\r\n                    let sets = warmup ? exercise.warmupset.filter((x, i) => x._id !== _id) : exercise.sets.filter((x, i) => x._id !== _id);\r\n                    if (warmup) {\r\n                        SetExercise({ warmupset: sets })\r\n                    } else {\r\n                        SetExercise({ sets: sets });\r\n                    }\r\n                }\r\n            }\r\n        ])\r\n    }\r\n    const GetPrevSetForIndex = (index: number) => {\r\n        if (prev && index == 0) {\r\n            if (index >= prev.sets.length) {\r\n                return prev.sets[prev.sets.length - 1]\r\n            } else {\r\n                return prev.sets[index]\r\n            }\r\n        } else if (index > 0) {\r\n            return exercise.sets[index - 1];\r\n        } else {\r\n            return undefined;\r\n        }\r\n    }\r\n    const OnRemoveExecise = () => {\r\n        AlertBox.Show('Remove Exercise?', \"Are you sure you want to delete this exercise?\", [\r\n            {\r\n                text: 'Cancel',\r\n                type: 'cancel'\r\n            }, {\r\n                text: 'Yes, Delete',\r\n                handler: () => {\r\n                    if (props.OnRequestRemove) {\r\n                        props.OnRequestRemove()\r\n                    }\r\n                }\r\n            }\r\n        ])\r\n    }\r\n    const OnAddNote = () => {\r\n        let notes = exercise.note || []\r\n        notes.push({ _id: short(), text: '' })\r\n        SetExercise({ note: notes })\r\n    }\r\n    const DeleteNote = (id: string) => {\r\n        AlertBox.Show('Delete Note?', \"Are you sure you want to delete this note?\", [\r\n            {\r\n                text: 'cancel',\r\n                type: 'cancel'\r\n            },\r\n            {\r\n                text: 'Yes, Delete',\r\n                handler: () => {\r\n                    let notes = exercise.note?.filter((x) => x._id !== id);\r\n                    SetExercise({ note: notes })\r\n                }\r\n            }\r\n        ])\r\n    }\r\n    const OnReplaceExercise = () => {\r\n        if (exercise.sets.length > 0) {\r\n            AlertBox.Show('Are you sure?', 'Replacing the exercise will also replace your sets.',\r\n                [\r\n                    {\r\n                        text: 'Cancel',\r\n                        type: 'Cancel'\r\n                    },\r\n                    {\r\n                        text: 'Yes Replace',\r\n                        handler: () => {\r\n                            ExerciseSelectModal.ref?.show('single').then((res) => {\r\n                                let ex = res[0];\r\n                                SetExercise({\r\n                                    exerciseName: ex.exerciseName,\r\n                                    bodyPart: ex.bodyPart,\r\n                                    category: ex.category,\r\n                                    exerciseId: ex._id,\r\n                                    sets: [{ _id: short() }]\r\n                                })\r\n                            })\r\n                        }\r\n                    }\r\n                ]\r\n            )\r\n        }\r\n\r\n    }\r\n    return (\r\n        <ExerciseItemContext.Provider value={{ exercise, SetExercise }}>\r\n            <div className='exercise-item'>\r\n                <IonItem lines='none'>\r\n                    <IonText color='primary'>{exercise.exerciseName}</IonText>\r\n                    <IonButtons slot='end'>\r\n                        <Popover\r\n                            enables={enables}\r\n                            OnAddNote={OnAddNote}\r\n                            OnRemoveExercise={OnRemoveExecise}\r\n                            OnReplaceExercise={OnReplaceExercise}\r\n                        />\r\n                    </IonButtons>\r\n                </IonItem>\r\n                {exercise.note?.map((note, i) => {\r\n                    return (\r\n                        <ExerciseNote key={note._id} note={note} OnDelete={() => DeleteNote(note._id)} />\r\n                    )\r\n                })}\r\n                <IonItem className='head' lines='none'>\r\n                    <IonCol size='2'>Set</IonCol>\r\n                    {Object.keys(enables).map((key) => {\r\n                        if (key === 'weight') {\r\n                            key = Unit(exercise.weightUnit, key)\r\n                            if (exercise.category === 'assisted-body') {\r\n                                key = '(- ' + key + ' )'\r\n                            } else if (exercise.category === 'weighted-bodyweight') {\r\n                                key = `(+ ${key})`\r\n                            }\r\n                        }\r\n                        if (key === 'distance') {\r\n                            key = Unit(exercise.distanceUnit || 'metric', key)\r\n                        }\r\n                        return (\r\n                            <IonCol key={key}>{key}</IonCol>\r\n                        )\r\n                    })}\r\n                    <IonCol size='2'></IonCol>\r\n                </IonItem>\r\n                {exercise.warmupset.map((set, i) => {\r\n                    return (\r\n                        <ExerciseSet recentSet={GetPrevSetForIndex(i)} onDelete={() => DeleteSet(set._id, set.warmup)} key={set._id} set={set} setNumber={i + 1} enables={enables} />\r\n                    )\r\n                })}\r\n                {exercise.sets.map((set, i) => {\r\n                    return (\r\n                        <ExerciseSet recentSet={GetPrevSetForIndex(i)} onDelete={() => DeleteSet(set._id, set.warmup)} key={set._id} set={set} setNumber={i + 1} enables={enables} />\r\n                    )\r\n                })}\r\n                <div className='centering-box'>\r\n                    <IonButton onClick={AddSet} fill='clear'>\r\n                        <IonText color='primary'>+ Add Set</IonText>\r\n                    </IonButton>\r\n                </div>\r\n            </div>\r\n        </ExerciseItemContext.Provider >\r\n    )\r\n}\r\n\r\ninterface ExerciseNotesProps {\r\n    note: { _id: string, text: string }\r\n    OnDelete: () => void\r\n}\r\nfunction ExerciseNote(props: ExerciseNotesProps) {\r\n    let note_og = props.note\r\n    const NoteReducer = (state: { _id: string, text: string }, action: string) => {\r\n        note_og.text = action;\r\n        return {\r\n            _id: state._id,\r\n            text: action\r\n        }\r\n    }\r\n    const [note, SetNote] = useReducer(NoteReducer, note_og);\r\n    return (\r\n        <IonItemSliding>\r\n            <IonItem lines='none'>\r\n                <IonLabel></IonLabel>\r\n                <IonInput style={{ paddingLeft: '5 !important' }} value={note.text} onIonChange={(e) => { SetNote(e.detail.value || '') }} placeholder='Enter note' />\r\n            </IonItem>\r\n            <IonItemOptions side=\"end\">\r\n                <IonItemOption onClick={props.OnDelete} ><IonIcon icon={trash} /></IonItemOption>\r\n            </IonItemOptions>\r\n        </IonItemSliding>\r\n    )\r\n}\r\n\r\ninterface ExerciseSetProps {\r\n    set: IWorkoutSet,\r\n    enables: any,\r\n    setNumber: number,\r\n    recentSet?: IWorkoutSet,\r\n    onDelete?: () => void\r\n}\r\n\r\nfunction ExerciseSet(props: ExerciseSetProps) {\r\n    let og_set = props.set;\r\n    let recentSet = props.recentSet\r\n    var mounted = false;\r\n    const { exercise } = React.useContext(ExerciseItemContext);\r\n    const [btnClass, SetBtnClass] = useState('');\r\n    const SetReducer = (state: IWorkoutSet, action: Partial<IWorkoutSet>) => {\r\n        Object.assign(og_set, action)\r\n        return {\r\n            ...state,\r\n            ...action\r\n        } as IWorkoutSet\r\n    }\r\n    let [set, SetValue] = useReducer(SetReducer, og_set);\r\n    let done = set.timestamp !== undefined;\r\n    const onInputChange = (key: string, value?: string) => {\r\n        let ob: any = {}\r\n        if (key === 'time') {\r\n            ob[key] = value?.replace(/[:\\*#\\+-.;N\\/()]|^0/g,'').padStart(3,\"0\").formatToTime()\r\n        } else {\r\n            ob[key] = Number(value) || undefined\r\n        }\r\n        if (value === undefined && set.timestamp) {\r\n            ob['timestamp'] = undefined;\r\n        }\r\n        SetValue(ob);\r\n    }\r\n    const SetDone = () => {\r\n        let flag = false\r\n        for (let k in props.enables) {\r\n            //@ts-ignore\r\n            if (set[k] !== undefined) {\r\n                flag = true;\r\n                continue;\r\n            }\r\n            //@ts-ignore\r\n            if (set[k] === undefined && recentSet && recentSet[k]) {\r\n                let ob: any = {}\r\n                //@ts-ignore\r\n                ob[k] = recentSet[k]\r\n                SetValue(ob);\r\n                flag = true;\r\n            }\r\n        }\r\n        if (flag) {\r\n            SetValue({ timestamp: Date.now() })\r\n            if (set.warmup && exercise.warmUpRestTimer) {\r\n                RestTimer.Start(exercise.warmUpRestTimer);\r\n            } else if (exercise.restTime) {\r\n                RestTimer.Start(exercise.restTime)\r\n            }\r\n        } else {\r\n            Shake()\r\n        }\r\n    }\r\n    const Shake = () => {\r\n        SetBtnClass('shake')\r\n        setTimeout(() => {\r\n            if (mounted) {\r\n                SetBtnClass('')\r\n            }\r\n        }, 3000)\r\n    }\r\n    useEffect(() => {\r\n        mounted = true;\r\n        return () => {\r\n            mounted = false\r\n        }\r\n    }, [])\r\n    const prev = usePrev(exercise);\r\n    useEffect(() => {\r\n        if (exercise.weightUnit !== prev?.weightUnit && props.enables.weight) {\r\n            if (set.weight && prev?.weightUnit) {\r\n                SetValue({\r\n                    weight: Invert(prev?.weightUnit, 'weight', set.weight)\r\n                })\r\n            }\r\n        }\r\n        if (exercise.distanceUnit !== prev?.distanceUnit && props.enables.distance) {\r\n            if (set.distance && prev?.distanceUnit) {\r\n                SetValue({\r\n                    distance: Invert(prev.distanceUnit, 'distance', set.distance)\r\n                })\r\n            }\r\n        }\r\n    }, [exercise])\r\n    return (\r\n        <IonItemSliding>\r\n            <IonItem className={`set-item${done ? ' done' : ''}`} lines='none'>\r\n                <IonCol size='2'>{props.set.warmup ? \"W\" : props.setNumber}</IonCol>\r\n                {\r\n                    Object.keys(props.enables).map((key) => {\r\n                        return (\r\n                            <IonCol key={key}>\r\n                                <IonInput placeholder={\r\n                                    //@ts-ignore\r\n                                    recentSet && recentSet[key] || ''\r\n                                } value={\r\n                                    //@ts-ignore \r\n                                    set[key]\r\n                                } onIonChange={(e) => onInputChange(key, e.detail.value || '')} type={key === 'time' ? 'tel' : 'number'} />\r\n                            </IonCol>\r\n                        )\r\n                    })\r\n                }\r\n                <IonCol size='2'>\r\n                    <IonButton className={btnClass} onClick={SetDone} fill='clear'>\r\n                        <IonIcon icon={checkmark} />\r\n                    </IonButton>\r\n                </IonCol>\r\n            </IonItem>\r\n            <IonItemOptions side=\"end\">\r\n                <IonItemOption onClick={props.onDelete} ><IonIcon icon={trash} /></IonItemOption>\r\n            </IonItemOptions>\r\n        </IonItemSliding>\r\n    )\r\n}\r\n\r\ninterface PopoverProps {\r\n    OnAddNote: () => void,\r\n    OnReplaceExercise: () => void,\r\n    OnRemoveExercise: () => void,\r\n    enables: any\r\n}\r\nfunction Popover(props: PopoverProps) {\r\n    const [popoverState, setShowPopover] = useState({ showPopover: false, event: undefined });\r\n    const enables = props.enables\r\n    const { exercise, SetExercise } = React.useContext(ExerciseItemContext);\r\n    const warmupset = exercise.category === 'barbell' || exercise.category === 'dumbbell';\r\n    const close = (action: 'note' | 'superset' | 'replace' | 'remove' | 'timer' | 'warmup' | '') => {\r\n        setShowPopover({ showPopover: false, event: undefined })\r\n        switch (action) {\r\n            case 'note':\r\n                props.OnAddNote()\r\n                break;\r\n            case 'replace':\r\n                props.OnReplaceExercise()\r\n                break;\r\n            case 'remove':\r\n                props.OnRemoveExercise()\r\n                break;\r\n            case 'timer':\r\n                HandlerResetTimer()\r\n                break;\r\n            case 'warmup':\r\n                AddWarmUpSet()\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    const getTimerOptions = (title: string) => {\r\n        let arr = [{\r\n            text: title,\r\n            value: -1\r\n        }]\r\n        for (let i = 0; i <= 120; i++) {\r\n            let val = (i) * 5 * 1000\r\n            arr.push({\r\n                value: val,\r\n                text: i === 0 ? 'Off' : moment.utc(val).format('mm:ss')\r\n            })\r\n        }\r\n        return arr\r\n    }\r\n    const AddWarmUpSet = () => {\r\n        let sets = [...exercise.warmupset];\r\n        sets.push({ _id: short(), warmup: true })\r\n        SetExercise({ warmupset: sets });\r\n    }\r\n    const getSelectedTimerIndex = (type: 'warmup' | 'main') => {\r\n        let options = getTimerOptions('');\r\n        if (type === 'main') {\r\n            return options.findIndex((i) => i.value === exercise.restTime) || 1\r\n        }\r\n        if (type === 'warmup') {\r\n            return options.findIndex((i) => i.value === exercise.warmUpRestTimer) || 1\r\n        }\r\n        return 1\r\n    }\r\n    const getSelectedTimerValue = (type: 'warmup' | 'main') => {\r\n        let options = getTimerOptions('');\r\n        if (type === 'main') {\r\n            let val = options.find((i) => i.value === exercise.restTime)\r\n            return val;\r\n        }\r\n        if (type === 'warmup') {\r\n            let val = options.find((i) => i.value === exercise.warmUpRestTimer)\r\n            return val\r\n        }\r\n    }\r\n    const HandlerResetTimer = () => {\r\n        const columns = [\r\n            {\r\n                name: 'main',\r\n                selectedIndex: getSelectedTimerIndex('main'),\r\n                options: getTimerOptions('Workout Timer')\r\n            }\r\n        ]\r\n        if (warmupset) {\r\n            columns.push({\r\n                name: 'warmup',\r\n                selectedIndex: getSelectedTimerIndex('warmup'),\r\n                options: getTimerOptions('Warmup Timer')\r\n            })\r\n        }\r\n        PickerBox.Show({\r\n            buttons: [{ text: 'cancel', type: 'cancel' }, {\r\n                text: 'Done', handler: (data: any) => {\r\n                    let { main, warmup } = data;\r\n                    if (main.value < 0) {\r\n                        main.value = 0\r\n                    }\r\n                    if (warmup?.value < 0) {\r\n                        warmup.value = 0\r\n                    }\r\n                    SetExercise({\r\n                        warmUpRestTimer: warmup?.value,\r\n                        restTime: main.value\r\n                    })\r\n                }\r\n            }],\r\n            columns: columns\r\n        })\r\n    }\r\n    const HandleWeightUnitPicker = () => {\r\n        PickerBox.Show({\r\n            buttons: [\r\n                {\r\n                    text: 'cancel',\r\n                    type: 'cancel'\r\n                }, {\r\n                    text: 'Done',\r\n                    handler: (data: any) => {\r\n                        SetExercise({ weightUnit: data.unit.value })\r\n                        close('');\r\n                    }\r\n                }\r\n            ],\r\n            columns: [\r\n                {\r\n                    name: 'unit',\r\n                    selectedIndex: exercise.weightUnit === 'metric' ? 0 : 1,\r\n                    options: [\r\n                        {\r\n                            text: 'Kg',\r\n                            value: 'metric'\r\n                        }, {\r\n                            text: 'Lb',\r\n                            value: 'imperial'\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        })\r\n    }\r\n    const HandleDistanceUnitPicker = () => {\r\n        PickerBox.Show({\r\n            buttons: [\r\n                {\r\n                    text: 'cancel',\r\n                    type: 'cancel'\r\n                }, {\r\n                    text: 'Done',\r\n                    handler: (data: any) => {\r\n                        SetExercise({ distanceUnit: data.unit.value })\r\n                        close('');\r\n                    }\r\n                }\r\n            ],\r\n            columns: [\r\n                {\r\n                    name: 'unit',\r\n                    selectedIndex: exercise.distanceUnit === 'metric' ? 0 : 1,\r\n                    options: [\r\n                        {\r\n                            text: 'Km',\r\n                            value: 'metric'\r\n                        }, {\r\n                            text: 'Mile',\r\n                            value: 'imperial'\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <IonPopover\r\n                event={popoverState.event}\r\n                isOpen={popoverState.showPopover}\r\n                onDidDismiss={() => setShowPopover({ showPopover: false, event: undefined })}\r\n            >\r\n                <IonItem onClick={() => { close('note'); }} lines='full' button>Add Note</IonItem>\r\n                {warmupset ? <IonItem lines='none' onClick={() => { close('warmup'); }} button>Add Warm-up Set</IonItem> : null}\r\n                <IonItem lines='none' onClick={() => { close('replace'); }} button>Replace Exercise</IonItem>\r\n                <IonItem onClick={() => { close('remove'); }} button lines='full'>Remove exercise</IonItem>\r\n                <IonItem lines='full' onClick={() => { close('timer'); }} button>\r\n                    Auto Rest Timer\r\n                        <IonText color='medium' slot='end'>{getSelectedTimerValue('main')?.text || 'Off'}</IonText>\r\n                </IonItem>\r\n                {Object.keys(enables).map((key) => {\r\n                    if (key === 'weight') {\r\n                        return (\r\n                            <IonItem key={key} onClick={HandleWeightUnitPicker} button  >\r\n                                Weight Unit\r\n                                <IonText slot='end'>{Unit(exercise.weightUnit, key)}</IonText>\r\n                            </IonItem>\r\n                        )\r\n                    }\r\n                    if (key === 'distance') {\r\n                        return (\r\n                            <IonItem key={key} onClick={HandleDistanceUnitPicker} button  >\r\n                                Distance Unit\r\n                                <IonText slot='end'>{Unit(exercise.distanceUnit, key)}</IonText>\r\n                            </IonItem>\r\n                        )\r\n                    }\r\n                })}\r\n            </IonPopover>\r\n            <IonButton onClick={\r\n                (e: any) => {\r\n                    e.persist();\r\n                    setShowPopover({ showPopover: true, event: e })\r\n                }}>\r\n                <IonIcon color='primary' icon={ellipsisVertical} />\r\n            </IonButton>\r\n        </>\r\n    )\r\n}\r\nexport default ExerciseItem","import { useEffect, useRef } from \"react\";\r\n\r\nexport function usePrev<T>(val: T) {\r\n    const ref = useRef<T>();\r\n    useEffect(() => {\r\n        ref.current = val\r\n    })\r\n    return ref.current;\r\n}","\r\nimport React, { Component } from 'react';\r\n\r\nimport './ProgressCircle.scss'\r\n\r\nexport default function ProgressCircle(props: ProgressCircleProps) {\r\n    const defaultProps = {\r\n        color: 'var(--ion-color-primary)',\r\n        radius: 20,\r\n        percent: 0,\r\n        borderWidth: 2,\r\n        bgcolor: 'var(--ion-color-light)',\r\n        innerColor: 'var(--background)',\r\n        disabled: false,\r\n        textStyle: '',\r\n    };\r\n    const percent = props.percent || defaultProps.percent;\r\n    let leftTransformerDegree = '0deg';\r\n    let rightTransformerDegree = '0deg';\r\n    if (percent >= 50) {\r\n        rightTransformerDegree = '180deg';\r\n        leftTransformerDegree = (percent - 50) * 3.6 + 'deg';\r\n    } else {\r\n        rightTransformerDegree = percent * 3.6 + 'deg';\r\n        leftTransformerDegree = '0deg';\r\n    }\r\n    const borderWidth = (props.borderWidth && props.borderWidth < 2) || !props.borderWidth ? 2 : props.borderWidth;\r\n    return (\r\n        <div\r\n            className=\"progress-circle\"\r\n            style={{\r\n                width: ((props.radius || defaultProps.radius) || defaultProps.radius) * 2,\r\n                height: (props.radius || defaultProps.radius) * 2,\r\n                borderRadius: (props.radius || defaultProps.radius),\r\n                backgroundColor: props.bgcolor || defaultProps.bgcolor,\r\n            }}\r\n        >\r\n            <div\r\n                className=\"left-wrap\"\r\n                style={{\r\n                    width: (props.radius || defaultProps.radius),\r\n                    height: (props.radius || defaultProps.radius) * 2,\r\n                    left: 0,\r\n                }}\r\n            >\r\n                <div\r\n                    className=\"loader\"\r\n                    id=\"id1\"\r\n                    style={{\r\n                        left: (props.radius || defaultProps.radius),\r\n                        width: (props.radius || defaultProps.radius),\r\n                        height: (props.radius || defaultProps.radius) * 2,\r\n                        borderTopLeftRadius: 0,\r\n                        borderBottomLeftRadius: 0,\r\n                        backgroundColor: props.color || defaultProps.color,\r\n                        transform: 'rotate(' + leftTransformerDegree + ')',\r\n                    }}\r\n                />\r\n            </div>\r\n            <div\r\n                className=\"right-wrap\"\r\n                style={{\r\n                    width: (props.radius || defaultProps.radius),\r\n                    height: (props.radius || defaultProps.radius) * 2,\r\n                    left: (props.radius || defaultProps.radius),\r\n                }}\r\n            >\r\n                <div\r\n                    className=\"loader2\"\r\n                    id=\"id2\"\r\n                    style={{\r\n                        left: -(props.radius || defaultProps.radius),\r\n                        width: (props.radius || defaultProps.radius),\r\n                        height: (props.radius || defaultProps.radius) * 2,\r\n                        borderTopRightRadius: 0,\r\n                        borderBottomRightRadius: 0,\r\n                        backgroundColor: props.color || defaultProps.color,\r\n                        transform: 'rotate(' + rightTransformerDegree + ')',\r\n                    }}\r\n                />\r\n            </div>\r\n            <div\r\n                className=\"inner-circle\"\r\n                style={{\r\n                    left: borderWidth,\r\n                    top: borderWidth,\r\n                    width: ((props.radius || defaultProps.radius) - borderWidth) * 2,\r\n                    height: ((props.radius || defaultProps.radius) - borderWidth) * 2,\r\n                    borderRadius: (props.radius || defaultProps.radius) - borderWidth,\r\n                    backgroundColor: props.innerColor || defaultProps.innerColor,\r\n                }}\r\n            >\r\n                {props.children ? props.children : <span className={'text ' + props.textStyle}>{props.percent}%</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\ntype ProgressCircleProps = {\r\n    color?: string,\r\n    bgcolor?: string,\r\n    innerColor?: string,\r\n    radius?: number,\r\n    percent?: number,\r\n    borderWidth?: number,\r\n    textStyle?: string,\r\n    children?: React.ReactNode\r\n};\r\ntype ProgressCircleState = {\r\n    percent: number,\r\n    borderWidth: number,\r\n    leftTransformerDegree: string,\r\n    rightTransformerDegree: string,\r\n}","import { IonButton, IonButtons, IonContent, IonHeader, IonIcon, IonModal, IonPage, IonText, IonTitle, IonToolbar } from '@ionic/react'\r\nimport React, { useEffect, useReducer, useState } from 'react'\r\nimport Header from '../components/Header'\r\nimport ProgressCircle from '../components/ProgressCircle'\r\nimport Timer from '../utils/RestTimer'\r\nimport './RestTimer.scss'\r\nimport moment from 'moment'\r\nimport PickerBox from '../components/Picker'\r\nimport { arrowBack } from 'ionicons/icons'\r\ninterface RestTimerProps {\r\n\r\n}\r\nexport function useRestTimer() {\r\n    const [timeleft, SetTimeLeft] = useState(0);\r\n    useEffect(() => {\r\n        const OnChange = () => {\r\n            SetTimeLeft(Timer.timeleft)\r\n        }\r\n        Timer.events.on('change', OnChange);\r\n        return () => {\r\n            Timer.events.off('change', OnChange);\r\n        }\r\n    }, [])\r\n    return { timer: Timer, timeleft }\r\n}\r\nconst RestTimer: React.FC<RestTimerProps> = (props) => {\r\n    const { timer, timeleft } = useRestTimer()\r\n    const Add = () => {\r\n        timer.Add(30000);\r\n    }\r\n    const Subtract = () => {\r\n        timer.Subtract(30000);\r\n    }\r\n    const getCustomOptions = () => {\r\n        let arr = []\r\n        for (let i = 1; i <= 120; i++) {\r\n            let val = (i) * 5 * 1000\r\n            arr.push({\r\n                value: val,\r\n                text: moment.utc(val).format('mm:ss')\r\n            })\r\n        }\r\n        return arr\r\n    }\r\n    const ShowCustomTimerPicker = () => {\r\n        PickerBox.Show({\r\n            buttons: [\r\n                {\r\n                    type: 'cancel',\r\n                    text: 'Cancel'\r\n                }, {\r\n                    text: \"Start\",\r\n                    handler: (data: any) => {\r\n                        timer.StartCustom(data.time.value)\r\n                    }\r\n                }\r\n            ],\r\n            columns: [\r\n                {\r\n                    name: 'time',\r\n                    selectedIndex: 0,\r\n                    options: getCustomOptions()\r\n                }\r\n            ]\r\n        })\r\n    }\r\n    return (\r\n        <>\r\n            <IonHeader className='ion-no-border'>\r\n                <IonToolbar>\r\n                    <IonButtons slot='start'>\r\n                        <IonButton onClick={() => {\r\n                            RestTimerModal.Hide()\r\n                        }}>\r\n                            <IonIcon icon={arrowBack} />\r\n                        </IonButton>\r\n                    </IonButtons>\r\n                    <IonTitle>Rest Timer</IonTitle>\r\n                </IonToolbar>\r\n            </IonHeader>\r\n            <IonContent>\r\n                <div className='flex-container'>\r\n                    <div>\r\n\r\n                    </div>\r\n                    <div className='flex-1 centering-box'>\r\n                        <ProgressCircle radius={window.innerWidth / 2 - 50} borderWidth={5} percent={timer.percentRemaining() || 100} >\r\n                            <div className='centering-box'>\r\n                                {timer.running ? <>\r\n                                    <IonText>{moment.utc(timeleft).format('mm:ss')}</IonText>\r\n                                    <IonText className='light-text'>{moment.utc(timer.difference()).format('mm:ss')}</IonText>\r\n                                </> :\r\n                                    <>\r\n                                        {Timer.Timers.slice(0, 4).map((t) => {\r\n                                            return (\r\n                                                <IonButton key={t} onClick={() => timer.Start(t)} fill='outline'>\r\n                                                    {moment.utc(t).format('mm:ss')}\r\n                                                </IonButton>\r\n                                            )\r\n                                        })}\r\n                                    </>\r\n                                }\r\n                            </div>\r\n                        </ProgressCircle>\r\n                    </div>\r\n                    <div className='centering-box'>\r\n                        {timer.running ?\r\n                            <>\r\n                                <IonButtons>\r\n                                    <IonButton onClick={Add} color='primary'>\r\n                                        + 30 sec\r\n                                    </IonButton>\r\n                                    <IonButton onClick={Subtract} color='primary'>\r\n                                        - 30 sec\r\n                                    </IonButton>\r\n                                    <IonButton onClick={timer.End} style={{ padding: '0 15px' }} expand='full' color='primary' fill='solid'>\r\n                                        Skip\r\n                                    </IonButton>\r\n                                </IonButtons>\r\n                            </>\r\n                            : <>\r\n                                <IonButton onClick={ShowCustomTimerPicker}>Select Custom Time</IonButton>\r\n                            </>}\r\n\r\n                    </div>\r\n                </div>\r\n            </IonContent>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default class RestTimerModal extends React.Component {\r\n    static ref: RestTimerModal | null\r\n    static Show() {\r\n        RestTimerModal.ref?.show()\r\n    }\r\n    static Hide() {\r\n        RestTimerModal.ref?.hide()\r\n    }\r\n    state = {\r\n        show: false\r\n    }\r\n    show() {\r\n        this.setState({ show: true })\r\n    }\r\n    hide() {\r\n        this.setState({ show: false })\r\n    }\r\n    render() {\r\n        return (\r\n            <IonModal isOpen={this.state.show}>\r\n                <RestTimer />\r\n            </IonModal>\r\n        )\r\n    }\r\n};","import { IonButton, IonIcon } from '@ionic/react'\r\nimport { timerOutline } from 'ionicons/icons'\r\nimport React from 'react'\r\nimport RestTimerModal, { useRestTimer } from '../pages/RestTimer'\r\nimport './TimerButton.scss'\r\ninterface TimerButtonProps {\r\n\r\n}\r\n\r\nconst TimerButton: React.FC<TimerButtonProps> = (props) => {\r\n    const { timer, timeleft } = useRestTimer()\r\n    return (\r\n        <IonButton onClick={() => {\r\n            RestTimerModal.Show()\r\n        }} className={`timer-button${timer.running ? ' active' : ''}`}>\r\n            <IonIcon style={{ zIndex: 1 }} icon={timerOutline} />\r\n            <div style={{ width: timer.percentRemaining() }} className='fill' />\r\n        </IonButton>\r\n    )\r\n}\r\n\r\nexport default TimerButton;","import React from 'react'\r\n\r\ninterface Props extends React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement>{\r\n    color?:string\r\n}\r\nexport default function ExerciseSvg(props: Props) {\r\n    let c = getComputedStyle(document.body).getPropertyValue(`--ion-color-${props.color || 'primary'}`);\r\n    return (\r\n        <div {...props}>\r\n            <svg id=\"f6ab8ba1-7e68-4bec-bb42-3789208a6270\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 1080 589.33892\">\r\n                <title>working_out</title>\r\n                <path d=\"M1140,707.81053c0-32.1668-16.3221-58.24316-36.45652-58.24316-12.655,0-23.8005,10.30531-30.33731,25.94558a18.28713,18.28713,0,0,0-6.967-1.398c-6.09437,0-11.72912,3.12278-16.32427,8.40786-5.89246-19.501-18.38734-32.95544-32.84964-32.95544-13.52217,0-25.316,11.77071-31.60967,29.23968a19.91524,19.91524,0,0,0-12.47729-4.6921C957.52634,674.115,945,694.127,945,718.81316a65.14473,65.14473,0,0,0,4.40793,24.06827h183.23972C1137.261,733.12519,1140,720.98025,1140,707.81053Z\" transform=\"translate(-60 -155.33054)\" fill={c} /><path d=\"M1009.299,371.48173c-28.71033-62.10748-84.89587-115.09021-152.77118-123.72558-17.94635-2.28321-36.68378-1.3675-53.33478,5.70556-21.857,9.28455-37.96508,28.02509-54.24615,45.31275A654.10822,654.10822,0,0,1,633.987,395.62193c-20.687,13.696-42.876,26.47455-67.43726,29.97882-49.2453,7.02606-97.95556-26.55633-120.41418-70.94189-14.02936-27.7265-20.51245-60.27961-31.85358-89.119-13.0614-.025-28.62286-.0202-45.36487.05694-46.27673.21332-83.94415.897-83.94415.897s44.77362-59.30725,83.77625-37.33435c12.46411,7.02191,25.51886,13.28808,37.51635,18.56665-6.81579-13.11078-15.41308-24.90729-27.24035-34.39191-23.32129-18.7019-54.90741-23.94775-84.7688-22.555-31.35675,1.46252-63.00171,9.8576-88.48157,28.19232-45.39062,32.662-64.135,90.15283-80.17773,143.72284l38.77752,19.43982c16.63312-14.38,40.95581-28.6048,63.37458-15.97473,39.00256,21.973,83.80658,36.562,83.80658,36.562s-37.36194-.33789-83.63868-.12464c-7.77227.03583-15.29242.08515-22.44134.142L636,618.56737c142,2,249.06818-5.67914,384,0,7.03717.29614,22.86554-36.592,22.91827-46.29987C1043.29016,503.84611,1038.00934,433.58922,1009.299,371.48173Zm-137.88184,18.615c-46.27673.21332-83.94415.897-83.94415.897s44.77362-59.30725,83.77625-37.33435,83.80658,36.562,83.80658,36.562S917.69385,389.88353,871.41711,390.09678Z\" transform=\"translate(-60 -155.33054)\" fill=\"#f2f2f2\" /><path d=\"M992,593.06737c0-23.38843-14.48063-42.34852-32.34348-42.34852-11.22724,0-21.11532,7.493-26.91464,18.865a19.36184,19.36184,0,0,0-6.181-1.01647,21.05874,21.05874,0,0,0-14.48256,6.11334c-5.22767-14.17914-16.31287-23.96186-29.14353-23.96186-11.99658,0-22.45981,8.55848-28.04345,21.26014a20.10673,20.10673,0,0,0-11.06959-3.41162c-13.70863,0-24.82174,14.55072-24.82174,32.5a39.92792,39.92792,0,0,0,3.91062,17.5H985.47715A51.20123,51.20123,0,0,0,992,593.06737Z\" transform=\"translate(-60 -155.33054)\" fill={c} opacity=\"0.3\" /><polygon points=\"1080 589.237 82 589.237 82 587.237 1079 587.237 1080 589.237\" fill=\"#2f2e41\" /><polygon points=\"998 465.237 0 465.237 0 463.237 997 463.237 998 465.237\" fill=\"#2f2e41\" /><path d=\"M483.62962,436.46721s6.28547-46.09349,16.76127-33.52254,0,31.42738,0,31.42738l-8.38064,10.4758-8.38063-6.28548Z\" transform=\"translate(-60 -155.33054)\" fill=\"#ffb8b8\" /><path d=\"M458.48771,451.13332s20.95159-23.04674,25.14191-18.85643,16.76127,6.28548,14.66611,14.66611-46.0935,35.6177-46.0935,35.6177Z\" transform=\"translate(-60 -155.33054)\" fill={c} /><path d=\"M458.48771,451.13332s20.95159-23.04674,25.14191-18.85643,16.76127,6.28548,14.66611,14.66611-46.0935,35.6177-46.0935,35.6177Z\" transform=\"translate(-60 -155.33054)\" opacity=\"0.1\" /><path d=\"M339.06366,449.03816v16.76127s-2.09516,37.71286,10.47579,35.6177,6.28548-33.52254,6.28548-33.52254l-2.09516-18.85643Z\" transform=\"translate(-60 -155.33054)\" fill=\"#ffb8b8\" /><path d=\"M345.34914,570.55737s-18.85643,29.33223-25.14191,31.42739-39.808,20.95158-43.99833,39.808l-29.33223,37.71286,14.66611,18.85643s67.04509-71.2354,85.90151-77.52088,37.71286-37.71285,37.71286-37.71285Z\" transform=\"translate(-60 -155.33054)\" fill=\"#ffb8b8\" /><path d=\"M494.10541,522.36872s39.808,6.28548,33.52254,31.42738S460.58287,631.317,460.58287,631.317l-2.09516,12.571L435.441,648.07825l-10.47579-10.47579,2.09516-6.28548s25.1419-23.04675,27.23706-31.42738,25.14191-41.90318,35.6177-43.99834L475.249,547.51063Z\" transform=\"translate(-60 -155.33054)\" fill=\"#ffb8b8\" /><path d=\"M253.16215,679.50563s8.38063-12.571-4.19032-10.47579-20.95159,4.19031-20.95159,12.57095,10.4758,67.04508,23.04675,62.85476,2.09516-23.04674,2.09516-23.04674,6.28547-16.76127,10.47579-18.85643,4.19032-12.57095,0-12.57095S251.067,683.696,253.16215,679.50563Z\" transform=\"translate(-60 -155.33054)\" fill=\"#2f2e41\" /><path d=\"M431.25065,633.41214s0-10.4758-8.38064,0-12.57095,18.85643-4.19032,25.1419,37.71286,20.95159,37.71286,20.95159,31.42738,6.28548,27.23707-8.38063c0,0-20.95159-10.4758-20.95159-18.85643s0-23.04675-6.28548-18.85643S431.25065,639.69761,431.25065,633.41214Z\" transform=\"translate(-60 -155.33054)\" fill=\"#2f2e41\" /><path d=\"M391.44263,476.27523s-29.33222,4.19032-27.23707,46.09349c0,0-37.71285,37.71286-27.23706,50.28381s33.52254,35.6177,41.90318,29.33223,33.52254-54.47413,33.52254-54.47413,58.66444,20.95158,69.14024,10.47579,20.95159-35.6177,20.95159-35.6177l-52.379-27.23706Z\" transform=\"translate(-60 -155.33054)\" fill=\"#2f2e41\" /><circle cx=\"413.15382\" cy=\"176.37873\" r=\"25.14191\" fill=\"#ffb8b8\" /><path d=\"M454.29739,333.80443s-14.66611,23.04675-18.85643,25.14191,29.33223,23.04674,29.33223,23.04674,0-27.23706,10.47579-33.52254Z\" transform=\"translate(-60 -155.33054)\" fill=\"#ffb8b8\" /><path d=\"M452.20223,356.85118s-33.52254-10.4758-39.808,6.28547-20.95159,48.18866-18.85643,69.14024,6.28547,16.76127,0,23.04675-10.4758,2.09516-8.38064,10.47579,4.19032,8.38064,2.09516,12.571S412.39422,497.22682,435.441,499.322l23.04675,2.09516s0-37.71285,4.19032-46.09349,12.571-25.14191,12.571-31.42738V407.26541a63.60673,63.60673,0,0,0-8.38063-31.55779h0S454.29739,356.85118,452.20223,356.85118Z\" transform=\"translate(-60 -155.33054)\" fill={c} /><path d=\"M427.06033,365.23181s-77.52088,6.28548-85.90151,27.23707-12.57095,62.85476-4.19032,62.85476,18.85643,4.19032,20.95159,0,10.47579-46.09349,12.57095-46.09349,64.94992-6.28548,64.94992-6.28548S462.678,369.42213,427.06033,365.23181Z\" transform=\"translate(-60 -155.33054)\" fill={c} /><path d=\"M474.164,325.47626s6.67194-11.59461,15.01174-1.52364S511.08269,315.51641,509,311.56737s-9.4377.17756-22.04212-3.94283-36.88462-12.51447-40.951,14.86727,5.61827,24.51117,5.61827,24.51117,4.43914-24.26318,8.45125-17.29375l4.01211,6.96944,3.4802.85654Z\" transform=\"translate(-60 -155.33054)\" fill=\"#2f2e41\" /><circle cx=\"651.30874\" cy=\"75.31366\" r=\"30.67436\" fill=\"#2f2e41\" /><path d=\"M701.50364,253.34864s1.58734,28.57208-1.58733,28.57208S719.758,295.41309,719.758,295.41309l14.286-7.93668v-9.524s-19.04806-2.381-11.11137-23.0164S701.50364,253.34864,701.50364,253.34864Z\" transform=\"translate(-60 -155.33054)\" fill=\"#9f616a\" /><polygon points=\"574.835 411.517 572.454 435.327 580.391 437.708 586.74 431.359 589.121 411.517 574.835 411.517\" fill=\"#9f616a\" /><polygon points=\"689.124 425.01 693.092 440.089 704.203 447.232 716.109 440.883 702.616 418.66 689.124 425.01\" fill=\"#9f616a\" /><circle cx=\"649.0435\" cy=\"87.30358\" r=\"23.0164\" fill=\"#9f616a\" /><path d=\"M695.15429,328.74719l-5.55568-2.381s-9.524-5.55568-10.31769-16.667,7.93668-25.3974,7.93668-25.3974l12.69871-3.96834,14.92,12.14338.15973,19.60337Z\" transform=\"translate(-60 -155.33054)\" fill=\"#9f616a\" /><path d=\"M689.59861,285.88907l-3.17467-1.58734s-15.87338-.79367-17.46072,18.25438-7.143,50.79481-7.143,50.79481-12.6987,22.22273-11.905,46.0328l-6.34935,20.63539s-8.73036,30.15941,1.58733,30.15941,9.524-32.54042,9.524-32.54042,19.048-46.03279,20.63539-53.96948,15.07971-45.23913,11.11137-55.55682S689.59861,285.88907,689.59861,285.88907Z\" transform=\"translate(-60 -155.33054)\" fill=\"#9f616a\" /><path d=\"M701.50364,335.89021v8.73035s5.55569,6.34936,3.17468,10.3177-4.762,11.905-4.762,11.905L711.02767,384.304l37.30244,3.17467,7.418-49.69947Z\" transform=\"translate(-60 -155.33054)\" fill=\"#9f616a\" /><path d=\"M736.42507,280.33339l6.34935-3.17468s13.49238-9.524,24.60374-11.11136l34.12776-23.0164,22.22273-53.17582s-.79367-28.57207,5.55568-25.3974S834.84,192.23614,834.84,192.23614s-11.905,49.20747-22.22272,62.69984-47.62014,35.7151-47.62014,35.7151-10.31769,11.905-9.524,17.46072S736.42507,280.33339,736.42507,280.33339Z\" transform=\"translate(-60 -155.33054)\" fill=\"#9f616a\" /><path d=\"M707.05933,366.84329s-8.73036-5.55568-14.286,3.96835-15.87338,11.905-22.22273,40.47711S649.1215,485.1,645.15315,488.27463s-20.63539,36.50877-11.11136,83.33523h15.87338L663.40754,504.148s43.65179-53.96949,46.82646-76.19221L724.52,511.291s.79367,31.74675,12.6987,46.82646l12.6987,30.15942,16.667-7.93669-19.048-76.19221s9.524-76.98588,3.17467-98.41494l-.91239-28.09391S723.72637,378.74833,707.05933,366.84329Z\" transform=\"translate(-60 -155.33054)\" fill=\"#2f2e41\" /><path d=\"M640.39114,586.68957h-9.524c-1.58733,0-14.286,10.31769-8.73035,15.87338s14.286,15.87337,14.286,15.87337,30.95308,3.93669,31.74675-1.619-13.49237-17.42906-13.49237-17.42906l-3.96834-12.6987S642.77215,577.95921,640.39114,586.68957Z\" transform=\"translate(-60 -155.33054)\" fill=\"#2f2e41\" /><path d=\"M766.58449,594.62626s-13.49237-.79367-15.87338-1.58734-7.143,20.63539,0,22.22273S787.21988,619.23,787.21988,619.23s23.0164-.79367,21.42906-7.143-32.54042-19.048-32.54042-19.048S772.14017,585.10223,766.58449,594.62626Z\" transform=\"translate(-60 -155.33054)\" fill=\"#2f2e41\" /><path d=\"M703.88465,279.53972l-3.96834-2.381-4.762,3.96834s14.286,9.524,11.11137,18.25439-16.66705,26.98474-16.66705,26.98474,11.905,13.49237,11.905,18.25438c0,0,30.95309-11.11136,53.96949,0,0,0,0-15.87337,3.17467-19.048s4.762-14.286-3.17467-23.81006a174.0074,174.0074,0,0,1-15.07971-22.22273l-7.93669-4.762-4.0879,1.29666s8.05624,9.021.11956,9.81471S707.853,284.30173,703.88465,279.53972Z\" transform=\"translate(-60 -155.33054)\" fill={c} /><path d=\"M733.72756,178.34694a16.76744,16.76744,0,0,1-10.4,5.44762c-6.93334.99048-1.48571,11.88573-1.48571,11.88573s-1.981-3.96191,1.981-7.42858S733.72756,182.80408,733.72756,178.34694Z\" transform=\"translate(-60 -155.33054)\" fill=\"#2f2e41\" /><circle cx=\"660.36019\" cy=\"42.62787\" r=\"8.54859\" fill=\"#2f2e41\" /><path d=\"M730.34038,206.376c-6.60419-3.44952-17.9654-6.16264-24.00173-5.9687l1.527-5.83788c5.34392,3.63063,16.6454,6.39441,24.00173,5.9687Z\" transform=\"translate(-60 -155.33054)\" fill={c} /><path d=\"M716.69635,206.88982s-10.40688,13.38026-31.22063,16.35366-4.46009,35.68071-4.46009,35.68071-5.94678-11.89357,5.94679-22.30044S716.69635,220.27008,716.69635,206.88982Z\" transform=\"translate(-60 -155.33054)\" fill=\"#2f2e41\" /><path d=\"M717.49,206.09615s5.94678,20.81375,14.867,23.78714,4.46009,34.194-10.40687,37.16741c0,0,12.63692-17.097,5.20344-30.47727S715.26,212.78628,717.49,206.09615Z\" transform=\"translate(-60 -155.33054)\" fill=\"#2f2e41\" /><rect x=\"742.69642\" y=\"15.87338\" width=\"54.76315\" height=\"6.34935\" fill=\"#2f2e41\" /><ellipse cx=\"797.45958\" cy=\"19.04805\" rx=\"4.76201\" ry=\"19.04805\" fill=\"#2f2e41\" /><ellipse cx=\"742.69642\" cy=\"19.04805\" rx=\"4.76201\" ry=\"19.04805\" fill=\"#2f2e41\" /><rect x=\"770.47483\" y=\"442.88249\" width=\"54.76315\" height=\"6.34935\" fill=\"#2f2e41\" /><ellipse cx=\"825.23799\" cy=\"446.05716\" rx=\"4.76201\" ry=\"19.04805\" fill=\"#2f2e41\" /><ellipse cx=\"770.47483\" cy=\"446.05716\" rx=\"4.76201\" ry=\"19.04805\" fill=\"#2f2e41\" /><path d=\"M254,593.06737c0-23.38843-14.48063-42.34852-32.34348-42.34852-11.22724,0-21.11532,7.493-26.91464,18.865a19.36184,19.36184,0,0,0-6.181-1.01647,21.05874,21.05874,0,0,0-14.48256,6.11334c-5.22767-14.17914-16.31287-23.96186-29.14353-23.96186-11.99658,0-22.45981,8.55848-28.04345,21.26014a20.10673,20.10673,0,0,0-11.06959-3.41162c-13.70863,0-24.82174,14.55072-24.82174,32.5a39.92792,39.92792,0,0,0,3.91062,17.5H247.47715A51.20123,51.20123,0,0,0,254,593.06737Z\" transform=\"translate(-60 -155.33054)\" fill={c} opacity=\"0.3\" /></svg>\r\n        </div>\r\n    )\r\n}","import { IonToast } from '@ionic/react'\r\nimport React from 'react'\r\n\r\ninterface ToastProps {\r\n\r\n}\r\n\r\nexport default class Toast extends React.Component<ToastProps>{\r\n    static ref: Toast | null = null;\r\n    state = {\r\n        show: false,\r\n        message: '',\r\n        buttons: [],\r\n        duration: 1000\r\n    }\r\n    static Show(message?: string, duration?: number, buttons?: any[]) {\r\n        Toast.ref?.show(message, duration, buttons);\r\n    }\r\n    show(message?: string, duration?: number, buttons?: any[]) {\r\n        this.setState({\r\n            show: true,\r\n            message, duration, buttons\r\n        })\r\n    }\r\n    hide() {\r\n        this.setState({\r\n            message: undefined,\r\n            duration: undefined,\r\n            show: false\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <IonToast\r\n                isOpen={this.state.show}\r\n                buttons={this.state.buttons}\r\n                message={this.state.message}\r\n                duration={this.state.duration}\r\n                onDidDismiss={this.hide.bind(this)}\r\n            />\r\n        )\r\n    }\r\n}","import { IonBackButton, IonButton, IonButtons, IonContent, IonHeader, IonIcon, IonItem, IonPage, IonText, IonTextarea, IonTitle, IonToolbar, useIonRouter } from '@ionic/react'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { chevronDown, timerOutline, createOutline } from 'ionicons/icons'\r\nimport { getDaySlotFromTime } from '../../utils';\r\nimport ExerciseSelectModal from '../../modals/ExercisesSelectModal';\r\nimport useWorkout from '../../hooks/useWorkout';\r\nimport { Workout, WorkoutExercise } from '../../data/models/Workout';\r\nimport WorkoutManager from '../../utils/WorkoutManager';\r\nimport AlertBox from '../../modals/Alert';\r\nimport ExerciseItem from '../../components/Exercise/ExerciseItem';\r\nimport PopoverButton, { PopoverItem } from '../../components/PopoverButton';\r\nimport TimerButton from '../../components/TimerButton';\r\nimport ExerciseSvg from '../../svg/Exercise';\r\nimport Toast from '../../modals/Toast';\r\nimport Loader from '../../modals/Loader';\r\nimport ExerciseTimerText from '../../components/Exercise/ExerciseTimerText';\r\ninterface WorkoutPageProps {\r\n\r\n}\r\nconst WorkoutPage: React.FC<WorkoutPageProps> = (props) => {\r\n    const { workout, SetWorkout, exercises, SetExercises } = useWorkout();\r\n    const router = useIonRouter()\r\n    const Empty = () => {\r\n        return (\r\n            <div className='centering-box'>\r\n                <ExerciseSvg style={{ width: '80%', height: 200 }} />\r\n            </div>\r\n        )\r\n    }\r\n    const PickExercises = () => {\r\n        ExerciseSelectModal.ref?.show().then((list) => {\r\n            if (!workout || !exercises) {\r\n                return;\r\n            }\r\n            SetExercises({\r\n                data: list.map<WorkoutExercise>((ex) => {\r\n                    return new WorkoutExercise({\r\n                        exerciseName: ex.exerciseName,\r\n                        bodyPart: ex.bodyPart,\r\n                        category: ex.category,\r\n                        workoutId: workout?._id,\r\n                        exerciseId: ex._id,\r\n                        sets: [],\r\n                        warmupset: [],\r\n                        timestamp: Date.now()\r\n                    })\r\n                }), action: 'add'\r\n            })\r\n        })\r\n    }\r\n    const OnRemoveExecise = (id: string) => {\r\n        let r = exercises?.filter((x) => x._id === id);\r\n        SetExercises({ data: r, action: 'delete' })\r\n    }\r\n    const CancelWorkout = () => {\r\n        AlertBox.Show('Discard Workout?', 'Are you sure you want to discard this workout? This cannot be undone.',\r\n            [\r\n                {\r\n                    text: 'CANCEL',\r\n                    type: 'cancel'\r\n                }, {\r\n                    text: 'DISCARD',\r\n                    handler: () => {\r\n                        WorkoutManager.cancel()\r\n                        if (router.canGoBack()) {\r\n                            router.goBack();\r\n                        } else {\r\n                            router.push('/main', 'root')\r\n                        }\r\n                    }\r\n                }\r\n            ]\r\n        )\r\n    }\r\n    const Finish = () => {\r\n        let savable = WorkoutManager.canSave()\r\n        if (savable === true) {\r\n            AlertBox.Show('Finish Workout?', 'All empty sets will be discarded when you finish this workout.Do you want to proceed?',\r\n                [\r\n                    {\r\n                        type: 'cancel',\r\n                        text: 'No'\r\n                    },\r\n                    {\r\n                        text: 'Yes, Proceed',\r\n                        handler: () => {\r\n                            Loader.show();\r\n                            WorkoutManager.finish().then(() => {\r\n                                router.goBack();\r\n                            }).catch((err) => {\r\n                                Toast.Show(err.message, 1000)\r\n                            }).finally(() => {\r\n                                Loader.hide();\r\n                            })\r\n                        }\r\n                    }\r\n                ])\r\n        } else {\r\n            Toast.Show(savable, 1000);\r\n        }\r\n    }\r\n    const getName = () => {\r\n        return workout?.name || getDaySlotFromTime() + \" Workout\"\r\n    }\r\n    useEffect(() => {\r\n        if (!workout) {\r\n            router.goBack();\r\n        }\r\n        SetWorkout({ name: getName() })\r\n        Workout.getAll().then(console.log)\r\n    }, [])\r\n    if (!workout) {\r\n        return (\r\n            null\r\n        )\r\n    }\r\n\r\n    return (\r\n        <IonPage>\r\n            <IonHeader mode='md' className='ion-no-border'>\r\n                <IonToolbar>\r\n                    <IonButtons slot='start'>\r\n                        <IonBackButton icon={chevronDown} />\r\n                    </IonButtons>\r\n                    <IonButtons>\r\n                        <TimerButton />\r\n                    </IonButtons>\r\n\r\n                    <IonButtons slot='end'>\r\n                        <IonButton onClick={Finish} >\r\n                            <IonText color='primary'>Finish</IonText>\r\n                        </IonButton>\r\n                    </IonButtons>\r\n                </IonToolbar>\r\n                <IonItem lines='none'>\r\n                    <div>\r\n                        <IonText>{getName()}</IonText>\r\n                        <br />\r\n                        <ExerciseTimerText style={{ fontSize: 12 }} />\r\n                    </div>\r\n                    <IonButtons style={{ marginLeft: 10 }}>\r\n                        <PopoverButton icon={createOutline}>\r\n                            <PopoverItem onClick={() => {\r\n                                AlertBox.Show('Change Exercise Name', \"Enter new name for the workout below\", [\r\n                                    {\r\n                                        text: 'Cancel',\r\n                                        type: 'cancel'\r\n                                    }, {\r\n                                        text: 'Update',\r\n                                        handler: (data: any) => {\r\n                                            if (data.name && data.name.length > 0) {\r\n                                                SetWorkout({ name: data.name })\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                ], [\r\n                                    {\r\n                                        name: 'name',\r\n                                        type: 'text',\r\n                                        placeholder: 'Enter name',\r\n                                        value: getName(),\r\n                                        label: 'Exercise Name'\r\n                                    }\r\n                                ])\r\n                            }}>Edit Workout Name</PopoverItem>\r\n                        </PopoverButton>\r\n                    </IonButtons>\r\n                </IonItem>\r\n            </IonHeader>\r\n            <IonContent>\r\n                <div className='centering-box'>\r\n                    <IonTextarea value={workout.note} onIonChange={e => SetWorkout({ note: e.detail.value || undefined })} style={{ padding: \"0px 10px\" }} placeholder='Workout Note' />\r\n                    {exercises && exercises.length > 0\r\n                        ?\r\n                        <>\r\n                            {exercises?.map((ex) => {\r\n                                return (\r\n                                    <ExerciseItem OnRequestRemove={() => OnRemoveExecise(ex._id)} key={ex._id} exercise={ex} />\r\n                                )\r\n                            })}\r\n                        </> :\r\n                        <Empty />\r\n                    }\r\n                    <IonButton onClick={PickExercises} fill='clear'>\r\n                        <IonText color='primary'>+ Add Exercise</IonText>\r\n                    </IonButton>\r\n                    <IonButton onClick={CancelWorkout} color='dark' fill='outline'>\r\n                        <IonText >Cancel Workout</IonText>\r\n                    </IonButton>\r\n                </div>\r\n            </IonContent>\r\n        </IonPage>\r\n    )\r\n}\r\n\r\nexport default WorkoutPage;","import { IonButton, IonCheckbox, IonContent, IonItem, IonItemDivider, IonLabel, IonPage, IonSelect, IonSelectOption, IonText } from '@ionic/react'\r\nimport React from 'react'\r\nimport Header from '../../components/Header'\r\nimport { Sounds } from '../../utils/Sound'\r\nimport useSettings from './hook'\r\nimport './Settings.scss'\r\nimport { version, buildNumber } from '../../../package.json'\r\ninterface SettingsProps {\r\n\r\n}\r\nconst SettingsPage: React.FC<SettingsProps> = (props) => {\r\n    return (\r\n        <IonPage className='settings'>\r\n            <Header backButton title='settings' noborder>\r\n\r\n            </Header>\r\n            <IonContent>\r\n                <UnitsLocalization />\r\n                <GeneralSettings />\r\n                <RestTimerSettings />\r\n                <OtherServices />\r\n                <ContactSupport />\r\n                <Legal />\r\n                <div className='centering-box'>\r\n                    {/*<IonButton style={{ width: '80%' }} expand='full'>\r\n                        <IonLabel>Log Out</IonLabel>\r\n    </IonButton>*/}\r\n                    <div className='version light-text'>{version} ({buildNumber})</div>\r\n                </div>\r\n            </IonContent>\r\n        </IonPage>\r\n    )\r\n}\r\n\r\nfunction UnitsLocalization() {\r\n    const [settings, SetSettings] = useSettings()\r\n    return (\r\n        <>\r\n            <SegmentHeader title='Units' />\r\n            <SegmentItem>\r\n                <div style={{ width: '100%' }}>\r\n                    <IonLabel>Weight</IonLabel>\r\n                    <IonSelect onIonChange={(e) => SetSettings({ weightUnit: e.detail.value })} value={settings.weightUnit}>\r\n                        <IonSelectOption value='metric'>Metric (kg)</IonSelectOption>\r\n                        <IonSelectOption value='imperial'>US/Imperial (lbs)</IonSelectOption>\r\n                    </IonSelect>\r\n                </div>\r\n            </SegmentItem>\r\n            <SegmentItem>\r\n                <div style={{ width: '100%' }}>\r\n                    <IonLabel>Distance</IonLabel>\r\n                    <IonSelect value={settings.distanceUnit} onIonChange={e => SetSettings({ distanceUnit: e.detail.value })}>\r\n                        <IonSelectOption value='metric'>Metric (m/km)</IonSelectOption>\r\n                        <IonSelectOption value='imperial'>US/Imperial (ft/miles)</IonSelectOption>\r\n                    </IonSelect>\r\n                </div>\r\n            </SegmentItem>\r\n            {/*<SegmentItem>\r\n                <div style={{ width: '100%' }}>\r\n                    <IonLabel>Size</IonLabel>\r\n                    <IonSelect value={settings.sizeUnit} onIonChange={e => SetSettings({ sizeUnit: e.detail.value })}>\r\n                        <IonSelectOption value='metric'>Metric (cm)</IonSelectOption>\r\n                        <IonSelectOption value='imperial'>US/Imperial (in)</IonSelectOption>\r\n                    </IonSelect>\r\n                </div>\r\n            </SegmentItem>*/}\r\n        </>\r\n    )\r\n}\r\n\r\nfunction GeneralSettings() {\r\n    const [settings, SetSettings] = useSettings()\r\n    return (\r\n        <>\r\n            {/*\r\n            <SegmentHeader title='General' />\r\n            <SegmentItem>\r\n                <div>\r\n                    <IonLabel>Sound Effects</IonLabel>\r\n                    <IonLabel className='light-text'>Doesn't include the rest timer alert</IonLabel>\r\n                </div>\r\n                <IonCheckbox checked={settings.soundEffects} onIonChange={e => SetSettings({ soundEffects: e.detail.checked })} slot='end' />\r\n            </SegmentItem>\r\n            <SegmentItem>\r\n                <div>\r\n                    <IonLabel>Keep Screen on during workout</IonLabel>\r\n                </div>\r\n                <IonCheckbox checked={settings.screenAwake} onIonChange={e => SetSettings({ screenAwake: e.detail.checked })} slot='end' />\r\n            </SegmentItem>\r\n            \r\n                <SegmentItem button>\r\n                    <div>\r\n                        <IonLabel>Import Data</IonLabel>\r\n                    </div>\r\n                </SegmentItem>\r\n                <SegmentItem button>\r\n                    <div>\r\n                        <IonLabel>Export Data</IonLabel>\r\n                    </div>\r\n                </SegmentItem>\r\n                <SegmentItem button>\r\n                    <div>\r\n                        <IonLabel>Theme</IonLabel>\r\n                    </div>\r\n                </SegmentItem>\r\n                */}\r\n        </>\r\n    )\r\n}\r\nfunction RestTimerSettings() {\r\n    const [settings, SetSettings] = useSettings()\r\n    return (\r\n        <>\r\n            <SegmentHeader title='Rest Timer' />\r\n            <SegmentItem>\r\n                <div>\r\n                    <IonLabel>Vibrate upon finish</IonLabel>\r\n                </div>\r\n                <IonCheckbox checked={settings.vibrateOnRestFinish} onIonChange={e => SetSettings({ vibrateOnRestFinish: e.detail.checked })} slot='end' />\r\n            </SegmentItem>\r\n            <SegmentItem>\r\n                <IonLabel>Sound</IonLabel>\r\n                <IonSelect value={settings.restFinishSound} onIonChange={e => {\r\n                    SetSettings({ restFinishSound: e.detail.value })\r\n                    console.log(e)\r\n                }\r\n                }>\r\n                    <IonSelectOption value={\"\"}>None</IonSelectOption>\r\n                    {Object.keys(Sounds).map((s) => {\r\n                        return (\r\n                            <IonSelectOption key={s} value={s}>{s}</IonSelectOption>\r\n                        )\r\n                    })}\r\n                </IonSelect>\r\n            </SegmentItem>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction OtherServices() {\r\n    return (\r\n        <>\r\n            {/*<SegmentHeader title='Other Services' />\r\n            <SegmentItem>\r\n                <div>\r\n                    <IonLabel>Google Fit</IonLabel>\r\n                </div>\r\n                <IonCheckbox slot='end' />\r\n    </SegmentItem>*/}\r\n        </>\r\n    )\r\n}\r\n\r\nfunction ContactSupport() {\r\n    return (\r\n        <>\r\n            {/*<SegmentHeader title='Contact & Support' />\r\n            <SegmentItem button>\r\n                <div>\r\n                    <IonLabel>Accelerate Help Center</IonLabel>\r\n                    <IonText className='light-text'>Refer to our faq before contacting. We are pretty sure they will solve your doubts.</IonText>\r\n                </div>\r\n            </SegmentItem>\r\n            <SegmentItem button>\r\n                <div>\r\n                    <IonLabel>Bug Report</IonLabel>\r\n                </div>\r\n            </SegmentItem>\r\n            <SegmentItem button>\r\n                <div>\r\n                    <IonLabel>Email Support</IonLabel>\r\n                </div>\r\n            </SegmentItem>\r\n            <SegmentItem button>\r\n                <div>\r\n                    <IonLabel>Twitter</IonLabel>\r\n                    <IonText className='light-text'>@accelerate-fitness</IonText>\r\n                </div>\r\n            </SegmentItem>\r\n            <SegmentItem button>\r\n                <div>\r\n                    <IonLabel>Facebook</IonLabel>\r\n                    <IonText className='light-text'>accelerate-fitness</IonText>\r\n                </div>\r\n            </SegmentItem>\r\n            <SegmentItem button>\r\n                <div>\r\n                    <IonLabel>Instagram</IonLabel>\r\n                    <IonText className='light-text'>accelerate-fitness</IonText>\r\n                </div>\r\n    </SegmentItem>*/}\r\n        </>\r\n\r\n    )\r\n\r\n}\r\n\r\n\r\nfunction Legal() {\r\n    return (\r\n        <>\r\n            {/*<SegmentHeader title='Legal Center' />\r\n            <SegmentItem button>\r\n                <div>\r\n                    <IonLabel>Privacy Policy</IonLabel>\r\n                </div>\r\n            </SegmentItem>\r\n            <SegmentItem last button>\r\n                <div>\r\n                    <IonLabel>Terms of service and conditions</IonLabel>\r\n                </div>\r\n    </SegmentItem>*/}\r\n        </>\r\n    )\r\n}\r\ninterface SegmentHeaderProps {\r\n    title: string\r\n}\r\nconst SegmentHeader: React.FC<SegmentHeaderProps> = (props) => {\r\n    return (\r\n        <IonItem lines='none' className='segment-header'>\r\n            {props.title}\r\n            {props.children}\r\n        </IonItem>\r\n    )\r\n}\r\n\r\ninterface SegmentItemProps {\r\n    last?: boolean,\r\n    button?: boolean\r\n}\r\nconst SegmentItem: React.FC<SegmentItemProps> = (props) => {\r\n    return (\r\n        <IonItem button={props.button} className='segment-item' lines={props.last ? 'full' : 'none'}>\r\n            {props.children}\r\n        </IonItem>\r\n    )\r\n}\r\nexport default SettingsPage","import { IonButton, IonButtons, IonContent, IonItem, IonPage, IonText, IonTextarea, useIonRouter } from '@ionic/react'\r\nimport { createOutline } from 'ionicons/icons'\r\nimport React, { useEffect, useReducer, useState } from 'react'\r\nimport { RouteComponentProps } from 'react-router'\r\nimport AlertBox from '../../modals/Alert'\r\nimport ExerciseItem from '../../components/Exercise/ExerciseItem'\r\nimport Header from '../../components/Header'\r\nimport PopoverButton, { PopoverItem } from '../../components/PopoverButton'\r\nimport Toast from '../../modals/Toast'\r\nimport { WorkoutExercise } from '../../data/models/Workout'\r\nimport WorkoutTemplate from '../../data/models/WorkoutTemplate'\r\nimport ExerciseSelectModal from '../../modals/ExercisesSelectModal'\r\nconst Empty = () => {\r\n    return (\r\n        <div className='centering-box'>\r\n            <img style={{ margin: '15px 0', width: '80%', height: 150 }} src='/assets/svg/workingout.svg' />\r\n        </div>\r\n    )\r\n}\r\ninterface WorkoutTemplatePageProps extends RouteComponentProps<{ id?: string }> {\r\n\r\n}\r\nconst WorkoutTemplatePage: React.FC<WorkoutTemplatePageProps> = (props) => {\r\n    const { workout, SetWorkout, exercises, SetExercises } = useWorkoutTemplate();\r\n    const router = useIonRouter()\r\n    const PickExercises = () => {\r\n        ExerciseSelectModal.ref?.show().then((list) => {\r\n            SetExercises(exercises.concat(list.map((ex) => {\r\n                return new WorkoutExercise({\r\n                    exerciseName: ex.exerciseName,\r\n                    bodyPart: ex.bodyPart,\r\n                    category: ex.category,\r\n                    workoutId: workout?._id,\r\n                    exerciseId: ex._id,\r\n                    sets: [],\r\n                    warmupset: [],\r\n                    timestamp: Date.now()\r\n                })\r\n            })))\r\n        })\r\n    }\r\n    const OnRemoveExecise = (id: string) => {\r\n        let r = exercises?.filter((x) => x._id !== id);\r\n        SetExercises(r);\r\n    }\r\n    const getName = () => {\r\n        return workout.name || ''\r\n    }\r\n    useEffect(() => {\r\n        let { id } = props.match.params;\r\n        (async () => {\r\n            if (id) {\r\n                let template = await WorkoutTemplate.findById(id)\r\n                SetWorkout(template);\r\n                SetExercises(template.exercises.map((ex) => new WorkoutExercise(ex, true)))\r\n            }\r\n        })().catch((err) => {\r\n            router.goBack()\r\n        })\r\n\r\n    }, [])\r\n    const Save = async () => {\r\n        if (exercises.length > 0) {\r\n            console.log(exercises);\r\n            workout.exercises = exercises;\r\n            SetWorkout({ exercises: exercises })\r\n            await workout.save()\r\n            Toast.Show('Template Saved!', 1000)\r\n            router.goBack()\r\n        } else {\r\n            Toast.Show('Please add some exercises before saving!', 1000)\r\n        }\r\n    }\r\n    return (\r\n        <IonPage>\r\n            <Header backButton noborder title={getName()}>\r\n                <IonButtons slot='end'>\r\n                    <IonButton onClick={Save} color='primary'>\r\n                        Save\r\n                    </IonButton>\r\n                </IonButtons>\r\n            </Header>\r\n            <IonItem lines='none'>\r\n                <div>\r\n                    <IonText>{getName()}</IonText>\r\n                </div>\r\n                <IonButtons style={{ marginLeft: 10 }}>\r\n                    <PopoverButton icon={createOutline}>\r\n                        <PopoverItem onClick={() => {\r\n                            AlertBox.Show('Change Exercise Name', \"Enter new name for the workout below\", [\r\n                                {\r\n                                    text: 'Cancel',\r\n                                    type: 'cancel'\r\n                                }, {\r\n                                    text: 'Update',\r\n                                    handler: (data: any) => {\r\n                                        if (data.name && data.name.length > 0) {\r\n                                            SetWorkout({ name: data.name })\r\n                                        }\r\n                                    }\r\n                                }\r\n                            ],\r\n                                [\r\n                                    {\r\n                                        name: 'name',\r\n                                        type: 'text',\r\n                                        placeholder: 'Enter name',\r\n                                        value: getName(),\r\n                                        label: 'Exercise Name'\r\n                                    }\r\n                                ])\r\n                        }}>Edit Workout Name</PopoverItem>\r\n                    </PopoverButton>\r\n                </IonButtons>\r\n            </IonItem>\r\n            <IonContent>\r\n                <div className='centering-box'>\r\n                    <IonTextarea value={workout.note} onIonChange={e => SetWorkout({ note: e.detail.value || undefined })} style={{ padding: \"0px 10px\" }} placeholder='Workout Note' />\r\n                    {exercises && exercises.length > 0\r\n                        ?\r\n                        <>\r\n                            {exercises?.map((ex) => {\r\n                                return (\r\n                                    <ExerciseItem OnRequestRemove={() => OnRemoveExecise(ex._id)} key={ex._id} exercise={ex} />\r\n                                )\r\n                            })}\r\n                        </> :\r\n                        <Empty />\r\n                    }\r\n                    <IonButton onClick={PickExercises} fill='clear'>\r\n                        <IonText color='primary'>+ Add Exercise</IonText>\r\n                    </IonButton>\r\n                </div>\r\n            </IonContent>\r\n        </IonPage>\r\n    )\r\n}\r\n\r\nexport default WorkoutTemplatePage\r\n\r\n\r\nexport function useWorkoutTemplate() {\r\n    const WorkoutTemplateReducer = (state: WorkoutTemplate, action: Partial<WorkoutTemplate>) => {\r\n        return new WorkoutTemplate({\r\n            ...state,\r\n            ...action\r\n        })\r\n    }\r\n    const ExerciseReducer = (state: WorkoutExercise[], action: WorkoutExercise[]) => {\r\n        return action;\r\n    }\r\n    const [workout, SetWorkout] = useReducer(WorkoutTemplateReducer, new WorkoutTemplate({\r\n        name: \"Workout Template\",\r\n        exercises: []\r\n    }))\r\n    const [exercises, SetExercises] = useReducer(ExerciseReducer, []);\r\n    return { workout, SetWorkout, exercises, SetExercises }\r\n}","import { IonButton, IonButtons, IonCol, IonContent, IonIcon, IonItem, IonLabel, IonList, IonPage, IonRow, IonText, IonTitle, isPlatform, useIonRouter } from '@ionic/react'\r\nimport React, { useEffect, useReducer, useState } from 'react'\r\nimport Header from '../../components/Header'\r\nimport moment from 'moment'\r\nimport { barbell, shareOutline, shareSocial, timer, walk } from 'ionicons/icons'\r\nimport PopoverButton, { PopoverItem } from '../../components/PopoverButton'\r\nimport '../Main/Workout.scss'\r\nimport { Workout, WorkoutExercise } from '../../data/models/Workout'\r\nimport { Convert, Unit } from '../../utils/Units'\r\nimport { Settings } from '../Settings/hook'\r\nimport Loading from '../../components/Loading'\r\nimport { RouteComponentProps, useLocation } from 'react-router'\r\nimport Loader from '../../modals/Loader'\r\nimport AlertBox from '../../modals/Alert'\r\nimport WorkoutTemplate from '../../data/models/WorkoutTemplate'\r\nimport Toast from '../../modals/Toast'\r\nimport WorkoutManager from '../../utils/WorkoutManager'\r\ninterface WorkoutInfoPageProps extends RouteComponentProps<{ id: string }> {\r\n\r\n}\r\nconst StatItem = (p: { icon: any, value?: string }) => {\r\n    return (\r\n        <IonCol className='history-item-stat' size='3'>\r\n            <IonIcon icon={p.icon} />\r\n            <IonLabel>{p.value}</IonLabel>\r\n        </IonCol>\r\n    )\r\n}\r\nconst WorkoutInfoPage: React.FC<WorkoutInfoPageProps> = (props) => {\r\n    const [workout, SetWorkout] = useState<Workout | undefined>(undefined)\r\n    const [exercises, SetExercises] = useState<WorkoutExercise[]>([])\r\n    const { pathname } = useLocation()\r\n    const router = useIonRouter()\r\n    const Total = () => {\r\n        if (exercises.length <= 0) {\r\n            return undefined;\r\n        }\r\n        let total = exercises.map((t) => {\r\n            return t.total()\r\n        }).reduce((a, b) => {\r\n            a.distance.value += Convert(b.distance.unit, a.distance.unit, 'weight', b.distance.value)\r\n            a.weight.value += Convert(b.weight.unit, a.weight.unit, 'distance', b.weight.value)\r\n            return a;\r\n        })\r\n        total.distance.value = Convert(total.distance.unit, Settings.current.distanceUnit, 'distance', total.distance.value);\r\n        total.weight.value = Convert(total.weight.unit, Settings.current.weightUnit, 'weight', total.weight.value);\r\n        total.distance.unit = Settings.current.distanceUnit\r\n        total.weight.unit = Settings.current.weightUnit\r\n        return total\r\n    }\r\n    let total = Total()\r\n    useEffect(() => {\r\n        (async () => {\r\n            let { id } = props.match.params\r\n            let iworkout = await Workout.findById(id);\r\n            let workout = new Workout(iworkout);\r\n            await workout.exercises().then((res) => {\r\n                SetExercises(res)\r\n                SetWorkout(workout);\r\n            })\r\n        })().catch((err) => {\r\n            router.goBack()\r\n        })\r\n\r\n    }, [pathname])\r\n    const PerformAgain = () => {\r\n        if (!workout) {\r\n            return;\r\n        }\r\n        if (WorkoutManager.workout) {\r\n            AlertBox.Show('Workout in Progress', \"There is workout in progress. Do you want to cancel it?\", [\r\n                { type: 'cancel', text: 'Cancel' },\r\n                {\r\n                    text: 'Yes, Discard', handler: () => {\r\n                        WorkoutManager.cancel();\r\n                        WorkoutManager.startFrom(workout, exercises);\r\n                        router.push('/workout-page', 'forward', 'replace');\r\n                    }\r\n                }\r\n            ])\r\n        } else {\r\n            WorkoutManager.startFrom(workout, exercises);\r\n            router.push('/workout-page', 'forward', 'replace');\r\n        }\r\n    }\r\n    const Delete = () => {\r\n        AlertBox.Show('Delete Workout?', 'Are you sure you want to delete this workout? This cannot be undone', [\r\n            {\r\n                type: 'cancel',\r\n                text: 'Cancel'\r\n            },\r\n            {\r\n                text: 'Yes, Delete',\r\n                handler: async () => {\r\n                    try {\r\n                        Loader.show()\r\n                        for (let ex of exercises) {\r\n                            await ex.delete()\r\n                        }\r\n                        await workout?.delete()\r\n                        router.goBack();\r\n                    } catch (err) {\r\n                        console.log(err)\r\n                    } finally {\r\n                        Loader.hide();\r\n                    }\r\n                }\r\n            }\r\n        ])\r\n    }\r\n    const CreateWorkoutTemplate = async () => {\r\n        AlertBox.Show('Create Workout Template', 'Enter name for the workout template', [\r\n            { text: 'cancel', type: 'cancel' },\r\n            {\r\n                text: 'Save', handler: async (data: any) => {\r\n                    if (workout) {\r\n                        try {\r\n                            let template = await WorkoutTemplate.parseWorkout(workout);\r\n                            template.name = data.name\r\n                            await template.save();\r\n                            workout.templateId = template._id;\r\n                            await workout.save()\r\n                            SetWorkout(new Workout(workout));\r\n                            Toast.Show('Template created sucessfully!', 1000);\r\n                        } catch (err) {\r\n                            Toast.Show(err.message, 1000)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        ], [\r\n            { name: 'name', value: workout?.name, type: 'text' }\r\n        ])\r\n    }\r\n    return (\r\n        <IonPage>\r\n            <Header noborder backButton >\r\n                <IonButtons slot='end'>\r\n                    <IonButton>\r\n                        <IonIcon icon={isPlatform('ios') ? shareOutline : shareSocial} />\r\n                    </IonButton>\r\n                    <PopoverButton>\r\n                        <PopoverItem routerLink={`/workout/edit/${props.match.params.id}`}>Edit Workout</PopoverItem>\r\n                        <PopoverItem onClick={CreateWorkoutTemplate}>Save as Workout Template</PopoverItem>\r\n                        <PopoverItem onClick={Delete}>Delete Workout</PopoverItem>\r\n                    </PopoverButton>\r\n                </IonButtons>\r\n            </Header>\r\n            {workout ? <>\r\n                <IonItem lines='none'>\r\n                    <div>\r\n                        <IonText style={{ fontSize: 25 }}>{workout.name}</IonText>\r\n                        <br />\r\n                        <IonText className='light-text'>{moment(workout.startTimestamp).format('dddd, do MMMM, YYYY, hh:mm A')}</IonText>\r\n                    </div>\r\n                </IonItem>\r\n                <IonContent>\r\n                    <IonRow className='light-text'>\r\n                        <StatItem icon={timer} value={`${workout.timeString().replace(/0?0h|0?0m|0?0s/g, '')}`} />\r\n                        <StatItem icon={barbell} value={`${total?.weight.value} ${Unit(total?.weight.unit, 'weight')}`} />\r\n                        <StatItem icon={walk} value={`${total?.distance.value} ${Unit(total?.distance.unit, 'distance')}`} />\r\n                    </IonRow>\r\n                    <IonList>\r\n                        {exercises.map((ex) => {\r\n                            return (\r\n                                <IonItem key={ex._id} lines='none'>\r\n                                    <div style={{ width: '100%' }}>\r\n                                        <IonText color='primary' style={{ fontWeight: 'bold' }}>{ex.exerciseName}</IonText>\r\n                                        {ex.sets.map((s, i) => {\r\n                                            return (\r\n                                                <IonRow key={s._id}>\r\n                                                    <IonCol size=\"1\">{i + 1}</IonCol>\r\n                                                    <IonCol size=\"11\">{ex.WorkoutSetToText(s)}</IonCol>\r\n                                                </IonRow>\r\n                                            )\r\n                                        })}\r\n                                    </div>\r\n                                </IonItem>\r\n                            )\r\n                        })}\r\n                    </IonList>\r\n                </IonContent>\r\n                <div className='centering-box'>\r\n                    <IonButton onClick={PerformAgain} style={{ width: '80%', margin: '10px 0' }} expand='full'>\r\n                        <IonLabel>Perform Again</IonLabel>\r\n                    </IonButton>\r\n                </div>\r\n            </>\r\n                :\r\n                <Loading />}\r\n        </IonPage>\r\n    )\r\n}\r\n\r\nexport default WorkoutInfoPage;","import { IonButton, IonButtons, IonContent, IonItem, IonPage, IonText, IonTextarea, useIonRouter } from '@ionic/react'\r\nimport { createOutline } from 'ionicons/icons'\r\nimport React, { useEffect, useReducer, useState } from 'react'\r\nimport { act } from 'react-dom/test-utils'\r\nimport { RouteComponentProps } from 'react-router'\r\nimport AlertBox from '../../modals/Alert'\r\nimport ExerciseItem from '../../components/Exercise/ExerciseItem'\r\nimport Header from '../../components/Header'\r\nimport Loader from '../../modals/Loader'\r\nimport Loading from '../../components/Loading'\r\nimport PopoverButton, { PopoverItem } from '../../components/PopoverButton'\r\nimport Toast from '../../modals/Toast'\r\nimport { Workout, WorkoutExercise } from '../../data/models/Workout'\r\nimport WorkoutTemplate from '../../data/models/WorkoutTemplate'\r\nimport ExerciseSelectModal from '../../modals/ExercisesSelectModal'\r\nconst Empty = () => {\r\n    return (\r\n        <div className='centering-box'>\r\n            <img style={{ margin: '15px 0', width: '80%', height: 150 }} src='/assets/svg/workingout.svg' />\r\n        </div>\r\n    )\r\n}\r\ninterface EditWorkoutPageProps extends RouteComponentProps<{ id: string }> {\r\n\r\n}\r\nconst EditWorkoutPage: React.FC<EditWorkoutPageProps> = (props) => {\r\n    const { workout, SetWorkout, exercises, SetExercises } = useWorkoutTemplate();\r\n    const [removedExercises, SetRemovedExercises] = useState<WorkoutExercise[]>([])\r\n    const router = useIonRouter()\r\n    const PickExercises = () => {\r\n        if (!workout) {\r\n            return;\r\n        }\r\n        ExerciseSelectModal.ref?.show().then((list) => {\r\n            SetExercises(exercises.concat(list.map((ex) => {\r\n                return new WorkoutExercise({\r\n                    exerciseName: ex.exerciseName,\r\n                    bodyPart: ex.bodyPart,\r\n                    category: ex.category,\r\n                    workoutId: workout?._id,\r\n                    exerciseId: ex._id,\r\n                    sets: [],\r\n                    warmupset: [],\r\n                    timestamp: Date.now()\r\n                })\r\n            })))\r\n        })\r\n    }\r\n    const OnRemoveExecise = (ex: WorkoutExercise) => {\r\n        let x = [...removedExercises, ex];\r\n        SetRemovedExercises(x);\r\n        let r = exercises?.filter((x) => x._id !== ex._id);\r\n        SetExercises(r);\r\n    }\r\n    const getName = () => {\r\n        return workout?.name || ''\r\n    }\r\n    const Save = async () => {\r\n        if (!exercises || exercises?.length <= 0 || !exercises.some((e) => e.sets.some((s) => !WorkoutExercise.isSetEmpty(s)))) {\r\n            AlertBox.Show(\"Delete Workout?\", \"There are no valid exercises or sets in this workout. Do you wish to proceed deleting the workout?\", [\r\n                { type: 'cancel', text: 'Cancel' },\r\n                {\r\n                    text: 'Yes, Delete', handler: async () => {\r\n                        Loader.show()\r\n                        for (let ex of exercises) {\r\n                            await ex.delete()\r\n                        }\r\n                        await workout?.delete()\r\n                        Loader.hide();\r\n                        router.goBack()\r\n                    }\r\n                }\r\n            ])\r\n            return\r\n        } else {\r\n            try {\r\n                Loader.show()\r\n                for(let ex of removedExercises){\r\n                    await ex.delete()\r\n                }\r\n                for (let ex of exercises) {\r\n                    await ex.save()\r\n                }\r\n                await workout?.save()\r\n                router.goBack()\r\n            } catch (err) {\r\n                Toast.Show(err.message)\r\n            } finally {\r\n                Loader.hide();\r\n            }\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        (async () => {\r\n            let { id } = props.match.params\r\n            let iworkout = await Workout.findById(id);\r\n            let workout = new Workout(iworkout);\r\n            await workout.exercises().then((res) => {\r\n                SetExercises(res)\r\n                SetWorkout(workout);\r\n            })\r\n        })().catch((err) => {\r\n            router.goBack()\r\n        })\r\n    }, [])\r\n    return (\r\n        <IonPage>\r\n            <Header backButton noborder title={getName()}>\r\n                <IonButtons slot='end'>\r\n                    <IonButton onClick={Save} color='primary'>\r\n                        Save\r\n                    </IonButton>\r\n                </IonButtons>\r\n            </Header>\r\n            {workout ? <>\r\n                <IonItem lines='none'>\r\n                    <div>\r\n                        <IonText>{getName()}</IonText>\r\n                    </div>\r\n                    <IonButtons style={{ marginLeft: 10 }}>\r\n                        <PopoverButton icon={createOutline}>\r\n                            <PopoverItem onClick={() => {\r\n                                AlertBox.Show('Change Exercise Name', \"Enter new name for the workout below\", [\r\n                                    {\r\n                                        text: 'Cancel',\r\n                                        type: 'cancel'\r\n                                    }, {\r\n                                        text: 'Update',\r\n                                        handler: (data: any) => {\r\n                                            if (data.name && data.name.length > 0) {\r\n                                                SetWorkout({ name: data.name })\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                ],\r\n                                    [\r\n                                        {\r\n                                            name: 'name',\r\n                                            type: 'text',\r\n                                            placeholder: 'Enter name',\r\n                                            value: getName(),\r\n                                            label: 'Exercise Name'\r\n                                        }\r\n                                    ])\r\n                            }}>Edit Workout Name</PopoverItem>\r\n                        </PopoverButton>\r\n                    </IonButtons>\r\n                </IonItem>\r\n                <IonContent>\r\n                    <div className='centering-box'>\r\n                        <IonTextarea value={workout.note} onIonChange={e => SetWorkout({ note: e.detail.value || undefined })} style={{ padding: \"0px 10px\" }} placeholder='Workout Note' />\r\n                        {exercises && exercises.length > 0\r\n                            ?\r\n                            <>\r\n                                {exercises?.map((ex) => {\r\n                                    return (\r\n                                        <ExerciseItem OnRequestRemove={() => OnRemoveExecise(ex)} key={ex._id} exercise={ex} />\r\n                                    )\r\n                                })}\r\n                            </> :\r\n                            <Empty />\r\n                        }\r\n                        <IonButton onClick={PickExercises} fill='clear'>\r\n                            <IonText color='primary'>+ Add Exercise</IonText>\r\n                        </IonButton>\r\n                    </div>\r\n                </IonContent>\r\n            </> : <Loading />}\r\n        </IonPage>\r\n    )\r\n}\r\n\r\nexport default EditWorkoutPage\r\n\r\n\r\nexport function useWorkoutTemplate() {\r\n    const WorkoutReducer = (state: Workout | undefined, action: Partial<Workout> | undefined) => {\r\n        if (action == undefined) {\r\n            return undefined\r\n        }\r\n        if (state === undefined) {\r\n            return new Workout(action as Workout)\r\n        }\r\n        return new Workout({\r\n            ...state,\r\n            ...action\r\n        })\r\n    }\r\n    const ExerciseReducer = (state: WorkoutExercise[], action: WorkoutExercise[]) => {\r\n        return action;\r\n    }\r\n    const [workout, SetWorkout] = useReducer(WorkoutReducer, undefined)\r\n    const [exercises, SetExercises] = useReducer(ExerciseReducer, []);\r\n    return { workout, SetWorkout, exercises, SetExercises }\r\n}","import { IonContent, IonImg, IonList, IonListHeader, IonPage, IonText } from '@ionic/react'\r\nimport React from 'react'\r\nimport { IExercise } from '../../data/models/Exercise'\r\nimport Header from '../Header'\r\nimport './ExerciseInfo.scss'\r\ninterface ExerciseInfoProps {\r\n    exercise: IExercise,\r\n    onBack?:()=>void\r\n}\r\n\r\nconst ExerciseInfo: React.FC<ExerciseInfoProps> = (props) => {\r\n    let exercise = props.exercise\r\n    const getMedia = () => {\r\n        if (exercise.mediaType === \"\") {\r\n            return undefined;\r\n        }\r\n        if (exercise.mediaType === 'image') {\r\n            return `/assets/workouts/${exercise.imageUrl?.toLocaleLowerCase()}`\r\n        }\r\n        if (exercise.mediaType === 'video') {\r\n            return `/assets/workouts/${exercise.videoUrl?.toLocaleLowerCase()}`\r\n        }\r\n    }\r\n    const media = getMedia()\r\n    const instructions = exercise.instructions && exercise.instructions.length > 0\r\n    return (\r\n        <IonPage>\r\n            <Header backRoute='/exercise-list' onBack={props.onBack} titleStyle={{ fontSize: 16 }} title={exercise.exerciseName} noborder backButton />\r\n            <IonContent>\r\n                {media ? <img src={getMedia()} className='exerciseinfo-head-image' /> : null}\r\n                {instructions ? <IonList style={{ padding: 16 }}>\r\n                    <IonListHeader style={{ fontSize: 20, textDecoration: 'underline' }}>Instructions</IonListHeader>\r\n                    {exercise.instructions?.map((t, i) => {\r\n                        return (\r\n                            <IonText key={i}>{i + 1}. {t} <br /> <br /></IonText>\r\n                        )\r\n                    })}\r\n                </IonList> : null}\r\n            </IonContent>\r\n        </IonPage>\r\n    )\r\n}\r\n\r\nexport default ExerciseInfo","import { IonModal } from '@ionic/react';\r\nimport React from 'react'\r\nimport ExerciseInfo from '../components/Exercise/ExerciseInfo';\r\nimport { IExercise } from '../data/models/Exercise';\r\n\r\ninterface ExerciseInfoModalProps {\r\n\r\n}\r\n\r\ninterface State {\r\n    show: boolean,\r\n    exercise?: IExercise\r\n}\r\nexport default class ExerciseInfoModal extends React.Component<ExerciseInfoModalProps, State>{\r\n    static ref: ExerciseInfoModal | null = null;\r\n    state: State = {\r\n        show: false,\r\n        exercise: undefined\r\n    }\r\n    static Show(exercise: IExercise) {\r\n        ExerciseInfoModal.ref?.show(exercise);\r\n    }\r\n    show(exercise: IExercise) {\r\n        this.setState({\r\n            show: true,\r\n            exercise\r\n        })\r\n    }\r\n    hide() {\r\n        this.setState({\r\n            show: false,\r\n            exercise: undefined\r\n        })\r\n    }\r\n    render() {\r\n        if (!this.state.exercise) {\r\n            return null;\r\n        }\r\n        return (\r\n            <IonModal isOpen={this.state.show}>\r\n                <ExerciseInfo onBack={this.hide.bind(this)} exercise={this.state.exercise} />\r\n            </IonModal>\r\n        )\r\n    }\r\n}","import { IonButton, IonButtons, IonContent, IonIcon, IonItem, IonItemDivider, IonLabel, IonPage, IonText, IonTitle, isPlatform } from '@ionic/react'\r\nimport { informationCircle, shareOutline, shareSocial } from 'ionicons/icons'\r\nimport React, { useEffect, useReducer } from 'react'\r\nimport { IWorkoutExercise, Workout } from '../../data/models/Workout'\r\nimport ExerciseItemThumbnail from '../Exercise/ExerciseItemThumb'\r\nimport Header from '../Header'\r\nimport PopoverButton, { PopoverItem } from '../PopoverButton'\r\nimport {  ExerciseData, IExercise } from '../../data/models/Exercise'\r\nimport WorkoutTemplate from '../../data/models/WorkoutTemplate'\r\nimport AlertBox from '../../modals/Alert'\r\nimport Toast from '../../modals/Toast'\r\nimport WorkoutManager from '../../utils/WorkoutManager'\r\nimport ExerciseInfoModal from '../../modals/ExerciseInfoModal'\r\ninterface WorkoutTemplateInfoProps {\r\n    template: WorkoutTemplate,\r\n    OnDeleted?: () => void,\r\n    OnStartExercise?: () => void\r\n}\r\n\r\nconst WorkoutTemplateInfo: React.FC<WorkoutTemplateInfoProps> = (props) => {\r\n    let template_org = props.template\r\n    const WorkoutTemplateReducer = (state: WorkoutTemplate, action: Partial<WorkoutTemplate>) => {\r\n        Object.assign(template_org, action);\r\n        return new WorkoutTemplate({\r\n            ...state,\r\n            ...action\r\n        })\r\n    }\r\n    const [template, UpdateTemplate] = useReducer(WorkoutTemplateReducer, template_org)\r\n    useEffect(() => {\r\n        UpdateTemplate(props.template);\r\n    }, [props.template])\r\n    const OnRename = () => {\r\n        AlertBox.Show('Change Exercise Name', \"Enter new name for the workout below\", [\r\n            {\r\n                text: 'Cancel',\r\n                type: 'cancel'\r\n            }, {\r\n                text: 'Update',\r\n                handler: async (data: any) => {\r\n                    if (data.name && data.name.length > 0) {\r\n                        UpdateTemplate({ name: data.name })\r\n                        await template.save()\r\n                    }\r\n                }\r\n            }\r\n        ],\r\n            [\r\n                {\r\n                    name: 'name',\r\n                    type: 'text',\r\n                    placeholder: 'Enter name',\r\n                    value: template.name,\r\n                    label: 'Exercise Name'\r\n                }\r\n            ])\r\n    }\r\n    const OnDeleteTemplate = () => {\r\n        AlertBox.Show('Delete Template?', \"Are you sure you want to delete this template?\", [\r\n            {\r\n                text: 'Cancel',\r\n                type: 'cancel'\r\n            }, {\r\n                text: 'Yes Delete',\r\n                handler: async () => {\r\n                    await template.delete();\r\n                    if (props.OnDeleted) {\r\n                        props.OnDeleted()\r\n                    }\r\n                }\r\n            }\r\n        ])\r\n    }\r\n    const OnDuplicateTemplate = () => {\r\n        AlertBox.Show('Duplicate Template', 'Enter name for the template', [\r\n            { type: 'cancel', text: 'Cancel' }, {\r\n                text: 'Duplicate', handler: async (data: any) => {\r\n                    let temp = template.Duplicate(data.name);\r\n                    await temp.save()\r\n                    Toast.Show(`Template ${temp.name} created!`)\r\n                }\r\n            }\r\n        ], [\r\n            { name: \"name\", type: 'text', value: template.name }\r\n        ])\r\n    }\r\n    const OnStartExercise = () => {\r\n        if (WorkoutManager.workout) {\r\n            AlertBox.Show('Workout in Progress', \"There is workout in progress. Do you want to cancel it?\", [\r\n                { type: 'cancel', text: 'Cancel' },\r\n                {\r\n                    text: 'Yes, Discard', handler: () => {\r\n                        WorkoutManager.cancel();\r\n                        WorkoutManager.startFrom(Workout.fromTemplate(template), template.exercises);\r\n                        if (props.OnStartExercise) {\r\n                            props.OnStartExercise()\r\n                        }\r\n                    }\r\n                }\r\n            ])\r\n        } else {\r\n            WorkoutManager.startFrom(Workout.fromTemplate(template), template.exercises);\r\n            if (props.OnStartExercise) {\r\n                props.OnStartExercise()\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <IonPage>\r\n            <Header backButton noborder>\r\n                <IonButtons slot='end'>\r\n                    <IonButton>\r\n                        <IonIcon icon={isPlatform('ios') ? shareOutline : shareSocial} />\r\n                    </IonButton>\r\n                    <PopoverButton>\r\n                        <PopoverItem routerLink={`/workout-template/edit/${template._id}`} >Edit</PopoverItem>\r\n                        <PopoverItem onClick={OnRename} >Rename</PopoverItem>\r\n                        <PopoverItem onClick={OnDuplicateTemplate}>Duplicate</PopoverItem>\r\n                        <PopoverItem onClick={OnDeleteTemplate}>Delete</PopoverItem>\r\n                    </PopoverButton>\r\n\r\n                </IonButtons>\r\n                <IonTitle>Workout Name</IonTitle>\r\n            </Header>\r\n            <IonContent>\r\n                {template.exercises.map((ex, i) => {\r\n                    return (\r\n                        <ExerciseListItem key={i} exercise={ex} />\r\n                    )\r\n                })}\r\n            </IonContent>\r\n            <div className='centering-box'>\r\n                <hr />\r\n                <IonButton onClick={OnStartExercise} style={{ width: '80%', margin: '10px 0' }} expand='full'>\r\n                    <IonLabel>Start Exercise</IonLabel>\r\n                </IonButton>\r\n            </div>\r\n        </IonPage>\r\n    )\r\n}\r\n\r\nexport default WorkoutTemplateInfo;\r\n\r\ninterface ExerciseListItemProps {\r\n    exercise: IWorkoutExercise\r\n}\r\nconst ExerciseListItem: React.FC<ExerciseListItemProps> = (props) => {\r\n    const exercise = props.exercise\r\n    const iEx = ExerciseData.map[exercise.exerciseId]\r\n    if (!iEx) {\r\n        return null;\r\n    }\r\n    const OnExerciseInfo = () => {\r\n        ExerciseInfoModal.Show(iEx)\r\n    }\r\n    const noInfo = iEx.mediaType === \"\" && (!iEx.instructions || iEx.instructions.length <= 0);\r\n    return (\r\n        <IonItem lines='none'>\r\n            <ExerciseItemThumbnail exercise={iEx} />\r\n            <div className='column'>\r\n                <IonText style={{ fontSize: 14 }} className='list-text bold'>{exercise.sets.length} x {exercise.exerciseName}</IonText>\r\n                <IonText className='list-text light-text'>{exercise.bodyPart}</IonText>\r\n            </div>\r\n            {noInfo ? null : <IonButtons slot='end'>\r\n                <IonButton onClick={OnExerciseInfo}>\r\n                    <IonIcon style={{ fontSize: 25 }} icon={informationCircle} />\r\n                </IonButton>\r\n            </IonButtons>}\r\n        </IonItem>\r\n    )\r\n}","import { useIonRouter } from '@ionic/react';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { RouteComponentProps } from 'react-router';\r\nimport Loading from '../../components/Loading';\r\nimport WorkoutTemplateInfo from '../../components/Workout/WorkoutTemplateInfo'\r\nimport WorkoutTemplate from '../../data/models/WorkoutTemplate'\r\n\r\ninterface WorkoutTemaplteInfoPageProps extends RouteComponentProps<{ id: string }> {\r\n\r\n}\r\n\r\nconst WorkoutTemplateInfoPage: React.FC<WorkoutTemaplteInfoPageProps> = (props) => {\r\n    const [template, SetTemplate] = useState<WorkoutTemplate | undefined>(undefined);\r\n    const router = useIonRouter()\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                let temp = await WorkoutTemplate.findById(props.match.params.id);\r\n                if (temp) {\r\n                    SetTemplate(new WorkoutTemplate(temp));\r\n                }\r\n            } catch (err) {\r\n                router.goBack();\r\n            }\r\n        })()\r\n\r\n    }, [])\r\n    if (!template) {\r\n        return <Loading />\r\n    }\r\n    return (\r\n        <>\r\n            <WorkoutTemplateInfo OnDeleted={() => {\r\n                router.goBack()\r\n            }} OnStartExercise={() => {\r\n                router.push('/workout-page')\r\n            }} template={template} />\r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default WorkoutTemplateInfoPage","import { IonCard, IonItem, IonText } from '@ionic/react'\r\nimport React from 'react'\r\nimport './GraphHolder.scss'\r\n\r\ninterface GraphHolderProps {\r\n    title: string\r\n}\r\nconst GraphHolder: React.FC<GraphHolderProps> = (props) => {\r\n    return (\r\n        <IonCard className='card graph-holder'>\r\n            <IonItem lines='full'>\r\n                <IonText>{props.title}</IonText>\r\n            </IonItem>\r\n            {props.children}\r\n        </IonCard>\r\n    )\r\n}\r\n\r\nexport default GraphHolder","import React from 'react'\r\nimport GraphHolder from './GraphHolder'\r\nimport Chart from \"react-apexcharts\";\r\nimport { ThemeColor } from '../../utils';\r\ninterface LineChartsProps {\r\n    title: string,\r\n    series: any[]\r\n}\r\nconst LineCharts: React.FC<LineChartsProps> = (props) => {\r\n    const options = {\r\n        chart: {\r\n            toolbar: {\r\n                show: false\r\n            }\r\n        },\r\n        //colors: [ThemeColor('primary').value, ThemeColor('secondary').value, ThemeColor('tertiary').value, ThemeColor('success').value, ThemeColor('warning').value, ThemeColor('danger').value],\r\n        noData: {\r\n            text: \"No Data\",\r\n            align: 'center',\r\n            verticalAlign: 'middle',\r\n            offsetX: 0,\r\n            offsetY: 0,\r\n            style: {\r\n                fontSize: '14px',\r\n            }\r\n        },\r\n        markers: {\r\n            size: 5\r\n        },\r\n        yaxis: {\r\n            show: true,\r\n        },\r\n        xaxis: {\r\n            type: 'datetime'\r\n        }\r\n    }\r\n    return (\r\n        <GraphHolder title={props.title}>\r\n            <div className='chart-scroller'>\r\n                <Chart\r\n                    options={options}\r\n                    series={props.series}\r\n                    width=\"100%\"\r\n                    height={250}\r\n                />\r\n            </div>\r\n        </GraphHolder>\r\n    )\r\n}\r\n\r\nexport default LineCharts","import { IonContent, IonPage } from '@ionic/react'\r\nimport React from 'react'\r\nimport { IExercise } from '../../data/models/Exercise'\r\nimport { WorkoutExercise } from '../../data/models/Workout'\r\nimport GraphHolder from '../Charts/GraphHolder'\r\nimport LineCharts from '../Charts/LineChart'\r\nimport Header from '../Header'\r\n\r\ninterface ExerciseChartsProps {\r\n    exercise: IExercise,\r\n    history: WorkoutExercise[]\r\n    OnBack?: () => void\r\n}\r\nconst ExerciseCharts: React.FC<ExerciseChartsProps> = (props) => {\r\n    const exercise = props.exercise\r\n    const history = props.history\r\n    const graphs = WorkoutExercise.graphs(exercise, history)\r\n    return (\r\n        <IonPage>\r\n            <Header backRoute='/exercise-list' titleStyle={{ fontSize: 16 }} title={exercise.exerciseName} onBack={props.OnBack} noborder backButton />\r\n            <IonContent>\r\n                {Object.keys(graphs).map((key) => {\r\n                    return (\r\n                        <LineCharts key={key} series={graphs[key].series} title={graphs[key].title} />\r\n                    )\r\n                })}\r\n            </IonContent>\r\n        </IonPage>\r\n    )\r\n}\r\n\r\nexport default ExerciseCharts","\r\n\r\nimport React from 'react'\r\n\r\ninterface Props extends React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> {\r\n    color?: string\r\n}\r\nexport default function NoDataSvg(props: Props) {\r\n    let c = getComputedStyle(document.body).getPropertyValue(`--ion-color-${props.color || 'primary'}`);\r\n    return (\r\n        <div {...props}>\r\n            <svg id=\"b21613c9-2bf0-4d37-bef0-3b193d34fc5d\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 647.63626 632.17383\">\r\n                <path d=\"M687.3279,276.08691H512.81813a15.01828,15.01828,0,0,0-15,15v387.85l-2,.61005-42.81006,13.11a8.00676,8.00676,0,0,1-9.98974-5.31L315.678,271.39691a8.00313,8.00313,0,0,1,5.31006-9.99l65.97022-20.2,191.25-58.54,65.96972-20.2a7.98927,7.98927,0,0,1,9.99024,5.3l32.5498,106.32Z\" transform=\"translate(-276.18187 -133.91309)\" fill=\"#f2f2f2\" />\r\n                <path d=\"M725.408,274.08691l-39.23-128.14a16.99368,16.99368,0,0,0-21.23-11.28l-92.75,28.39L380.95827,221.60693l-92.75,28.4a17.0152,17.0152,0,0,0-11.28028,21.23l134.08008,437.93a17.02661,17.02661,0,0,0,16.26026,12.03,16.78926,16.78926,0,0,0,4.96972-.75l63.58008-19.46,2-.62v-2.09l-2,.61-64.16992,19.65a15.01489,15.01489,0,0,1-18.73-9.95l-134.06983-437.94a14.97935,14.97935,0,0,1,9.94971-18.73l92.75-28.4,191.24024-58.54,92.75-28.4a15.15551,15.15551,0,0,1,4.40966-.66,15.01461,15.01461,0,0,1,14.32032,10.61l39.0498,127.56.62012,2h2.08008Z\" transform=\"translate(-276.18187 -133.91309)\" fill=\"#3f3d56\" />\r\n                <path d=\"M398.86279,261.73389a9.0157,9.0157,0,0,1-8.61133-6.3667l-12.88037-42.07178a8.99884,8.99884,0,0,1,5.9712-11.24023l175.939-53.86377a9.00867,9.00867,0,0,1,11.24072,5.9707l12.88037,42.07227a9.01029,9.01029,0,0,1-5.9707,11.24072L401.49219,261.33887A8.976,8.976,0,0,1,398.86279,261.73389Z\" transform=\"translate(-276.18187 -133.91309)\" fill={c} />\r\n                <circle cx=\"190.15351\" cy=\"24.95465\" r=\"20\" fill={c} />\r\n                <circle cx=\"190.15351\" cy=\"24.95465\" r=\"12.66462\" fill=\"#fff\" />\r\n                <path d=\"M878.81836,716.08691h-338a8.50981,8.50981,0,0,1-8.5-8.5v-405a8.50951,8.50951,0,0,1,8.5-8.5h338a8.50982,8.50982,0,0,1,8.5,8.5v405A8.51013,8.51013,0,0,1,878.81836,716.08691Z\" transform=\"translate(-276.18187 -133.91309)\" fill=\"#e6e6e6\" />\r\n                <path d=\"M723.31813,274.08691h-210.5a17.02411,17.02411,0,0,0-17,17v407.8l2-.61v-407.19a15.01828,15.01828,0,0,1,15-15H723.93825Zm183.5,0h-394a17.02411,17.02411,0,0,0-17,17v458a17.0241,17.0241,0,0,0,17,17h394a17.0241,17.0241,0,0,0,17-17v-458A17.02411,17.02411,0,0,0,906.81813,274.08691Zm15,475a15.01828,15.01828,0,0,1-15,15h-394a15.01828,15.01828,0,0,1-15-15v-458a15.01828,15.01828,0,0,1,15-15h394a15.01828,15.01828,0,0,1,15,15Z\" transform=\"translate(-276.18187 -133.91309)\" fill=\"#3f3d56\" />\r\n                <path d=\"M801.81836,318.08691h-184a9.01015,9.01015,0,0,1-9-9v-44a9.01016,9.01016,0,0,1,9-9h184a9.01016,9.01016,0,0,1,9,9v44A9.01015,9.01015,0,0,1,801.81836,318.08691Z\" transform=\"translate(-276.18187 -133.91309)\" fill={c} />\r\n                <circle cx=\"433.63626\" cy=\"105.17383\" r=\"20\" fill={c} />\r\n                <circle cx=\"433.63626\" cy=\"105.17383\" r=\"12.18187\" fill=\"#fff\" />\r\n            </svg>\r\n        </div >\r\n    )\r\n}","import { IonCard, IonCardSubtitle, IonCol, IonContent, IonItem, IonPage, IonRow, IonText } from '@ionic/react'\r\nimport React from 'react'\r\nimport { IExercise } from '../../data/models/Exercise'\r\nimport { WorkoutExercise } from '../../data/models/Workout'\r\nimport Header from '../Header'\r\nimport './ExerciseHistory.scss'\r\nimport moment from 'moment'\r\nimport NoDataSvg from '../../svg/NoData'\r\ninterface ExerciseHistoryProps {\r\n    exercise: IExercise,\r\n    history: WorkoutExercise[]\r\n    OnBack?: () => void\r\n}\r\nconst ExerciseHistory: React.FC<ExerciseHistoryProps> = (props) => {\r\n    const exercise = props.exercise\r\n    const history = props.history\r\n    return (\r\n        <IonPage>\r\n            <Header backRoute='/exercise-list' titleStyle={{ fontSize: 16 }} title={exercise.exerciseName} onBack={props.OnBack} noborder backButton />\r\n            <IonContent className='exercise-history'>\r\n                {history.length <= 0 ? <div className='centering-box' style={{ width: '100%', height: '100%',flex:1 }}>\r\n                    <NoDataSvg style={{ height: 200 }} />\r\n                    <IonText style={{margin:20}}>No History</IonText>\r\n                </div> :\r\n                    <>\r\n                        {history.map((item) => {\r\n                            return (\r\n                                <IonCard key={item._id} className='card'>\r\n                                    <IonItem lines='full'>\r\n                                        <IonCardSubtitle>{moment.utc(item.timestamp).format('dddd, do MMMM, YYYY, hh:mm A')}</IonCardSubtitle>\r\n                                    </IonItem>\r\n                                    <IonItem lines='none'>\r\n                                        <IonText className='light-text'>Performed Sets</IonText>\r\n                                    </IonItem>\r\n                                    {item.sets.map((set, i) => {\r\n                                        return (\r\n                                            <IonRow key={set._id} >\r\n                                                <IonCol size='1'>{i + 1}</IonCol>\r\n                                                <IonCol size='11'>{item.WorkoutSetToText(set)}</IonCol>\r\n                                            </IonRow>\r\n                                        )\r\n                                    })}\r\n                                </IonCard>\r\n                            )\r\n                        })}\r\n                    </>\r\n                }\r\n            </IonContent>\r\n        </IonPage>\r\n    )\r\n}\r\n\r\nexport default ExerciseHistory","import { IonContent, IonItem, IonPage, IonText } from '@ionic/react'\r\nimport React from 'react'\r\nimport { IExercise } from '../../data/models/Exercise'\r\nimport { WorkoutExercise } from '../../data/models/Workout'\r\nimport Header from '../Header'\r\nimport moment from 'moment'\r\nimport { Unit } from '../../utils/Units'\r\nimport NoDataSvg from '../../svg/NoData'\r\ninterface ExerciseRecordsProps {\r\n    exercise: IExercise\r\n    history: WorkoutExercise[]\r\n    OnBack?: () => void\r\n}\r\nconst ExerciseRecords: React.FC<ExerciseRecordsProps> = (props) => {\r\n    const exercise = props.exercise\r\n    const records = WorkoutExercise.records(exercise, props.history)\r\n    const noData = records.maximums.length <= 0 && records.total.length <= 0\r\n    return (\r\n        <IonPage>\r\n            <Header backRoute='/exercise-list' titleStyle={{ fontSize: 16 }} title={exercise.exerciseName} onBack={props.OnBack} noborder backButton />\r\n            <IonContent>\r\n                {noData ? <div className='centering-box' style={{ width: '100%', height: '100%', flex: 1 }}>\r\n                    <NoDataSvg style={{ height: 200 }} />\r\n                    <IonText style={{ margin: 20 }}>No Records</IonText>\r\n                </div> : <>\r\n                        {records.maximums.length > 0 ?\r\n                            <>\r\n                                <IonItem >\r\n                                    <IonText className='light-text'>Personal Records</IonText>\r\n                                </IonItem>\r\n                                {records.maximums.map((r, i) => {\r\n                                    if (!r) {\r\n                                        return null;\r\n                                    }\r\n                                    return (\r\n                                        <IonItem key={i} lines='none'>\r\n                                            <div>\r\n                                                <IonText>{r.text}</IonText>\r\n                                                <br />\r\n                                                <IonText className='light-text'>{moment.utc(r.timestamp).format('dddd, do MMMM, YYYY, hh:mm A')}</IonText>\r\n                                            </div>\r\n                                            <IonText slot='end'>{r.value} {r.unit ? Unit(r.unit, r.type as 'weight' | 'distance') : ''}</IonText>\r\n                                        </IonItem>\r\n                                    )\r\n                                })}\r\n                            </>\r\n                            : null}\r\n                        {records.total.length > 0 ?\r\n                            <>\r\n                                <IonItem >\r\n                                    <IonText className='light-text'>Lifetime stats</IonText>\r\n                                </IonItem>\r\n                                {records.total.map((r, i) => {\r\n                                    if (!r) {\r\n                                        return null;\r\n                                    }\r\n                                    return (\r\n                                        <IonItem key={i} lines='none'>\r\n                                            <div>\r\n                                                <IonText>{r.text}</IonText>\r\n                                            </div>\r\n                                            <IonText slot='end'>{r.value} {r.unit ? Unit(r.unit, r.type as 'weight' | 'distance') : ''}</IonText>\r\n                                        </IonItem>\r\n                                    )\r\n                                })}\r\n                            </>\r\n                            : null}\r\n                    </>}\r\n            </IonContent>\r\n        </IonPage>\r\n    )\r\n}\r\n\r\nexport default ExerciseRecords","import { IonIcon, IonLabel, IonRouterOutlet, IonTabBar, IonTabButton, IonTabs, useIonRouter } from '@ionic/react'\r\nimport { clipboard, informationCircle, reload, statsChart } from 'ionicons/icons';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Redirect, Route, RouteComponentProps } from 'react-router-dom';\r\nimport ExerciseCharts from '../../components/Exercise/ExerciseCharts';\r\nimport ExerciseHistory from '../../components/Exercise/ExerciseHistory';\r\nimport ExerciseInfo from '../../components/Exercise/ExerciseInfo';\r\nimport ExerciseRecords from '../../components/Exercise/ExerciseRecords';\r\nimport Loading from '../../components/Loading';\r\nimport {  ExerciseData, IExercise } from '../../data/models/Exercise';\r\nimport { WorkoutExercise } from '../../data/models/Workout';\r\n\r\ninterface ExerciseInfoTabsProps extends RouteComponentProps<{ id: string }> {\r\n\r\n}\r\n\r\nconst ExerciseInfoTabs: React.FC<ExerciseInfoTabsProps> = (props) => {\r\n    let id = props.match.params.id\r\n    const [exercise, SetExercise] = useState<IExercise | undefined>(undefined);\r\n    const [history, SetHistory] = useState<WorkoutExercise[]>([]);\r\n    const router = useIonRouter()\r\n    const noAbout = exercise?.mediaType == '' && (!exercise.instructions || exercise.instructions?.length <= 0)\r\n    useEffect(() => {\r\n        let id = props.match.params.id\r\n        let ex = ExerciseData.map[id]\r\n        if (ex) {\r\n            WorkoutExercise.history(ex).then((exercises) => {\r\n                SetHistory(exercises)\r\n            }).finally(() => {\r\n                SetExercise(ex)\r\n            })\r\n\r\n        } else {\r\n            router.goBack()\r\n        }\r\n    }, [])\r\n    if (!exercise) {\r\n        return (\r\n            <Loading />\r\n        )\r\n    }\r\n    return (\r\n        <IonTabs>\r\n            <IonRouterOutlet>\r\n                <Route exact path='/exercise-info/:id/about' render={(props) => noAbout ? null : <ExerciseInfo {...props} exercise={exercise} />} />\r\n                <Route exact path='/exercise-info/:id/history' render={(props) => <ExerciseHistory {...props} exercise={exercise} history={history} />} />\r\n                <Route exact path='/exercise-info/:id/charts' render={(props) => <ExerciseCharts {...props} exercise={exercise} history={history}/>} />\r\n                <Route exact path='/exercise-info/:id/records' render={(props) => <ExerciseRecords {...props} exercise={exercise} history={history} />} />\r\n                <Route exact path='/exercise-info/:id'>\r\n                    {noAbout ? <Redirect to={`/exercise-info/${id}/history`} /> : <Redirect to={`/exercise-info/${id}/about`} />}\r\n                </Route>\r\n            </IonRouterOutlet>\r\n            <IonTabBar slot='bottom'>\r\n                {noAbout ? null : <IonTabButton tab='about' href={`/exercise-info/${id}/about`}>\r\n                    <IonIcon icon={informationCircle} />\r\n                    <IonLabel>About</IonLabel>\r\n                </IonTabButton>}\r\n                <IonTabButton tab='history' href={`/exercise-info/${id}/history`}>\r\n                    <IonIcon icon={reload} />\r\n                    <IonLabel>History</IonLabel>\r\n                </IonTabButton>\r\n                <IonTabButton tab='charts' href={`/exercise-info/${id}/charts`}>\r\n                    <IonIcon icon={statsChart} />\r\n                    <IonLabel>Charts</IonLabel>\r\n                </IonTabButton>\r\n                <IonTabButton tab='records' href={`/exercise-info/${id}/records`}>\r\n                    <IonIcon icon={clipboard} />\r\n                    <IonLabel>Records</IonLabel>\r\n                </IonTabButton>\r\n            </IonTabBar>\r\n        </IonTabs>\r\n    )\r\n}\r\n\r\nexport default ExerciseInfoTabs;","import { Redirect, Route } from 'react-router-dom';\nimport { IonApp, IonRouterOutlet } from '@ionic/react';\nimport { IonReactRouter } from '@ionic/react-router';\nimport Home from './pages/Main';\n\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css';\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n\n/* Optional CSS utils that can be commented out */\nimport '@ionic/react/css/padding.css';\nimport '@ionic/react/css/float-elements.css';\nimport '@ionic/react/css/text-alignment.css';\nimport '@ionic/react/css/text-transformation.css';\nimport '@ionic/react/css/flex-utils.css';\nimport '@ionic/react/css/display.css';\n\n/* Theme variables */\nimport './theme/variables.css';\nimport './theme/app.scss';\nimport Drawer from './components/Drawer';\nimport WorkoutModal from './pages/WorkoutPage';\nimport ExerciseSelectModal from './modals/ExercisesSelectModal';\nimport AlertBox from './modals/Alert';\nimport { useEffect } from 'react';\nimport { InitDatabase } from './Database';\nimport PickerBox from './components/Picker';\nimport SettingsPage from './pages/Settings';\nimport { InitSettings } from './pages/Settings/hook';\nimport RestTimerModal from './pages/RestTimer';\nimport WorkoutTemplatePage from './pages/WorkoutTemplate';\nimport WorkoutInfoPage from './pages/WorkoutInfoPage'\nimport Toast from './modals/Toast';\nimport Loader from './modals/Loader';\nimport EditWorkoutPage from './pages/WorkoutPage/EditWorkoutPage';\nimport ExerciseList from './components/Exercise/ExerciseList';\nimport WorkoutTemplateInfoPage from './pages/Wokout/WorkoutTemplateInfoPage';\nimport ExerciseInfoTabs from './pages/Exercise/ExerciseInfoTabs';\nimport ExerciseInfoModal from './modals/ExerciseInfoModal';\nimport Exercise from './data/models/Exercise';\nimport Sound from './utils/Sound';\n\n\nconst App: React.FC = () => {\n  useEffect(() => {\n    InitializedApp()\n  }, [])\n  return (\n    <IonApp>\n      <IonReactRouter>\n        <IonRouterOutlet>\n          <Route path=\"/main\">\n            <Home />\n          </Route>\n          <Route exact path='/workout-page'>\n            <WorkoutModal />\n          </Route>\n          <Route exact path='/workout/:id' render={(props) => <WorkoutInfoPage {...props} />} />\n          <Route exact path='/workout'>\n            <Redirect to='/main' />\n          </Route>\n          <Route exact path='/workout/edit/:id' render={(props) => <EditWorkoutPage {...props} />} />\n          <Route exact path='/workout/edit'>\n            <Redirect to='/main' />\n          </Route>\n          <Route exact path='/create-workout-template' render={(props) => <WorkoutTemplatePage {...props} />} />\n          <Route exact path='/wokout-template/:id' render={(props) => <WorkoutTemplateInfoPage {...props} />} />\n          <Route exact path='/workout-template/edit/:id' render={(props) => <WorkoutTemplatePage {...props} />} />\n          <Route exact path='/exercise-list'>\n            <ExerciseList asModal={false} />\n          </Route>\n          <Route path='/exercise-info/:id' render={(props) => <ExerciseInfoTabs {...props} />} />\n          <Route exact path='/settings'>\n            <SettingsPage />\n          </Route>\n          <Route exact path='/'>\n            <Redirect to='/main' />\n          </Route>\n        </IonRouterOutlet>\n      </IonReactRouter>\n      <ExerciseInfoModal ref={ref => ExerciseInfoModal.ref = ref} />\n      <ExerciseSelectModal ref={(ref) => ExerciseSelectModal.ref = ref} />\n      <RestTimerModal ref={(ref) => RestTimerModal.ref = ref} />\n      <PickerBox ref={ref => PickerBox.ref = ref} />\n      <AlertBox ref={ref => AlertBox.ref = ref} />\n      <Toast ref={ref => Toast.ref = ref} />\n      <Loader ref={ref => Loader.ref = ref} />\n    </IonApp>\n\n  )\n};\n\nexport default App;\n\nasync function InitializedApp() {\n  await InitDatabase();\n  await InitSettings();\n  await Exercise.LoadAll()\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","//@ts-nocheck\r\nString.prototype.formatToTime = function formatToTime() {\r\n    return this.valueOf().replace(/\\B(?=(\\d{2})+(?!\\d))/g, \":\").substr(0, 7)\r\n}\r\nNumber.prototype.toHHMMSS = function () {\r\n    var seconds = Math.floor(this.valueOf())\r\n    let hours = Math.floor(seconds / 3600);\r\n    seconds -= hours * 3600;\r\n    var minutes = Math.floor(seconds / 60);\r\n    seconds -= minutes * 60;\r\n\r\n    if (hours < 10) { hours = \"0\" + hours; }\r\n    if (minutes < 10) { minutes = \"0\" + minutes; }\r\n    if (seconds < 10) { seconds = \"0\" + seconds; }\r\n    return hours + ':' + minutes + ':' + seconds;\r\n}\r\nexport { }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\nimport './polyfill'\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}